"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[292],{3391:(e,t,r)=>{r.d(t,{R:()=>n,m:()=>s});const n={name:"texture-bit",vertex:{header:"\n\n        struct TextureUniforms {\n            uTextureMatrix:mat3x3<f32>,\n        }\n\n        @group(2) @binding(2) var<uniform> textureUniforms : TextureUniforms;\n        ",main:"\n            uv = (textureUniforms.uTextureMatrix * vec3(uv, 1.0)).xy;\n        "},fragment:{header:"\n            @group(2) @binding(0) var uTexture: texture_2d<f32>;\n            @group(2) @binding(1) var uSampler: sampler;\n\n         \n        ",main:"\n            outColor = textureSample(uTexture, uSampler, vUV);\n        "}},s={name:"texture-bit",vertex:{header:"\n            uniform mat3 uTextureMatrix;\n        ",main:"\n            uv = (uTextureMatrix * vec3(uv, 1.0)).xy;\n        "},fragment:{header:"\n        uniform sampler2D uTexture;\n\n         \n        ",main:"\n            outColor = texture(uTexture, vUV);\n        "}}},7084:(e,t,r)=>{r.d(t,{q:()=>a});var n=r(268),s=r(8306);function a(e,t){for(const r in e.attributes){const s=e.attributes[r],a=t[r];a?(s.format??(s.format=a.format),s.offset??(s.offset=a.offset),s.instance??(s.instance=a.instance)):(0,n.R)(`Attribute ${r} is not present in the shader, but is present in the geometry. Unable to infer attribute details.`)}!function(e){const{buffers:t,attributes:r}=e,n={},a={};for(const e in t){const r=t[e];n[r.uid]=0,a[r.uid]=0}for(const e in r){const t=r[e];n[t.buffer.uid]+=(0,s.m)(t.format).stride}for(const e in r){const t=r[e];t.stride??(t.stride=n[t.buffer.uid]),t.start??(t.start=a[t.buffer.uid]),a[t.buffer.uid]+=(0,s.m)(t.format).stride}}(e)}},1172:(e,t,r)=>{r.d(t,{g:()=>s});var n=r(1957);const s=[];s[n.K.NONE]=void 0,s[n.K.DISABLED]={stencilWriteMask:0,stencilReadMask:0},s[n.K.RENDERING_MASK_ADD]={stencilFront:{compare:"equal",passOp:"increment-clamp"},stencilBack:{compare:"equal",passOp:"increment-clamp"}},s[n.K.RENDERING_MASK_REMOVE]={stencilFront:{compare:"equal",passOp:"decrement-clamp"},stencilBack:{compare:"equal",passOp:"decrement-clamp"}},s[n.K.MASK_ACTIVE]={stencilWriteMask:0,stencilFront:{compare:"equal",passOp:"keep"},stencilBack:{compare:"equal",passOp:"keep"}},s[n.K.INVERSE_MASK_ACTIVE]={stencilWriteMask:0,stencilFront:{compare:"not-equal",passOp:"replace"},stencilBack:{compare:"not-equal",passOp:"replace"}}},581:(e,t,r)=>{r.d(t,{d:()=>a});var n=r(4486),s=r(133);class a extends n.A{constructor({buffer:e,offset:t,size:r}){super(),this.uid=(0,s.L)("buffer"),this._resourceType="bufferResource",this._touched=0,this._resourceId=(0,s.L)("resource"),this._bufferResource=!0,this.destroyed=!1,this.buffer=e,this.offset=0|t,this.size=r,this.buffer.on("change",this.onBufferChange,this)}onBufferChange(){this._resourceId=(0,s.L)("resource"),this.emit("change",this)}destroy(e=!1){this.destroyed=!0,e&&this.buffer.destroy(),this.emit("change",this),this.buffer=null}}},279:(e,t,r)=>{r.d(t,{O:()=>o});var n=r(133),s=r(1285),a=r(4492);const i=class e{constructor(t={}){if(this.uid=(0,n.L)("renderTarget"),this.colorTextures=[],this.dirtyId=0,this.isRoot=!1,this._size=new Float32Array(2),this._managedColorTextures=!1,t={...e.defaultOptions,...t},this.stencil=t.stencil,this.depth=t.depth,this.isRoot=t.isRoot,"number"==typeof t.colorTextures){this._managedColorTextures=!0;for(let e=0;e<t.colorTextures;e++)this.colorTextures.push(new s.v({width:t.width,height:t.height,resolution:t.resolution,antialias:t.antialias}))}else{this.colorTextures=[...t.colorTextures.map((e=>e.source))];const e=this.colorTexture.source;this.resize(e.width,e.height,e._resolution)}this.colorTexture.source.on("resize",this.onSourceResize,this),(t.depthStencilTexture||this.stencil)&&(t.depthStencilTexture instanceof a.g||t.depthStencilTexture instanceof s.v?this.depthStencilTexture=t.depthStencilTexture.source:this.ensureDepthStencilTexture())}get size(){const e=this._size;return e[0]=this.pixelWidth,e[1]=this.pixelHeight,e}get width(){return this.colorTexture.source.width}get height(){return this.colorTexture.source.height}get pixelWidth(){return this.colorTexture.source.pixelWidth}get pixelHeight(){return this.colorTexture.source.pixelHeight}get resolution(){return this.colorTexture.source._resolution}get colorTexture(){return this.colorTextures[0]}onSourceResize(e){this.resize(e.width,e.height,e._resolution,!0)}ensureDepthStencilTexture(){this.depthStencilTexture||(this.depthStencilTexture=new s.v({width:this.width,height:this.height,resolution:this.resolution,format:"depth24plus-stencil8",autoGenerateMipmaps:!1,antialias:!1,mipLevelCount:1}))}resize(e,t,r=this.resolution,n=!1){this.dirtyId++,this.colorTextures.forEach(((s,a)=>{n&&0===a||s.source.resize(e,t,r)})),this.depthStencilTexture&&this.depthStencilTexture.source.resize(e,t,r)}destroy(){this.colorTexture.source.off("resize",this.onSourceResize,this),this._managedColorTextures&&this.colorTextures.forEach((e=>{e.destroy()})),this.depthStencilTexture&&(this.depthStencilTexture.destroy(),delete this.depthStencilTexture)}};i.defaultOptions={width:0,height:0,resolution:1,colorTextures:1,stencil:!1,depth:!1,antialias:!1,isRoot:!1};let o=i},7238:(e,t,r)=>{r.d(t,{l:()=>h});var n=r(9313),s=r(9252),a=r(1257),i=r(7729),o=r(4884),d=r(1285),u=r(4492),l=r(8725),c=r(279);class h{constructor(e){this.rootViewPort=new s.M,this.viewport=new s.M,this.onRenderTargetChange=new i.C("onRenderTargetChange"),this.projectionMatrix=new n.u,this.defaultClearColor=[0,0,0,0],this._renderSurfaceToRenderTargetHash=new Map,this._gpuRenderTargetHash=Object.create(null),this._renderTargetStack=[],this._renderer=e,e.renderableGC.addManagedHash(this,"_gpuRenderTargetHash")}finishRenderPass(){this.adaptor.finishRenderPass(this.renderTarget)}renderStart({target:e,clear:t,clearColor:r,frame:n}){this._renderTargetStack.length=0,this.push(e,t,r,n),this.rootViewPort.copyFrom(this.viewport),this.rootRenderTarget=this.renderTarget,this.renderingToScreen=function(e){const t=e.colorTexture.source.resource;return globalThis.HTMLCanvasElement&&t instanceof HTMLCanvasElement&&document.body.contains(t)}(this.rootRenderTarget),this.adaptor.prerender?.(this.rootRenderTarget)}postrender(){this.adaptor.postrender?.(this.rootRenderTarget)}bind(e,t=!0,r,n){const s=this.getRenderTarget(e),a=this.renderTarget!==s;this.renderTarget=s,this.renderSurface=e;const i=this.getGpuRenderTarget(s);s.pixelWidth===i.width&&s.pixelHeight===i.height||(this.adaptor.resizeGpuRenderTarget(s),i.width=s.pixelWidth,i.height=s.pixelHeight);const o=s.colorTexture,d=this.viewport,l=o.pixelWidth,c=o.pixelHeight;if(!n&&e instanceof u.g&&(n=e.frame),n){const e=o._resolution;d.x=n.x*e+.5|0,d.y=n.y*e+.5|0,d.width=n.width*e+.5|0,d.height=n.height*e+.5|0}else d.x=0,d.y=0,d.width=l,d.height=c;return function(e,t,r,n,s,a){const i=a?1:-1;e.identity(),e.a=1/n*2,e.d=i*(1/s*2),e.tx=-1-0*e.a,e.ty=-i-0*e.d}(this.projectionMatrix,0,0,d.width/o.resolution,d.height/o.resolution,!s.isRoot),this.adaptor.startRenderPass(s,t,r,d),a&&this.onRenderTargetChange.emit(s),s}clear(e,t=a.u.ALL,r){t&&(e&&(e=this.getRenderTarget(e)),this.adaptor.clear(e||this.renderTarget,t,r,this.viewport))}contextChange(){this._gpuRenderTargetHash=Object.create(null)}push(e,t=a.u.ALL,r,n){const s=this.bind(e,t,r,n);return this._renderTargetStack.push({renderTarget:s,frame:n}),s}pop(){this._renderTargetStack.pop();const e=this._renderTargetStack[this._renderTargetStack.length-1];this.bind(e.renderTarget,!1,null,e.frame)}getRenderTarget(e){return e.isTexture&&(e=e.source),this._renderSurfaceToRenderTargetHash.get(e)??this._initRenderTarget(e)}copyToTexture(e,t,r,n,s){r.x<0&&(n.width+=r.x,s.x-=r.x,r.x=0),r.y<0&&(n.height+=r.y,s.y-=r.y,r.y=0);const{pixelWidth:a,pixelHeight:i}=e;return n.width=Math.min(n.width,a-r.x),n.height=Math.min(n.height,i-r.y),this.adaptor.copyToTexture(e,t,r,n,s)}ensureDepthStencil(){this.renderTarget.stencil||(this.renderTarget.stencil=!0,this.adaptor.startRenderPass(this.renderTarget,!1,null,this.viewport))}destroy(){this._renderer=null,this._renderSurfaceToRenderTargetHash.forEach(((e,t)=>{e!==t&&e.destroy()})),this._renderSurfaceToRenderTargetHash.clear(),this._gpuRenderTargetHash=Object.create(null)}_initRenderTarget(e){let t=null;return o.q.test(e)&&(e=(0,l.c)(e).source),e instanceof c.O?t=e:e instanceof d.v&&(t=new c.O({colorTextures:[e]}),o.q.test(e.source.resource)&&(t.isRoot=!0),e.once("destroy",(()=>{t.destroy(),this._renderSurfaceToRenderTargetHash.delete(e);const r=this._gpuRenderTargetHash[t.uid];r&&(this._gpuRenderTargetHash[t.uid]=null,this.adaptor.destroyGpuRenderTarget(r))}))),this._renderSurfaceToRenderTargetHash.set(e,t),t}getGpuRenderTarget(e){return this._gpuRenderTargetHash[e.uid]||(this._gpuRenderTargetHash[e.uid]=this.adaptor.initGpuRenderTarget(e))}}},7047:(e,t,r)=>{r.d(t,{W:()=>i});var n=r(4577),s=r(949),a=r(1132);class i{constructor(e){this._syncFunctionHash=Object.create(null),this._adaptor=e,this._systemCheck()}_systemCheck(){if(!(0,n.f)())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}ensureUniformGroup(e){const t=this.getUniformGroupData(e);e.buffer||(e.buffer=new s.h({data:new Float32Array(t.layout.size/4),usage:a.S.UNIFORM|a.S.COPY_DST}))}getUniformGroupData(e){return this._syncFunctionHash[e._signature]||this._initUniformGroup(e)}_initUniformGroup(e){const t=e._signature;let r=this._syncFunctionHash[t];if(!r){const n=Object.keys(e.uniformStructures).map((t=>e.uniformStructures[t])),s=this._adaptor.createUboElements(n),a=this._generateUboSync(s.uboElements);r=this._syncFunctionHash[t]={layout:s,syncFunction:a}}return this._syncFunctionHash[t]}_generateUboSync(e){return this._adaptor.generateUboSync(e)}syncUniformGroup(e,t,r){const n=this.getUniformGroupData(e);e.buffer||(e.buffer=new s.h({data:new Float32Array(n.layout.size/4),usage:a.S.UNIFORM|a.S.COPY_DST}));let i=null;return t||(t=e.buffer.data,i=e.buffer.dataInt32),r||(r=0),n.syncFunction(e.uniforms,t,i,r),!0}updateUniformGroup(e){if(e.isStatic&&!e._dirtyId)return!1;e._dirtyId=0;const t=this.syncUniformGroup(e);return e.buffer.update(),t}destroy(){this._syncFunctionHash=null}}},6423:(e,t,r)=>{r.d(t,{E:()=>s});var n=r(8166);function s(e,t,r,s){const a=["\n        var v = null;\n        var v2 = null;\n        var t = 0;\n        var index = 0;\n        var name = null;\n        var arrayOffset = null;\n    "];let i=0;for(let o=0;o<e.length;o++){const d=e[o],u=d.data.name;let l=!1,c=0;for(let e=0;e<n.$.length;e++)if(n.$[e].test(d.data)){c=d.offset/4,a.push(`name = "${u}";`,`offset += ${c-i};`,n.$[e][t]||n.$[e].ubo),l=!0;break}if(!l)if(d.data.size>1)c=d.offset/4,a.push(r(d,c-i));else{const e=s[d.data.type];c=d.offset/4,a.push(`\n                    v = uv.${u};\n                    offset += ${c-i};\n                    ${e};\n                `)}i=c}const o=a.join("\n");return new Function("uv","data","dataInt32","offset",o)}},1266:(e,t,r)=>{function n(e,t){return`\n        for (let i = 0; i < ${e*t}; i++) {\n            data[offset + (((i / ${e})|0) * 4) + (i % ${e})] = v[i];\n        }\n    `}r.d(t,{_:()=>a,g:()=>s});const s={f32:"\n        data[offset] = v;",i32:"\n        dataInt32[offset] = v;","vec2<f32>":"\n        data[offset] = v[0];\n        data[offset + 1] = v[1];","vec3<f32>":"\n        data[offset] = v[0];\n        data[offset + 1] = v[1];\n        data[offset + 2] = v[2];","vec4<f32>":"\n        data[offset] = v[0];\n        data[offset + 1] = v[1];\n        data[offset + 2] = v[2];\n        data[offset + 3] = v[3];","vec2<i32>":"\n        dataInt32[offset] = v[0];\n        dataInt32[offset + 1] = v[1];","vec3<i32>":"\n        dataInt32[offset] = v[0];\n        dataInt32[offset + 1] = v[1];\n        dataInt32[offset + 2] = v[2];","vec4<i32>":"\n        dataInt32[offset] = v[0];\n        dataInt32[offset + 1] = v[1];\n        dataInt32[offset + 2] = v[2];\n        dataInt32[offset + 3] = v[3];","mat2x2<f32>":"\n        data[offset] = v[0];\n        data[offset + 1] = v[1];\n        data[offset + 4] = v[2];\n        data[offset + 5] = v[3];","mat3x3<f32>":"\n        data[offset] = v[0];\n        data[offset + 1] = v[1];\n        data[offset + 2] = v[2];\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];","mat4x4<f32>":"\n        for (let i = 0; i < 16; i++) {\n            data[offset + i] = v[i];\n        }","mat3x2<f32>":n(3,2),"mat4x2<f32>":n(4,2),"mat2x3<f32>":n(2,3),"mat4x3<f32>":n(4,3),"mat2x4<f32>":n(2,4),"mat3x4<f32>":n(3,4)},a={...s,"mat2x2<f32>":"\n        data[offset] = v[0];\n        data[offset + 1] = v[1];\n        data[offset + 2] = v[2];\n        data[offset + 3] = v[3];\n    "}},8166:(e,t,r)=>{r.d(t,{$:()=>n});const n=[{type:"mat3x3<f32>",test:e=>void 0!==e.value.a,ubo:"\n            var matrix = uv[name].toArray(true);\n            data[offset] = matrix[0];\n            data[offset + 1] = matrix[1];\n            data[offset + 2] = matrix[2];\n            data[offset + 4] = matrix[3];\n            data[offset + 5] = matrix[4];\n            data[offset + 6] = matrix[5];\n            data[offset + 8] = matrix[6];\n            data[offset + 9] = matrix[7];\n            data[offset + 10] = matrix[8];\n        ",uniform:"\n            gl.uniformMatrix3fv(ud[name].location, false, uv[name].toArray(true));\n        "},{type:"vec4<f32>",test:e=>"vec4<f32>"===e.type&&1===e.size&&void 0!==e.value.width,ubo:"\n            v = uv[name];\n            data[offset] = v.x;\n            data[offset + 1] = v.y;\n            data[offset + 2] = v.width;\n            data[offset + 3] = v.height;\n        ",uniform:"\n            cv = ud[name].value;\n            v = uv[name];\n            if (cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height) {\n                cv[0] = v.x;\n                cv[1] = v.y;\n                cv[2] = v.width;\n                cv[3] = v.height;\n                gl.uniform4f(ud[name].location, v.x, v.y, v.width, v.height);\n            }\n        "},{type:"vec2<f32>",test:e=>"vec2<f32>"===e.type&&1===e.size&&void 0!==e.value.x,ubo:"\n            v = uv[name];\n            data[offset] = v.x;\n            data[offset + 1] = v.y;\n        ",uniform:"\n            cv = ud[name].value;\n            v = uv[name];\n            if (cv[0] !== v.x || cv[1] !== v.y) {\n                cv[0] = v.x;\n                cv[1] = v.y;\n                gl.uniform2f(ud[name].location, v.x, v.y);\n            }\n        "},{type:"vec4<f32>",test:e=>"vec4<f32>"===e.type&&1===e.size&&void 0!==e.value.red,ubo:"\n            v = uv[name];\n            data[offset] = v.red;\n            data[offset + 1] = v.green;\n            data[offset + 2] = v.blue;\n            data[offset + 3] = v.alpha;\n        ",uniform:"\n            cv = ud[name].value;\n            v = uv[name];\n            if (cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha) {\n                cv[0] = v.red;\n                cv[1] = v.green;\n                cv[2] = v.blue;\n                cv[3] = v.alpha;\n                gl.uniform4f(ud[name].location, v.red, v.green, v.blue, v.alpha);\n            }\n        "},{type:"vec3<f32>",test:e=>"vec3<f32>"===e.type&&1===e.size&&void 0!==e.value.red,ubo:"\n            v = uv[name];\n            data[offset] = v.red;\n            data[offset + 1] = v.green;\n            data[offset + 2] = v.blue;\n        ",uniform:"\n            cv = ud[name].value;\n            v = uv[name];\n            if (cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue) {\n                cv[0] = v.red;\n                cv[1] = v.green;\n                cv[2] = v.blue;\n                gl.uniform3f(ud[name].location, v.red, v.green, v.blue);\n            }\n        "}]},3996:(e,t,r)=>{r.d(t,{f:()=>De,i:()=>Ee});var n=r(8507);class s{constructor(e){this._renderer=e}updateRenderable(){}destroyRenderable(){}validateRenderable(){return!1}addRenderable(e,t){this._renderer.renderPipes.batch.break(t),t.add(e)}execute(e){e.isRenderable&&e.render(this._renderer)}destroy(){this._renderer=null}}s.extension={type:[n.Ag.WebGLPipes,n.Ag.WebGPUPipes,n.Ag.CanvasPipes],name:"customRender"};var a=r(9313),i=r(8218),o=r(8422);function d(e,t){const r=e.instructionSet,n=r.instructions;for(let e=0;e<r.instructionSize;e++){const r=n[e];t[r.renderPipeId].execute(r)}}const u=new a.u;class l{constructor(e){this._renderer=e}addRenderGroup(e,t){e.isCachedAsTexture?this._addRenderableCacheAsTexture(e,t):this._addRenderableDirect(e,t)}execute(e){e.isRenderable&&(e.isCachedAsTexture?this._executeCacheAsTexture(e):this._executeDirect(e))}destroy(){this._renderer=null}_addRenderableDirect(e,t){this._renderer.renderPipes.batch.break(t),e._batchableRenderGroup&&(i.Z.return(e._batchableRenderGroup),e._batchableRenderGroup=null),t.add(e)}_addRenderableCacheAsTexture(e,t){const r=e._batchableRenderGroup??(e._batchableRenderGroup=i.Z.get(o.K));r.renderable=e.root,r.transform=e.root.relativeGroupTransform,r.texture=e.texture,r.bounds=e._textureBounds,t.add(e),this._renderer.renderPipes.batch.addToBatch(r,t)}_executeCacheAsTexture(e){if(e.textureNeedsUpdate){e.textureNeedsUpdate=!1;const t=u.identity().translate(-e._textureBounds.x,-e._textureBounds.y);this._renderer.renderTarget.push(e.texture,!0,null,e.texture.frame),this._renderer.globalUniforms.push({worldTransformMatrix:t,worldColor:4294967295}),d(e,this._renderer.renderPipes),this._renderer.renderTarget.finishRenderPass(),this._renderer.renderTarget.pop(),this._renderer.globalUniforms.pop()}e._batchableRenderGroup._batcher.updateElement(e._batchableRenderGroup),e._batchableRenderGroup._batcher.geometry.buffers[0].update()}_executeDirect(e){this._renderer.globalUniforms.push({worldTransformMatrix:e.inverseParentTextureTransform,worldColor:e.worldColorAlpha}),d(e,this._renderer.renderPipes),this._renderer.globalUniforms.pop()}}l.extension={type:[n.Ag.WebGLPipes,n.Ag.WebGPUPipes,n.Ag.CanvasPipes],name:"renderGroup"};var c=r(2437),h=r(9636);function p(e,t,r){const n=r.renderPipes?r:r.batch.renderer;e.globalDisplayStatus<7||!e.includeInBuild||(e.sortableChildren&&e.sortChildren(),e.isSimple?function(e,t,r){if(e.renderPipeId){const n=e,{renderPipes:s,renderableGC:a}=r;s.blendMode.setBlendMode(n,e.groupBlendMode,t),s[n.renderPipeId].addRenderable(n,t),a.addRenderable(n),n.didViewUpdate=!1}if(!e.renderGroup){const n=e.children,s=n.length;for(let e=0;e<s;e++)p(n[e],t,r)}}(e,t,n):f(e,t,n,!1))}function f(e,t,r,n){const{renderPipes:s,renderableGC:a}=r;if(!n&&e.renderGroup)s.renderGroup.addRenderGroup(e.renderGroup,t);else{for(let r=0;r<e.effects.length;r++){const n=e.effects[r];s[n.pipe].push(n,e,t)}const n=e,i=n.renderPipeId;i&&(s.blendMode.setBlendMode(n,n.groupBlendMode,t),s[i].addRenderable(n,t),a.addRenderable(n),n.didViewUpdate=!1);const o=e.children;if(o.length)for(let e=0;e<o.length;e++)p(o[e],t,r);for(let r=e.effects.length-1;r>=0;r--){const n=e.effects[r];s[n.pipe].pop(n,e,t)}}}function g(e,t){t||(t=0);for(let r=t;r<e.length&&e[r];r++)e[r]=null}var m=r(5819),v=r(753);const _=new m.mc,x=m.fR|m.ig|m.u;function b(e,t=!1){!function(e){const t=e.root;let r;if(e.renderGroupParent){const n=e.renderGroupParent;e.worldTransform.appendFrom(t.relativeGroupTransform,n.worldTransform),e.worldColor=(0,v.j)(t.groupColor,n.worldColor),r=t.groupAlpha*n.worldAlpha}else e.worldTransform.copyFrom(t.localTransform),e.worldColor=t.localColor,r=t.localAlpha;r=r<0?0:r>1?1:r,e.worldAlpha=r,e.worldColorAlpha=e.worldColor+(255*r<<24)}(e);const r=e.childrenToUpdate,n=e.updateTick++;for(const t in r){const s=Number(t),a=r[t],i=a.list,o=a.index;for(let t=0;t<o;t++){const r=i[t];r.parentRenderGroup===e&&r.relativeRenderGroupDepth===s&&T(r,n,0)}g(i,o),a.index=0}if(t)for(let r=0;r<e.renderGroupChildren.length;r++)b(e.renderGroupChildren[r],t)}function T(e,t,r){if(t===e.updateTick)return;e.updateTick=t,e.didChange=!1;const n=e.localTransform;e.updateLocalTransform();const s=e.parent;if(s&&!s.renderGroup?(r|=e._updateFlags,e.relativeGroupTransform.appendFrom(n,s.relativeGroupTransform),r&x&&y(e,s,r)):(r=e._updateFlags,e.relativeGroupTransform.copyFrom(n),r&x&&y(e,_,r)),!e.renderGroup){const n=e.children,s=n.length;for(let e=0;e<s;e++)T(n[e],t,r);const a=e.parentRenderGroup,i=e;i.renderPipeId&&!a.structureDidChange&&a.updateRenderable(i)}}function y(e,t,r){if(r&m.ig){e.groupColor=(0,v.j)(e.localColor,t.groupColor);let r=e.localAlpha*t.groupAlpha;r=r<0?0:r>1?1:r,e.groupAlpha=r,e.groupColorAlpha=e.groupColor+(255*r<<24)}r&m.u&&(e.groupBlendMode="inherit"===e.localBlendMode?t.groupBlendMode:e.localBlendMode),r&m.fR&&(e.globalDisplayStatus=e.localDisplayStatus&t.globalDisplayStatus),e._updateFlags=0}const k=new a.u;class C{constructor(e){this._renderer=e}render({container:e,transform:t}){const r=e.parent,n=e.renderGroup.renderGroupParent;e.parent=null,e.renderGroup.renderGroupParent=null;const s=this._renderer;let a=k;t&&(a=a.copyFrom(e.renderGroup.localTransform),e.renderGroup.localTransform.copyFrom(t));const i=s.renderPipes;this._updateCachedRenderGroups(e.renderGroup,null),this._updateRenderGroups(e.renderGroup),s.globalUniforms.start({worldTransformMatrix:t?e.renderGroup.localTransform:e.renderGroup.worldTransform,worldColor:e.renderGroup.worldColorAlpha}),d(e.renderGroup,i),i.uniformBatch&&i.uniformBatch.renderEnd(),t&&e.renderGroup.localTransform.copyFrom(a),e.parent=r,e.renderGroup.renderGroupParent=n}destroy(){this._renderer=null}_updateCachedRenderGroups(e,t){if(e.isCachedAsTexture){if(!e.updateCacheTexture)return;t=e}e._parentCacheAsTextureRenderGroup=t;for(let r=e.renderGroupChildren.length-1;r>=0;r--)this._updateCachedRenderGroups(e.renderGroupChildren[r],t);if(e.invalidateMatrices(),e.isCachedAsTexture){if(e.textureNeedsUpdate){const t=e.root.getLocalBounds();t.ceil();const r=e.texture;e.texture&&c.W.returnTexture(e.texture);const n=this._renderer,s=e.textureOptions.resolution||n.view.resolution,a=e.textureOptions.antialias??n.view.antialias;e.texture=c.W.getOptimalTexture(t.width,t.height,s,a),e._textureBounds||(e._textureBounds=new h.c),e._textureBounds.copyFrom(t),r!==e.texture&&e.renderGroupParent&&(e.renderGroupParent.structureDidChange=!0)}}else e.texture&&(c.W.returnTexture(e.texture),e.texture=null)}_updateRenderGroups(e){const t=this._renderer,r=t.renderPipes;if(e.runOnRender(),e.instructionSet.renderPipes=r,e.structureDidChange?g(e.childrenRenderablesToUpdate.list,0):function(e,t){const{list:r,index:n}=e.childrenRenderablesToUpdate;let s=!1;for(let e=0;e<n;e++){const n=r[e];if(s=t[n.renderPipeId].validateRenderable(n),s)break}e.structureDidChange=s}(e,r),b(e),e.structureDidChange?(e.structureDidChange=!1,function(e,t){const r=e.root,n=e.instructionSet;n.reset();const s=t.renderPipes?t:t.batch.renderer,a=s.renderPipes;a.batch.buildStart(n),a.blendMode.buildStart(),a.colorMask.buildStart(),r.sortableChildren&&r.sortChildren(),f(r,n,s,!0),a.batch.buildEnd(n),a.blendMode.buildEnd(n)}(e,t)):this._updateRenderables(e),e.childrenRenderablesToUpdate.index=0,t.renderPipes.batch.upload(e.instructionSet),!e.isCachedAsTexture||e.textureNeedsUpdate)for(let t=0;t<e.renderGroupChildren.length;t++)this._updateRenderGroups(e.renderGroupChildren[t])}_updateRenderables(e){const{list:t,index:r}=e.childrenRenderablesToUpdate;for(let n=0;n<r;n++){const r=t[n];r.didViewUpdate&&e.updateRenderable(r)}g(t,r)}}C.extension={type:[n.Ag.WebGLSystem,n.Ag.WebGPUSystem,n.Ag.CanvasSystem],name:"renderGroup"};class M{constructor(e){this._gpuSpriteHash=Object.create(null),this._destroyRenderableBound=this.destroyRenderable.bind(this),this._renderer=e,this._renderer.renderableGC.addManagedHash(this,"_gpuSpriteHash")}addRenderable(e,t){const r=this._getGpuSprite(e);e.didViewUpdate&&this._updateBatchableSprite(e,r),this._renderer.renderPipes.batch.addToBatch(r,t)}updateRenderable(e){const t=this._gpuSpriteHash[e.uid];e.didViewUpdate&&this._updateBatchableSprite(e,t),t._batcher.updateElement(t)}validateRenderable(e){const t=this._getGpuSprite(e);return!t._batcher.checkAndUpdateTexture(t,e._texture)}destroyRenderable(e){const t=this._gpuSpriteHash[e.uid];i.Z.return(t),this._gpuSpriteHash[e.uid]=null,e.off("destroyed",this._destroyRenderableBound)}_updateBatchableSprite(e,t){t.bounds=e.visualBounds,t.texture=e._texture}_getGpuSprite(e){return this._gpuSpriteHash[e.uid]||this._initGPUSprite(e)}_initGPUSprite(e){const t=i.Z.get(o.K);return t.renderable=e,t.transform=e.groupTransform,t.texture=e._texture,t.bounds=e.visualBounds,t.roundPixels=this._renderer._roundPixels|e._roundPixels,this._gpuSpriteHash[e.uid]=t,e.on("destroyed",this._destroyRenderableBound),t}destroy(){for(const e in this._gpuSpriteHash)i.Z.return(this._gpuSpriteHash[e]);this._gpuSpriteHash=null,this._renderer=null}}M.extension={type:[n.Ag.WebGLPipes,n.Ag.WebGPUPipes,n.Ag.CanvasPipes],name:"sprite"};var S=r(7073),w=r(7547),G=r(1159);const P=class e{constructor(e,t){this.state=w.U.for2d(),this._batchersByInstructionSet=Object.create(null),this._activeBatches=Object.create(null),this.renderer=e,this._adaptor=t,this._adaptor.init?.(this)}static getBatcher(e){return new this._availableBatchers[e]}buildStart(e){let t=this._batchersByInstructionSet[e.uid];t||(t=this._batchersByInstructionSet[e.uid]=Object.create(null),t.default||(t.default=new G.J)),this._activeBatches=t,this._activeBatch=this._activeBatches.default;for(const e in this._activeBatches)this._activeBatches[e].begin()}addToBatch(t,r){if(this._activeBatch.name!==t.batcherName){this._activeBatch.break(r);let n=this._activeBatches[t.batcherName];n||(n=this._activeBatches[t.batcherName]=e.getBatcher(t.batcherName),n.begin()),this._activeBatch=n}this._activeBatch.add(t)}break(e){this._activeBatch.break(e)}buildEnd(e){this._activeBatch.break(e);const t=this._activeBatches;for(const e in t){const r=t[e],n=r.geometry;n.indexBuffer.setDataWithSize(r.indexBuffer,r.indexSize,!0),n.buffers[0].setDataWithSize(r.attributeBuffer.float32View,r.attributeSize,!1)}}upload(e){const t=this._batchersByInstructionSet[e.uid];for(const e in t){const r=t[e],n=r.geometry;r.dirty&&(r.dirty=!1,n.buffers[0].update(4*r.attributeSize))}}execute(e){if("startBatch"===e.action){const t=e.batcher,r=t.geometry,n=t.shader;this._adaptor.start(this,r,n)}this._adaptor.execute(this,e)}destroy(){this.state=null,this.renderer=null,this._adaptor=null;for(const e in this._activeBatches)this._activeBatches[e].destroy();this._activeBatches=null}};P.extension={type:[n.Ag.WebGLPipes,n.Ag.WebGPUPipes,n.Ag.CanvasPipes],name:"batch"},P._availableBatchers=Object.create(null);let R=P;n.XO.handleByMap(n.Ag.Batcher,R._availableBatchers),n.XO.add(G.J);var A=r(9049),B=r(9113),U=r(3012),I=r(5811),O=r(1196),F=r(8475);const E=class e extends F.M{constructor(t){super(t={...e.defaultOptions,...t}),this.enabled=!0,this._state=w.U.for2d(),this.blendMode=t.blendMode,this.padding=t.padding,"boolean"==typeof t.antialias?this.antialias=t.antialias?"on":"off":this.antialias=t.antialias,this.resolution=t.resolution,this.blendRequired=t.blendRequired,this.clipToViewport=t.clipToViewport,this.addResource("uTexture",0,1)}apply(e,t,r,n){e.applyFilter(this,t,r,n)}get blendMode(){return this._state.blendMode}set blendMode(e){this._state.blendMode=e}static from(t){const{gpu:r,gl:n,...s}=t;let a,i;return r&&(a=U.B.from(r)),n&&(i=B.M.from(n)),new e({gpuProgram:a,glProgram:i,...s})}};E.defaultOptions={blendMode:"normal",resolution:1,padding:0,antialias:"off",blendRequired:!1,clipToViewport:!0};let D=E;var z="struct GlobalFilterUniforms {\n  uInputSize:vec4<f32>,\n  uInputPixel:vec4<f32>,\n  uInputClamp:vec4<f32>,\n  uOutputFrame:vec4<f32>,\n  uGlobalFrame:vec4<f32>,\n  uOutputTexture:vec4<f32>,\n};\n\nstruct MaskUniforms {\n  uFilterMatrix:mat3x3<f32>,\n  uMaskClamp:vec4<f32>,\n  uAlpha:f32,\n  uInverse:f32,\n};\n\n@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;\n@group(0) @binding(1) var uTexture: texture_2d<f32>;\n@group(0) @binding(2) var uSampler : sampler;\n\n@group(1) @binding(0) var<uniform> filterUniforms : MaskUniforms;\n@group(1) @binding(1) var uMaskTexture: texture_2d<f32>;\n\nstruct VSOutput {\n    @builtin(position) position: vec4<f32>,\n    @location(0) uv : vec2<f32>,\n    @location(1) filterUv : vec2<f32>,\n};\n\nfn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>\n{\n    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;\n\n    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;\n    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;\n\n    return vec4(position, 0.0, 1.0);\n}\n\nfn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>\n{\n    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);\n}\n\nfn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>\n{\n  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);\n}\n\nfn getFilterCoord(aPosition:vec2<f32> ) -> vec2<f32>\n{\n  return ( filterUniforms.uFilterMatrix * vec3( filterTextureCoord(aPosition), 1.0)  ).xy;\n}\n\nfn getSize() -> vec2<f32>\n{\n  return gfu.uGlobalFrame.zw;\n}\n\n@vertex\nfn mainVertex(\n  @location(0) aPosition : vec2<f32>,\n) -> VSOutput {\n  return VSOutput(\n   filterVertexPosition(aPosition),\n   filterTextureCoord(aPosition),\n   getFilterCoord(aPosition)\n  );\n}\n\n@fragment\nfn mainFragment(\n  @location(0) uv: vec2<f32>,\n  @location(1) filterUv: vec2<f32>,\n  @builtin(position) position: vec4<f32>\n) -> @location(0) vec4<f32> {\n\n    var maskClamp = filterUniforms.uMaskClamp;\n    var uAlpha = filterUniforms.uAlpha;\n\n    var clip = step(3.5,\n      step(maskClamp.x, filterUv.x) +\n      step(maskClamp.y, filterUv.y) +\n      step(filterUv.x, maskClamp.z) +\n      step(filterUv.y, maskClamp.w));\n\n    var mask = textureSample(uMaskTexture, uSampler, filterUv);\n    var source = textureSample(uTexture, uSampler, uv);\n    var alphaMul = 1.0 - uAlpha * (1.0 - mask.a);\n\n    var a: f32 = alphaMul * mask.r * uAlpha * clip;\n\n    if (filterUniforms.uInverse == 1.0) {\n        a = 1.0 - a;\n    }\n\n    return source * a;\n}\n";class H extends D{constructor(e){const{sprite:t,...r}=e,n=new O.N(t.texture),s=new I.k({uFilterMatrix:{value:new a.u,type:"mat3x3<f32>"},uMaskClamp:{value:n.uClampFrame,type:"vec4<f32>"},uAlpha:{value:1,type:"f32"},uInverse:{value:e.inverse?1:0,type:"f32"}});super({...r,gpuProgram:U.B.from({vertex:{source:z,entryPoint:"mainVertex"},fragment:{source:z,entryPoint:"mainFragment"}}),glProgram:B.M.from({vertex:"in vec2 aPosition;\n\nout vec2 vTextureCoord;\nout vec2 vMaskCoord;\n\n\nuniform vec4 uInputSize;\nuniform vec4 uOutputFrame;\nuniform vec4 uOutputTexture;\nuniform mat3 uFilterMatrix;\n\nvec4 filterVertexPosition(  vec2 aPosition )\n{\n    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;\n       \n    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;\n    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;\n\n    return vec4(position, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord(  vec2 aPosition )\n{\n    return aPosition * (uOutputFrame.zw * uInputSize.zw);\n}\n\nvec2 getFilterCoord( vec2 aPosition )\n{\n    return  ( uFilterMatrix * vec3( filterTextureCoord(aPosition), 1.0)  ).xy;\n}   \n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition(aPosition);\n    vTextureCoord = filterTextureCoord(aPosition);\n    vMaskCoord = getFilterCoord(aPosition);\n}\n",fragment:"in vec2 vMaskCoord;\nin vec2 vTextureCoord;\n\nuniform sampler2D uTexture;\nuniform sampler2D uMaskTexture;\n\nuniform float uAlpha;\nuniform vec4 uMaskClamp;\nuniform float uInverse;\n\nout vec4 finalColor;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(uMaskClamp.x, vMaskCoord.x) +\n        step(uMaskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, uMaskClamp.z) +\n        step(vMaskCoord.y, uMaskClamp.w));\n\n    // TODO look into why this is needed\n    float npmAlpha = uAlpha;\n    vec4 original = texture(uTexture, vTextureCoord);\n    vec4 masky = texture(uMaskTexture, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    float a = alphaMul * masky.r * npmAlpha * clip;\n\n    if (uInverse == 1.0) {\n        a = 1.0 - a;\n    }\n\n    finalColor = original * a;\n}\n",name:"mask-filter"}),resources:{filterUniforms:s,uMaskTexture:t.texture.source}}),this.sprite=t,this._textureMatrix=n}set inverse(e){this.resources.filterUniforms.uniforms.uInverse=e?1:0}get inverse(){return 1===this.resources.filterUniforms.uniforms.uInverse}apply(e,t,r,n){this._textureMatrix.texture=this.sprite.texture,e.calculateSpriteMatrix(this.resources.filterUniforms.uniforms.uFilterMatrix,this.sprite).prepend(this._textureMatrix.mapCoord),this.resources.uMaskTexture=this.sprite.texture.source,e.applyFilter(this,t,r,n)}}var W=r(9443),L=r(6844),V=r(4492),j=r(5099);const N=new h.c;class q extends A.a{constructor(){super(),this.filters=[new H({sprite:new L.k(V.g.EMPTY),inverse:!1,resolution:"inherit",antialias:"inherit"})]}get sprite(){return this.filters[0].sprite}set sprite(e){this.filters[0].sprite=e}get inverse(){return this.filters[0].inverse}set inverse(e){this.filters[0].inverse=e}}class K{constructor(e){this._activeMaskStage=[],this._renderer=e}push(e,t,r){const n=this._renderer;if(n.renderPipes.batch.break(r),r.add({renderPipeId:"alphaMask",action:"pushMaskBegin",mask:e,inverse:t._maskOptions.inverse,canBundle:!1,maskedContainer:t}),e.inverse=t._maskOptions.inverse,e.renderMaskToTexture){const t=e.mask;t.includeInBuild=!0,p(t,r,n),t.includeInBuild=!1}n.renderPipes.batch.break(r),r.add({renderPipeId:"alphaMask",action:"pushMaskEnd",mask:e,maskedContainer:t,inverse:t._maskOptions.inverse,canBundle:!1})}pop(e,t,r){this._renderer.renderPipes.batch.break(r),r.add({renderPipeId:"alphaMask",action:"popMaskEnd",mask:e,inverse:t._maskOptions.inverse,canBundle:!1})}execute(e){const t=this._renderer,r=e.mask.renderMaskToTexture;if("pushMaskBegin"===e.action){const n=i.Z.get(q);if(n.inverse=e.inverse,r){e.mask.mask.measurable=!0;const r=(0,W.fB)(e.mask.mask,!0,N);e.mask.mask.measurable=!1,r.ceil();const s=t.renderTarget.renderTarget.colorTexture.source,a=c.W.getOptimalTexture(r.width,r.height,s._resolution,s.antialias);t.renderTarget.push(a,!0),t.globalUniforms.push({offset:r,worldColor:4294967295});const i=n.sprite;i.texture=a,i.worldTransform.tx=r.minX,i.worldTransform.ty=r.minY,this._activeMaskStage.push({filterEffect:n,maskedContainer:e.maskedContainer,filterTexture:a})}else n.sprite=e.mask.mask,this._activeMaskStage.push({filterEffect:n,maskedContainer:e.maskedContainer})}else if("pushMaskEnd"===e.action){const e=this._activeMaskStage[this._activeMaskStage.length-1];r&&(t.type===j.W.WEBGL&&t.renderTarget.finishRenderPass(),t.renderTarget.pop(),t.globalUniforms.pop()),t.filter.push({renderPipeId:"filter",action:"pushFilter",container:e.maskedContainer,filterEffect:e.filterEffect,canBundle:!1})}else if("popMaskEnd"===e.action){t.filter.pop();const e=this._activeMaskStage.pop();r&&c.W.returnTexture(e.filterTexture),i.Z.return(e.filterEffect)}}destroy(){this._renderer=null,this._activeMaskStage=null}}K.extension={type:[n.Ag.WebGLPipes,n.Ag.WebGPUPipes,n.Ag.CanvasPipes],name:"alphaMask"};class ${constructor(e){this._colorStack=[],this._colorStackIndex=0,this._currentColor=0,this._renderer=e}buildStart(){this._colorStack[0]=15,this._colorStackIndex=1,this._currentColor=15}push(e,t,r){this._renderer.renderPipes.batch.break(r);const n=this._colorStack;n[this._colorStackIndex]=n[this._colorStackIndex-1]&e.mask;const s=this._colorStack[this._colorStackIndex];s!==this._currentColor&&(this._currentColor=s,r.add({renderPipeId:"colorMask",colorMask:s,canBundle:!1})),this._colorStackIndex++}pop(e,t,r){this._renderer.renderPipes.batch.break(r);const n=this._colorStack;this._colorStackIndex--;const s=n[this._colorStackIndex-1];s!==this._currentColor&&(this._currentColor=s,r.add({renderPipeId:"colorMask",colorMask:s,canBundle:!1}))}execute(e){this._renderer.colorMask.setMask(e.colorMask)}destroy(){this._colorStack=null}}$.extension={type:[n.Ag.WebGLPipes,n.Ag.WebGPUPipes,n.Ag.CanvasPipes],name:"colorMask"};var Z=r(1257),Y=r(1957);class J{constructor(e){this._maskStackHash={},this._maskHash=new WeakMap,this._renderer=e}push(e,t,r){var n;const s=e,a=this._renderer;a.renderPipes.batch.break(r),a.renderPipes.blendMode.setBlendMode(s.mask,"none",r),r.add({renderPipeId:"stencilMask",action:"pushMaskBegin",mask:e,inverse:t._maskOptions.inverse,canBundle:!1});const i=s.mask;i.includeInBuild=!0,this._maskHash.has(s)||this._maskHash.set(s,{instructionsStart:0,instructionsLength:0});const o=this._maskHash.get(s);o.instructionsStart=r.instructionSize,p(i,r,a),i.includeInBuild=!1,a.renderPipes.batch.break(r),r.add({renderPipeId:"stencilMask",action:"pushMaskEnd",mask:e,inverse:t._maskOptions.inverse,canBundle:!1});const d=r.instructionSize-o.instructionsStart-1;o.instructionsLength=d;const u=a.renderTarget.renderTarget.uid;(n=this._maskStackHash)[u]??(n[u]=0)}pop(e,t,r){const n=e,s=this._renderer;s.renderPipes.batch.break(r),s.renderPipes.blendMode.setBlendMode(n.mask,"none",r),r.add({renderPipeId:"stencilMask",action:"popMaskBegin",inverse:t._maskOptions.inverse,canBundle:!1});const a=this._maskHash.get(e);for(let e=0;e<a.instructionsLength;e++)r.instructions[r.instructionSize++]=r.instructions[a.instructionsStart++];r.add({renderPipeId:"stencilMask",action:"popMaskEnd",canBundle:!1})}execute(e){var t;const r=this._renderer,n=r.renderTarget.renderTarget.uid;let s=(t=this._maskStackHash)[n]??(t[n]=0);"pushMaskBegin"===e.action?(r.renderTarget.ensureDepthStencil(),r.stencil.setStencilMode(Y.K.RENDERING_MASK_ADD,s),s++,r.colorMask.setMask(0)):"pushMaskEnd"===e.action?(e.inverse?r.stencil.setStencilMode(Y.K.INVERSE_MASK_ACTIVE,s):r.stencil.setStencilMode(Y.K.MASK_ACTIVE,s),r.colorMask.setMask(15)):"popMaskBegin"===e.action?(r.colorMask.setMask(0),0!==s?r.stencil.setStencilMode(Y.K.RENDERING_MASK_REMOVE,s):(r.renderTarget.clear(null,Z.u.STENCIL),r.stencil.setStencilMode(Y.K.DISABLED,s)),s--):"popMaskEnd"===e.action&&(e.inverse?r.stencil.setStencilMode(Y.K.INVERSE_MASK_ACTIVE,s):r.stencil.setStencilMode(Y.K.MASK_ACTIVE,s),r.colorMask.setMask(15)),this._maskStackHash[n]=s}destroy(){this._renderer=null,this._maskStackHash=null,this._maskHash=null}}J.extension={type:[n.Ag.WebGLPipes,n.Ag.WebGPUPipes,n.Ag.CanvasPipes],name:"stencilMask"};var X=r(2577);const Q=class e{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new X.Q(0),this.color=this._backgroundColor,this.alpha=1}init(t){t={...e.defaultOptions,...t},this.clearBeforeRender=t.clearBeforeRender,this.color=t.background||t.backgroundColor||this._backgroundColor,this.alpha=t.backgroundAlpha,this._backgroundColor.setAlpha(t.backgroundAlpha)}get color(){return this._backgroundColor}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get colorRgba(){return this._backgroundColor.toArray()}destroy(){}};Q.extension={type:[n.Ag.WebGLSystem,n.Ag.WebGPUSystem,n.Ag.CanvasSystem],name:"background",priority:0},Q.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0};let ee=Q;var te=r(268);const re={};n.XO.handle(n.Ag.BlendMode,(e=>{if(!e.name)throw new Error("BlendMode extension must have a name property");re[e.name]=e.ref}),(e=>{delete re[e.name]}));class ne{constructor(e){this._isAdvanced=!1,this._filterHash=Object.create(null),this._renderer=e}setBlendMode(e,t,r){this._activeBlendMode!==t?(this._activeBlendMode=t,this._isAdvanced&&this._endAdvancedBlendMode(r),this._isAdvanced=!!re[t],this._isAdvanced&&(this._beginAdvancedBlendMode(r),this._renderableList.push(e))):this._isAdvanced&&this._renderableList.push(e)}_beginAdvancedBlendMode(e){this._renderer.renderPipes.batch.break(e);const t=this._activeBlendMode;if(!re[t])return void(0,te.R)(`Unable to assign BlendMode: '${t}'. You may want to include: import 'pixi.js/advanced-blend-modes'`);let r=this._filterHash[t];r||(r=this._filterHash[t]=new A.a,r.filters=[new re[t]]);const n={renderPipeId:"filter",action:"pushFilter",renderables:[],filterEffect:r,canBundle:!1};this._renderableList=n.renderables,e.add(n)}_endAdvancedBlendMode(e){this._renderableList=null,this._renderer.renderPipes.batch.break(e),e.add({renderPipeId:"filter",action:"popFilter",canBundle:!1})}buildStart(){this._isAdvanced=!1}buildEnd(e){this._isAdvanced&&this._endAdvancedBlendMode(e)}destroy(){this._renderer=null,this._renderableList=null;for(const e in this._filterHash)this._filterHash[e].destroy();this._filterHash=null}}ne.extension={type:[n.Ag.WebGLPipes,n.Ag.WebGPUPipes,n.Ag.CanvasPipes],name:"blendMode"};const se={png:"image/png",jpg:"image/jpeg",webp:"image/webp"},ae=class e{constructor(e){this._renderer=e}_normalizeOptions(e,t={}){return e instanceof m.mc||e instanceof V.g?{target:e,...t}:{...t,...e}}async image(e){const t=new Image;return t.src=await this.base64(e),t}async base64(t){t=this._normalizeOptions(t,e.defaultImageOptions);const{format:r,quality:n}=t,s=this.canvas(t);if(void 0!==s.toBlob)return new Promise(((e,t)=>{s.toBlob((r=>{if(!r)return void t(new Error("ICanvas.toBlob failed!"));const n=new FileReader;n.onload=()=>e(n.result),n.onerror=t,n.readAsDataURL(r)}),se[r],n)}));if(void 0!==s.toDataURL)return s.toDataURL(se[r],n);if(void 0!==s.convertToBlob){const e=await s.convertToBlob({type:se[r],quality:n});return new Promise(((t,r)=>{const n=new FileReader;n.onload=()=>t(n.result),n.onerror=r,n.readAsDataURL(e)}))}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(e){const t=(e=this._normalizeOptions(e)).target,r=this._renderer;if(t instanceof V.g)return r.texture.generateCanvas(t);const n=r.textureGenerator.generateTexture(e),s=r.texture.generateCanvas(n);return n.destroy(!0),s}pixels(e){const t=(e=this._normalizeOptions(e)).target,r=this._renderer,n=t instanceof V.g?t:r.textureGenerator.generateTexture(e),s=r.texture.getPixels(n);return t instanceof m.mc&&n.destroy(!0),s}texture(e){return(e=this._normalizeOptions(e)).target instanceof V.g?e.target:this._renderer.textureGenerator.generateTexture(e)}download(e){e=this._normalizeOptions(e);const t=this.canvas(e),r=document.createElement("a");r.download=e.filename??"image.png",r.href=t.toDataURL("image/png"),document.body.appendChild(r),r.click(),document.body.removeChild(r)}log(e){const t=e.width??200;e=this._normalizeOptions(e);const r=this.canvas(e),n=r.toDataURL();console.log(`[Pixi Texture] ${r.width}px ${r.height}px`);const s=["font-size: 1px;",`padding: ${t}px 300px;`,`background: url(${n}) no-repeat;`,"background-size: contain;"].join(" ");console.log("%c ",s)}destroy(){this._renderer=null}};ae.extension={type:[n.Ag.WebGLSystem,n.Ag.WebGPUSystem],name:"extract"},ae.defaultImageOptions={format:"png",quality:1};let ie=ae;var oe=r(9252),de=r(7269),ue=r(1285);class le extends V.g{static create(e){return new le({source:new ue.v(e)})}resize(e,t,r){return this.source.resize(e,t,r),this}}const ce=new oe.M,he=new h.c,pe=[0,0,0,0];class fe{constructor(e){this._renderer=e}generateTexture(e){e instanceof m.mc&&(e={target:e,frame:void 0,textureSourceOptions:{},resolution:void 0});const t=e.resolution||this._renderer.resolution,r=e.antialias||this._renderer.view.antialias,n=e.target;let s=e.clearColor;s=s?Array.isArray(s)&&4===s.length?s:X.Q.shared.setValue(s).toArray():pe;const i=e.frame?.copyTo(ce)||(0,de.n)(n,he).rectangle;i.width=0|Math.max(i.width,1/t),i.height=0|Math.max(i.height,1/t);const o=le.create({...e.textureSourceOptions,width:i.width,height:i.height,resolution:t,antialias:r}),d=a.u.shared.translate(-i.x,-i.y);return this._renderer.render({container:n,transform:d,target:o,clearColor:s}),o.source.updateMipmaps(),o}destroy(){this._renderer=null}}fe.extension={type:[n.Ag.WebGLSystem,n.Ag.WebGPUSystem],name:"textureGenerator"};var ge=r(5101),me=r(2760),ve=r(3513);class _e{constructor(e){this._stackIndex=0,this._globalUniformDataStack=[],this._uniformsPool=[],this._activeUniforms=[],this._bindGroupPool=[],this._activeBindGroups=[],this._renderer=e}reset(){this._stackIndex=0;for(let e=0;e<this._activeUniforms.length;e++)this._uniformsPool.push(this._activeUniforms[e]);for(let e=0;e<this._activeBindGroups.length;e++)this._bindGroupPool.push(this._activeBindGroups[e]);this._activeUniforms.length=0,this._activeBindGroups.length=0}start(e){this.reset(),this.push(e)}bind({size:e,projectionMatrix:t,worldTransformMatrix:r,worldColor:n,offset:s}){const i=this._renderer.renderTarget.renderTarget,o=this._stackIndex?this._globalUniformDataStack[this._stackIndex-1]:{projectionData:i,worldTransformMatrix:new a.u,worldColor:4294967295,offset:new ge.b},d={projectionMatrix:t||this._renderer.renderTarget.projectionMatrix,resolution:e||i.size,worldTransformMatrix:r||o.worldTransformMatrix,worldColor:n||o.worldColor,offset:s||o.offset,bindGroup:null},u=this._uniformsPool.pop()||this._createUniforms();this._activeUniforms.push(u);const l=u.uniforms;let c;l.uProjectionMatrix=d.projectionMatrix,l.uResolution=d.resolution,l.uWorldTransformMatrix.copyFrom(d.worldTransformMatrix),l.uWorldTransformMatrix.tx-=d.offset.x,l.uWorldTransformMatrix.ty-=d.offset.y,(0,me.V)(d.worldColor,l.uWorldColorAlpha,0),u.update(),this._renderer.renderPipes.uniformBatch?c=this._renderer.renderPipes.uniformBatch.getUniformBindGroup(u,!1):(c=this._bindGroupPool.pop()||new ve.T,this._activeBindGroups.push(c),c.setResource(u,0)),d.bindGroup=c,this._currentGlobalUniformData=d}push(e){this.bind(e),this._globalUniformDataStack[this._stackIndex++]=this._currentGlobalUniformData}pop(){this._currentGlobalUniformData=this._globalUniformDataStack[--this._stackIndex-1],this._renderer.type===j.W.WEBGL&&this._currentGlobalUniformData.bindGroup.resources[0].update()}get bindGroup(){return this._currentGlobalUniformData.bindGroup}get globalUniformData(){return this._currentGlobalUniformData}get uniformGroup(){return this._currentGlobalUniformData.bindGroup.resources[0]}_createUniforms(){return new I.k({uProjectionMatrix:{value:new a.u,type:"mat3x3<f32>"},uWorldTransformMatrix:{value:new a.u,type:"mat3x3<f32>"},uWorldColorAlpha:{value:new Float32Array(4),type:"vec4<f32>"},uResolution:{value:[0,0],type:"vec2<f32>"}},{isStatic:!0})}destroy(){this._renderer=null}}_e.extension={type:[n.Ag.WebGLSystem,n.Ag.WebGPUSystem,n.Ag.CanvasSystem],name:"globalUniforms"};var xe=r(7309);let be=1;class Te{constructor(){this._tasks=[],this._offset=0}init(){xe.R.system.add(this._update,this)}repeat(e,t,r=!0){const n=be++;let s=0;return r&&(this._offset+=1e3,s=this._offset),this._tasks.push({func:e,duration:t,start:performance.now(),offset:s,last:performance.now(),repeat:!0,id:n}),n}cancel(e){for(let t=0;t<this._tasks.length;t++)if(this._tasks[t].id===e)return void this._tasks.splice(t,1)}_update(){const e=performance.now();for(let t=0;t<this._tasks.length;t++){const r=this._tasks[t];if(e-r.offset-r.last>=r.duration){const t=e-r.start;r.func(t),r.last=e}}}destroy(){xe.R.system.remove(this._update,this),this._tasks.length=0}}Te.extension={type:[n.Ag.WebGLSystem,n.Ag.WebGPUSystem,n.Ag.CanvasSystem],name:"scheduler",priority:0};var ye=r(1761),ke=r(2571);let Ce=!1;class Me{constructor(e){this._renderer=e}init(e){if(e.hello){let e=this._renderer.name;this._renderer.type===j.W.WEBGL&&(e+=` ${this._renderer.context.webGLVersion}`),function(e){if(!Ce){if(ye.e.get().getNavigator().userAgent.toLowerCase().indexOf("chrome")>-1){const t=[`%c  %c  %c  %c  %c PixiJS %c v${ke.xv} (${e}) http://www.pixijs.com/\n\n`,"background: #E72264; padding:5px 0;","background: #6CA2EA; padding:5px 0;","background: #B5D33D; padding:5px 0;","background: #FED23F; padding:5px 0;","color: #FFFFFF; background: #E72264; padding:5px 0;","color: #E72264; background: #FFFFFF; padding:5px 0;"];globalThis.console.log(...t)}else globalThis.console&&globalThis.console.log(`PixiJS ${ke.xv} - ${e} - http://www.pixijs.com/`);Ce=!0}}(e)}}}function Se(e){let t=!1;for(const r in e)if(null==e[r]){t=!0;break}if(!t)return e;const r=Object.create(null);for(const t in e){const n=e[t];n&&(r[t]=n)}return r}function we(e){let t=0;for(let r=0;r<e.length;r++)null==e[r]?t++:e[r-t]=e[r];return e.length-=t,e}Me.extension={type:[n.Ag.WebGLSystem,n.Ag.WebGPUSystem,n.Ag.CanvasSystem],name:"hello",priority:-2},Me.defaultOptions={hello:!1};let Ge=0;const Pe=class e{constructor(e){this._managedRenderables=[],this._managedHashes=[],this._managedArrays=[],this._renderer=e}init(t){t={...e.defaultOptions,...t},this.maxUnusedTime=t.renderableGCMaxUnusedTime,this._frequency=t.renderableGCFrequency,this.enabled=t.renderableGCActive}get enabled(){return!!this._handler}set enabled(e){this.enabled!==e&&(e?(this._handler=this._renderer.scheduler.repeat((()=>this.run()),this._frequency,!1),this._hashHandler=this._renderer.scheduler.repeat((()=>{for(const e of this._managedHashes)e.context[e.hash]=Se(e.context[e.hash])}),this._frequency),this._arrayHandler=this._renderer.scheduler.repeat((()=>{for(const e of this._managedArrays)we(e.context[e.hash])}),this._frequency)):(this._renderer.scheduler.cancel(this._handler),this._renderer.scheduler.cancel(this._hashHandler),this._renderer.scheduler.cancel(this._arrayHandler)))}addManagedHash(e,t){this._managedHashes.push({context:e,hash:t})}addManagedArray(e,t){this._managedArrays.push({context:e,hash:t})}prerender({container:e}){this._now=performance.now(),e.renderGroup.gcTick=Ge++,this._updateInstructionGCTick(e.renderGroup,e.renderGroup.gcTick)}addRenderable(e){this.enabled&&(-1===e._lastUsed&&(this._managedRenderables.push(e),e.once("destroyed",this._removeRenderable,this)),e._lastUsed=this._now)}run(){const e=this._now,t=this._managedRenderables,r=this._renderer.renderPipes;let n=0;for(let s=0;s<t.length;s++){const a=t[s];if(null===a){n++;continue}const i=a.renderGroup??a.parentRenderGroup,o=i?.instructionSet?.gcTick??-1;if((i?.gcTick??0)===o&&(a._lastUsed=e),e-a._lastUsed>this.maxUnusedTime){if(!a.destroyed){const e=r;i&&(i.structureDidChange=!0),e[a.renderPipeId].destroyRenderable(a)}a._lastUsed=-1,n++,a.off("destroyed",this._removeRenderable,this)}else t[s-n]=a}t.length-=n}destroy(){this.enabled=!1,this._renderer=null,this._managedRenderables.length=0,this._managedHashes.length=0,this._managedArrays.length=0}_removeRenderable(e){const t=this._managedRenderables.indexOf(e);t>=0&&(e.off("destroyed",this._removeRenderable,this),this._managedRenderables[t]=null)}_updateInstructionGCTick(e,t){e.instructionSet.gcTick=t;for(const r of e.renderGroupChildren)this._updateInstructionGCTick(r,t)}};Pe.extension={type:[n.Ag.WebGLSystem,n.Ag.WebGPUSystem],name:"renderableGC",priority:0},Pe.defaultOptions={renderableGCActive:!0,renderableGCMaxUnusedTime:6e4,renderableGCFrequency:3e4};let Re=Pe;const Ae=class e{constructor(e){this._renderer=e,this.count=0,this.checkCount=0}init(t){t={...e.defaultOptions,...t},this.checkCountMax=t.textureGCCheckCountMax,this.maxIdle=t.textureGCAMaxIdle??t.textureGCMaxIdle,this.active=t.textureGCActive}postrender(){this._renderer.renderingToScreen&&(this.count++,this.active&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this._renderer.texture.managedTextures;for(let t=0;t<e.length;t++){const r=e[t];r.autoGarbageCollect&&r.resource&&r._touched>-1&&this.count-r._touched>this.maxIdle&&(r._touched=-1,r.unload())}}destroy(){this._renderer=null}};Ae.extension={type:[n.Ag.WebGLSystem,n.Ag.WebGPUSystem],name:"textureGC"},Ae.defaultOptions={textureGCActive:!0,textureGCAMaxIdle:null,textureGCMaxIdle:3600,textureGCCheckCountMax:600};let Be=Ae;var Ue=r(4670),Ie=r(279),Oe=r(8725);const Fe=class e{get autoDensity(){return this.texture.source.autoDensity}set autoDensity(e){this.texture.source.autoDensity=e}get resolution(){return this.texture.source._resolution}set resolution(e){this.texture.source.resize(this.texture.source.width,this.texture.source.height,e)}init(t){(t={...e.defaultOptions,...t}).view&&((0,Ue.t6)(Ue.lj,"ViewSystem.view has been renamed to ViewSystem.canvas"),t.canvas=t.view),this.screen=new oe.M(0,0,t.width,t.height),this.canvas=t.canvas||ye.e.get().createCanvas(),this.antialias=!!t.antialias,this.texture=(0,Oe.c)(this.canvas,t),this.renderTarget=new Ie.O({colorTextures:[this.texture],depth:!!t.depth,isRoot:!0}),this.texture.source.transparent=t.backgroundAlpha<1,this.resolution=t.resolution}resize(e,t,r){this.texture.source.resize(e,t,r),this.screen.width=this.texture.frame.width,this.screen.height=this.texture.frame.height}destroy(e=!1){("boolean"==typeof e?e:e?.removeView)&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)}};Fe.extension={type:[n.Ag.WebGLSystem,n.Ag.WebGPUSystem,n.Ag.CanvasSystem],name:"view",priority:0},Fe.defaultOptions={width:800,height:600,autoDensity:!1,antialias:!1};const Ee=[ee,_e,Me,Fe,C,Be,fe,ie,S.d,Re,Te],De=[ne,R,M,l,K,J,$,s]},8725:(e,t,r)=>{r.d(t,{c:()=>i});var n=r(4884),s=r(4492);const a=new Map;function i(e,t){if(!a.has(e)){const r=new s.g({source:new n.q({resource:e,...t})}),i=()=>{a.get(e)===r&&a.delete(e)};r.once("destroy",i),r.source.once("destroy",i),a.set(e,r)}return a.get(e)}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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aEksR0FDaEMsSUFBSzBSLEVBQVkxTSxJQUFJZ0QsR0FBUyxDQUM1QixNQUFNNWQsRUFBVSxJQUFJLElBQVEsQ0FDMUJDLE9BQVEsSUFBSSxJQUFhLENBQ3ZCK0MsU0FBVTRhLEtBQ1BoSSxNQUdEMlIsRUFBWSxLQUNaRCxFQUFZcGlCLElBQUkwWSxLQUFZNWQsR0FDOUJzbkIsRUFBWXBoQixPQUFPMFgsRUFDckIsRUFFRjVkLEVBQVFpRyxLQUFLLFVBQVdzaEIsR0FDeEJ2bkIsRUFBUUMsT0FBT2dHLEtBQUssVUFBV3NoQixHQUMvQkQsRUFBWWxoQixJQUFJd1gsRUFBUTVkLEVBQzFCLENBQ0EsT0FBT3NuQixFQUFZcGlCLElBQUkwWSxFQUN6QixDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9oaWdoLXNoYWRlci9zaGFkZXItYml0cy90ZXh0dXJlQml0Lm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL3JlbmRlcmVycy9nbC9zaGFkZXIvcHJvZ3JhbS9lbnN1cmVBdHRyaWJ1dGVzLm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL3JlbmRlcmVycy9ncHUvc3RhdGUvR3B1U3RlbmNpbE1vZGVzVG9QaXhpLm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvYnVmZmVyL0J1ZmZlclJlc291cmNlLm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvcmVuZGVyVGFyZ2V0L1JlbmRlclRhcmdldC5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3JlbmRlclRhcmdldC9SZW5kZXJUYXJnZXRTeXN0ZW0ubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC9yZW5kZXJUYXJnZXQvaXNSZW5kZXJpbmdUb1NjcmVlbi5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvZ3B1L3JlbmRlclRhcmdldC9jYWxjdWxhdGVQcm9qZWN0aW9uLm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvc2hhZGVyL1Vib1N5c3RlbS5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3NoYWRlci91dGlscy9jcmVhdGVVYm9TeW5jRnVuY3Rpb24ubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC9zaGFkZXIvdXRpbHMvdWJvU3luY0Z1bmN0aW9ucy5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3NoYWRlci91dGlscy91bmlmb3JtUGFyc2Vycy5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL2NvbnRhaW5lci9DdXN0b21SZW5kZXJQaXBlLm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvY29udGFpbmVyL3V0aWxzL2V4ZWN1dGVJbnN0cnVjdGlvbnMubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9jb250YWluZXIvUmVuZGVyR3JvdXBQaXBlLm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvY29udGFpbmVyL3V0aWxzL2J1aWxkSW5zdHJ1Y3Rpb25zLm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvY29udGFpbmVyL3V0aWxzL2NsZWFyTGlzdC5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL2NvbnRhaW5lci91dGlscy91cGRhdGVSZW5kZXJHcm91cFRyYW5zZm9ybXMubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9jb250YWluZXIvUmVuZGVyR3JvdXBTeXN0ZW0ubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9jb250YWluZXIvdXRpbHMvdmFsaWRhdGVSZW5kZXJhYmxlcy5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3Nwcml0ZS9TcHJpdGVQaXBlLm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL2JhdGNoZXIvc2hhcmVkL0JhdGNoZXJQaXBlLm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZmlsdGVycy9GaWx0ZXIubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9maWx0ZXJzL21hc2svbWFzay5mcmFnLm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZmlsdGVycy9tYXNrL21hc2sud2dzbC5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2ZpbHRlcnMvbWFzay9NYXNrRmlsdGVyLm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZmlsdGVycy9tYXNrL21hc2sudmVydC5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9tYXNrL2FscGhhL0FscGhhTWFza1BpcGUubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvbWFzay9jb2xvci9Db2xvck1hc2tQaXBlLm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL21hc2svc3RlbmNpbC9TdGVuY2lsTWFza1BpcGUubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC9iYWNrZ3JvdW5kL0JhY2tncm91bmRTeXN0ZW0ubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC9ibGVuZE1vZGVzL0JsZW5kTW9kZVBpcGUubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC9leHRyYWN0L0V4dHJhY3RTeXN0ZW0ubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC90ZXh0dXJlL1JlbmRlclRleHR1cmUubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC9leHRyYWN0L0dlbmVyYXRlVGV4dHVyZVN5c3RlbS5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3JlbmRlclRhcmdldC9HbG9iYWxVbmlmb3JtU3lzdGVtLm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvU2NoZWR1bGVyU3lzdGVtLm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvdXRpbHMvc2F5SGVsbG8ubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC9zdGFydHVwL0hlbGxvU3lzdGVtLm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvdXRpbHMvZGF0YS9jbGVhbi5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3RleHR1cmUvUmVuZGVyYWJsZUdDU3lzdGVtLm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvdGV4dHVyZS9UZXh0dXJlR0NTeXN0ZW0ubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC92aWV3L1ZpZXdTeXN0ZW0ubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC9zeXN0ZW0vU2hhcmVkU3lzdGVtcy5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3RleHR1cmUvdXRpbHMvZ2V0Q2FudmFzVGV4dHVyZS5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCB0ZXh0dXJlQml0ID0ge1xuICBuYW1lOiBcInRleHR1cmUtYml0XCIsXG4gIHZlcnRleDoge1xuICAgIGhlYWRlcjogKFxuICAgICAgLyogd2dzbCAqL1xuICAgICAgYFxuXG4gICAgICAgIHN0cnVjdCBUZXh0dXJlVW5pZm9ybXMge1xuICAgICAgICAgICAgdVRleHR1cmVNYXRyaXg6bWF0M3gzPGYzMj4sXG4gICAgICAgIH1cblxuICAgICAgICBAZ3JvdXAoMikgQGJpbmRpbmcoMikgdmFyPHVuaWZvcm0+IHRleHR1cmVVbmlmb3JtcyA6IFRleHR1cmVVbmlmb3JtcztcbiAgICAgICAgYFxuICAgICksXG4gICAgbWFpbjogKFxuICAgICAgLyogd2dzbCAqL1xuICAgICAgYFxuICAgICAgICAgICAgdXYgPSAodGV4dHVyZVVuaWZvcm1zLnVUZXh0dXJlTWF0cml4ICogdmVjMyh1diwgMS4wKSkueHk7XG4gICAgICAgIGBcbiAgICApXG4gIH0sXG4gIGZyYWdtZW50OiB7XG4gICAgaGVhZGVyOiAoXG4gICAgICAvKiB3Z3NsICovXG4gICAgICBgXG4gICAgICAgICAgICBAZ3JvdXAoMikgQGJpbmRpbmcoMCkgdmFyIHVUZXh0dXJlOiB0ZXh0dXJlXzJkPGYzMj47XG4gICAgICAgICAgICBAZ3JvdXAoMikgQGJpbmRpbmcoMSkgdmFyIHVTYW1wbGVyOiBzYW1wbGVyO1xuXG4gICAgICAgICBcbiAgICAgICAgYFxuICAgICksXG4gICAgbWFpbjogKFxuICAgICAgLyogd2dzbCAqL1xuICAgICAgYFxuICAgICAgICAgICAgb3V0Q29sb3IgPSB0ZXh0dXJlU2FtcGxlKHVUZXh0dXJlLCB1U2FtcGxlciwgdlVWKTtcbiAgICAgICAgYFxuICAgIClcbiAgfVxufTtcbmNvbnN0IHRleHR1cmVCaXRHbCA9IHtcbiAgbmFtZTogXCJ0ZXh0dXJlLWJpdFwiLFxuICB2ZXJ0ZXg6IHtcbiAgICBoZWFkZXI6IChcbiAgICAgIC8qIGdsc2wgKi9cbiAgICAgIGBcbiAgICAgICAgICAgIHVuaWZvcm0gbWF0MyB1VGV4dHVyZU1hdHJpeDtcbiAgICAgICAgYFxuICAgICksXG4gICAgbWFpbjogKFxuICAgICAgLyogZ2xzbCAqL1xuICAgICAgYFxuICAgICAgICAgICAgdXYgPSAodVRleHR1cmVNYXRyaXggKiB2ZWMzKHV2LCAxLjApKS54eTtcbiAgICAgICAgYFxuICAgIClcbiAgfSxcbiAgZnJhZ21lbnQ6IHtcbiAgICBoZWFkZXI6IChcbiAgICAgIC8qIGdsc2wgKi9cbiAgICAgIGBcbiAgICAgICAgdW5pZm9ybSBzYW1wbGVyMkQgdVRleHR1cmU7XG5cbiAgICAgICAgIFxuICAgICAgICBgXG4gICAgKSxcbiAgICBtYWluOiAoXG4gICAgICAvKiBnbHNsICovXG4gICAgICBgXG4gICAgICAgICAgICBvdXRDb2xvciA9IHRleHR1cmUodVRleHR1cmUsIHZVVik7XG4gICAgICAgIGBcbiAgICApXG4gIH1cbn07XG5cbmV4cG9ydCB7IHRleHR1cmVCaXQsIHRleHR1cmVCaXRHbCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGV4dHVyZUJpdC5tanMubWFwXG4iLCJpbXBvcnQgeyB3YXJuIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vdXRpbHMvbG9nZ2luZy93YXJuLm1qcyc7XG5pbXBvcnQgeyBnZXRBdHRyaWJ1dGVJbmZvRnJvbUZvcm1hdCB9IGZyb20gJy4uLy4uLy4uL3NoYXJlZC9nZW9tZXRyeS91dGlscy9nZXRBdHRyaWJ1dGVJbmZvRnJvbUZvcm1hdC5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIGVuc3VyZUF0dHJpYnV0ZXMoZ2VvbWV0cnksIGV4dHJhY3RlZERhdGEpIHtcbiAgZm9yIChjb25zdCBpIGluIGdlb21ldHJ5LmF0dHJpYnV0ZXMpIHtcbiAgICBjb25zdCBhdHRyaWJ1dGUgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzW2ldO1xuICAgIGNvbnN0IGF0dHJpYnV0ZURhdGEgPSBleHRyYWN0ZWREYXRhW2ldO1xuICAgIGlmIChhdHRyaWJ1dGVEYXRhKSB7XG4gICAgICBhdHRyaWJ1dGUuZm9ybWF0ID8/IChhdHRyaWJ1dGUuZm9ybWF0ID0gYXR0cmlidXRlRGF0YS5mb3JtYXQpO1xuICAgICAgYXR0cmlidXRlLm9mZnNldCA/PyAoYXR0cmlidXRlLm9mZnNldCA9IGF0dHJpYnV0ZURhdGEub2Zmc2V0KTtcbiAgICAgIGF0dHJpYnV0ZS5pbnN0YW5jZSA/PyAoYXR0cmlidXRlLmluc3RhbmNlID0gYXR0cmlidXRlRGF0YS5pbnN0YW5jZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdhcm4oYEF0dHJpYnV0ZSAke2l9IGlzIG5vdCBwcmVzZW50IGluIHRoZSBzaGFkZXIsIGJ1dCBpcyBwcmVzZW50IGluIHRoZSBnZW9tZXRyeS4gVW5hYmxlIHRvIGluZmVyIGF0dHJpYnV0ZSBkZXRhaWxzLmApO1xuICAgIH1cbiAgfVxuICBlbnN1cmVTdGFydEFuZFN0cmlkZShnZW9tZXRyeSk7XG59XG5mdW5jdGlvbiBlbnN1cmVTdGFydEFuZFN0cmlkZShnZW9tZXRyeSkge1xuICBjb25zdCB7IGJ1ZmZlcnMsIGF0dHJpYnV0ZXMgfSA9IGdlb21ldHJ5O1xuICBjb25zdCB0ZW1wU3RyaWRlID0ge307XG4gIGNvbnN0IHRlbXBTdGFydCA9IHt9O1xuICBmb3IgKGNvbnN0IGogaW4gYnVmZmVycykge1xuICAgIGNvbnN0IGJ1ZmZlciA9IGJ1ZmZlcnNbal07XG4gICAgdGVtcFN0cmlkZVtidWZmZXIudWlkXSA9IDA7XG4gICAgdGVtcFN0YXJ0W2J1ZmZlci51aWRdID0gMDtcbiAgfVxuICBmb3IgKGNvbnN0IGogaW4gYXR0cmlidXRlcykge1xuICAgIGNvbnN0IGF0dHJpYnV0ZSA9IGF0dHJpYnV0ZXNbal07XG4gICAgdGVtcFN0cmlkZVthdHRyaWJ1dGUuYnVmZmVyLnVpZF0gKz0gZ2V0QXR0cmlidXRlSW5mb0Zyb21Gb3JtYXQoYXR0cmlidXRlLmZvcm1hdCkuc3RyaWRlO1xuICB9XG4gIGZvciAoY29uc3QgaiBpbiBhdHRyaWJ1dGVzKSB7XG4gICAgY29uc3QgYXR0cmlidXRlID0gYXR0cmlidXRlc1tqXTtcbiAgICBhdHRyaWJ1dGUuc3RyaWRlID8/IChhdHRyaWJ1dGUuc3RyaWRlID0gdGVtcFN0cmlkZVthdHRyaWJ1dGUuYnVmZmVyLnVpZF0pO1xuICAgIGF0dHJpYnV0ZS5zdGFydCA/PyAoYXR0cmlidXRlLnN0YXJ0ID0gdGVtcFN0YXJ0W2F0dHJpYnV0ZS5idWZmZXIudWlkXSk7XG4gICAgdGVtcFN0YXJ0W2F0dHJpYnV0ZS5idWZmZXIudWlkXSArPSBnZXRBdHRyaWJ1dGVJbmZvRnJvbUZvcm1hdChhdHRyaWJ1dGUuZm9ybWF0KS5zdHJpZGU7XG4gIH1cbn1cblxuZXhwb3J0IHsgZW5zdXJlQXR0cmlidXRlcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZW5zdXJlQXR0cmlidXRlcy5tanMubWFwXG4iLCJpbXBvcnQgeyBTVEVOQ0lMX01PREVTIH0gZnJvbSAnLi4vLi4vc2hhcmVkL3N0YXRlL2NvbnN0Lm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY29uc3QgR3B1U3RlbmNpbE1vZGVzVG9QaXhpID0gW107XG5HcHVTdGVuY2lsTW9kZXNUb1BpeGlbU1RFTkNJTF9NT0RFUy5OT05FXSA9IHZvaWQgMDtcbkdwdVN0ZW5jaWxNb2Rlc1RvUGl4aVtTVEVOQ0lMX01PREVTLkRJU0FCTEVEXSA9IHtcbiAgc3RlbmNpbFdyaXRlTWFzazogMCxcbiAgc3RlbmNpbFJlYWRNYXNrOiAwXG59O1xuR3B1U3RlbmNpbE1vZGVzVG9QaXhpW1NURU5DSUxfTU9ERVMuUkVOREVSSU5HX01BU0tfQUREXSA9IHtcbiAgc3RlbmNpbEZyb250OiB7XG4gICAgY29tcGFyZTogXCJlcXVhbFwiLFxuICAgIHBhc3NPcDogXCJpbmNyZW1lbnQtY2xhbXBcIlxuICB9LFxuICBzdGVuY2lsQmFjazoge1xuICAgIGNvbXBhcmU6IFwiZXF1YWxcIixcbiAgICBwYXNzT3A6IFwiaW5jcmVtZW50LWNsYW1wXCJcbiAgfVxufTtcbkdwdVN0ZW5jaWxNb2Rlc1RvUGl4aVtTVEVOQ0lMX01PREVTLlJFTkRFUklOR19NQVNLX1JFTU9WRV0gPSB7XG4gIHN0ZW5jaWxGcm9udDoge1xuICAgIGNvbXBhcmU6IFwiZXF1YWxcIixcbiAgICBwYXNzT3A6IFwiZGVjcmVtZW50LWNsYW1wXCJcbiAgfSxcbiAgc3RlbmNpbEJhY2s6IHtcbiAgICBjb21wYXJlOiBcImVxdWFsXCIsXG4gICAgcGFzc09wOiBcImRlY3JlbWVudC1jbGFtcFwiXG4gIH1cbn07XG5HcHVTdGVuY2lsTW9kZXNUb1BpeGlbU1RFTkNJTF9NT0RFUy5NQVNLX0FDVElWRV0gPSB7XG4gIHN0ZW5jaWxXcml0ZU1hc2s6IDAsXG4gIHN0ZW5jaWxGcm9udDoge1xuICAgIGNvbXBhcmU6IFwiZXF1YWxcIixcbiAgICBwYXNzT3A6IFwia2VlcFwiXG4gIH0sXG4gIHN0ZW5jaWxCYWNrOiB7XG4gICAgY29tcGFyZTogXCJlcXVhbFwiLFxuICAgIHBhc3NPcDogXCJrZWVwXCJcbiAgfVxufTtcbkdwdVN0ZW5jaWxNb2Rlc1RvUGl4aVtTVEVOQ0lMX01PREVTLklOVkVSU0VfTUFTS19BQ1RJVkVdID0ge1xuICBzdGVuY2lsV3JpdGVNYXNrOiAwLFxuICBzdGVuY2lsRnJvbnQ6IHtcbiAgICBjb21wYXJlOiBcIm5vdC1lcXVhbFwiLFxuICAgIHBhc3NPcDogXCJyZXBsYWNlXCJcbiAgfSxcbiAgc3RlbmNpbEJhY2s6IHtcbiAgICBjb21wYXJlOiBcIm5vdC1lcXVhbFwiLFxuICAgIHBhc3NPcDogXCJyZXBsYWNlXCJcbiAgfVxufTtcblxuZXhwb3J0IHsgR3B1U3RlbmNpbE1vZGVzVG9QaXhpIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1HcHVTdGVuY2lsTW9kZXNUb1BpeGkubWpzLm1hcFxuIiwiaW1wb3J0IEV2ZW50RW1pdHRlciBmcm9tICdldmVudGVtaXR0ZXIzJztcbmltcG9ydCB7IHVpZCB9IGZyb20gJy4uLy4uLy4uLy4uL3V0aWxzL2RhdGEvdWlkLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgQnVmZmVyUmVzb3VyY2UgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IEJ1ZmZlciBSZXNvdXJjZS5cbiAgICogQHBhcmFtIG9wdGlvbnMgLSBUaGUgb3B0aW9ucyBmb3IgdGhlIGJ1ZmZlciByZXNvdXJjZVxuICAgKiBAcGFyYW0gb3B0aW9ucy5idWZmZXIgLSBUaGUgdW5kZXJseWluZyBidWZmZXIgdGhhdCB0aGlzIHJlc291cmNlIGlzIHVzaW5nXG4gICAqIEBwYXJhbSBvcHRpb25zLm9mZnNldCAtIFRoZSBvZmZzZXQgb2YgdGhlIGJ1ZmZlciB0aGlzIHJlc291cmNlIGlzIHVzaW5nLlxuICAgKiBJZiBub3QgcHJvdmlkZWQsIHRoZW4gaXQgd2lsbCB1c2UgdGhlIG9mZnNldCBvZiB0aGUgYnVmZmVyLlxuICAgKiBAcGFyYW0gb3B0aW9ucy5zaXplIC0gVGhlIHNpemUgb2YgdGhlIGJ1ZmZlciB0aGlzIHJlc291cmNlIGlzIHVzaW5nLlxuICAgKiBJZiBub3QgcHJvdmlkZWQsIHRoZW4gaXQgd2lsbCB1c2UgdGhlIHNpemUgb2YgdGhlIGJ1ZmZlci5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHsgYnVmZmVyLCBvZmZzZXQsIHNpemUgfSkge1xuICAgIHN1cGVyKCk7XG4gICAgLyoqXG4gICAgICogZW1pdHMgd2hlbiB0aGUgdW5kZXJseWluZyBidWZmZXIgaGFzIGNoYW5nZWQgc2hhcGUgKGkuZS4gcmVzaXplZClcbiAgICAgKiBsZXR0aW5nIHRoZSByZW5kZXJlciBrbm93IHRoYXQgaXQgbmVlZHMgdG8gZGlzY2FyZCB0aGUgb2xkIGJ1ZmZlciBvbiB0aGUgR1BVIGFuZCBjcmVhdGUgYSBuZXcgb25lXG4gICAgICogQGV2ZW50IGNoYW5nZVxuICAgICAqL1xuICAgIC8qKiBhIHVuaXF1ZSBpZCBmb3IgdGhpcyB1bmlmb3JtIGdyb3VwIHVzZWQgdGhyb3VnaCB0aGUgcmVuZGVyZXIgKi9cbiAgICB0aGlzLnVpZCA9IHVpZChcImJ1ZmZlclwiKTtcbiAgICAvKipcbiAgICAgKiBhIHJlc291cmNlIHR5cGUsIHVzZWQgdG8gaWRlbnRpZnkgaG93IHRvIGhhbmRsZSBpdCB3aGVuIGl0cyBpbiBhIGJpbmQgZ3JvdXAgLyBzaGFkZXIgcmVzb3VyY2VcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKiBAaWdub3JlXG4gICAgICovXG4gICAgdGhpcy5fcmVzb3VyY2VUeXBlID0gXCJidWZmZXJSZXNvdXJjZVwiO1xuICAgIC8qKlxuICAgICAqIHVzZWQgaW50ZXJuYWxseSB0byBrbm93IGlmIGEgdW5pZm9ybSBncm91cCB3YXMgdXNlZCBpbiB0aGUgbGFzdCByZW5kZXIgcGFzc1xuICAgICAqIEBpbnRlcm5hbFxuICAgICAqIEBpZ25vcmVcbiAgICAgKi9cbiAgICB0aGlzLl90b3VjaGVkID0gMDtcbiAgICAvKipcbiAgICAgKiB0aGUgcmVzb3VyY2UgaWQgdXNlZCBpbnRlcm5hbGx5IGJ5IHRoZSByZW5kZXJlciB0byBidWlsZCBiaW5kIGdyb3VwIGtleXNcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKiBAaWdub3JlXG4gICAgICovXG4gICAgdGhpcy5fcmVzb3VyY2VJZCA9IHVpZChcInJlc291cmNlXCIpO1xuICAgIC8qKlxuICAgICAqIEEgY2hlZWt5IGhpbnQgdG8gdGhlIEdMIHJlbmRlcmVyIHRvIGxldCBpdCBrbm93IHRoaXMgaXMgYSBCdWZmZXJSZXNvdXJjZVxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqIEBpZ25vcmVcbiAgICAgKi9cbiAgICB0aGlzLl9idWZmZXJSZXNvdXJjZSA9IHRydWU7XG4gICAgLyoqXG4gICAgICogSGFzIHRoZSBCdWZmZXIgcmVzb3VyY2UgYmVlbiBkZXN0cm95ZWQ/XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgdGhpcy5kZXN0cm95ZWQgPSBmYWxzZTtcbiAgICB0aGlzLmJ1ZmZlciA9IGJ1ZmZlcjtcbiAgICB0aGlzLm9mZnNldCA9IG9mZnNldCB8IDA7XG4gICAgdGhpcy5zaXplID0gc2l6ZTtcbiAgICB0aGlzLmJ1ZmZlci5vbihcImNoYW5nZVwiLCB0aGlzLm9uQnVmZmVyQ2hhbmdlLCB0aGlzKTtcbiAgfVxuICBvbkJ1ZmZlckNoYW5nZSgpIHtcbiAgICB0aGlzLl9yZXNvdXJjZUlkID0gdWlkKFwicmVzb3VyY2VcIik7XG4gICAgdGhpcy5lbWl0KFwiY2hhbmdlXCIsIHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBEZXN0cm95cyB0aGlzIHJlc291cmNlLiBNYWtlIHN1cmUgdGhlIHVuZGVybHlpbmcgYnVmZmVyIGlzIG5vdCB1c2VkIGFueXdoZXJlIGVsc2VcbiAgICogaWYgeW91IHdhbnQgdG8gZGVzdHJveSBpdCBhcyB3ZWxsLCBvciBjb2RlIHdpbGwgZXhwbG9kZVxuICAgKiBAcGFyYW0gZGVzdHJveUJ1ZmZlciAtIFNob3VsZCB0aGUgdW5kZXJseWluZyBidWZmZXIgYmUgZGVzdHJveWVkIGFzIHdlbGw/XG4gICAqL1xuICBkZXN0cm95KGRlc3Ryb3lCdWZmZXIgPSBmYWxzZSkge1xuICAgIHRoaXMuZGVzdHJveWVkID0gdHJ1ZTtcbiAgICBpZiAoZGVzdHJveUJ1ZmZlcikge1xuICAgICAgdGhpcy5idWZmZXIuZGVzdHJveSgpO1xuICAgIH1cbiAgICB0aGlzLmVtaXQoXCJjaGFuZ2VcIiwgdGhpcyk7XG4gICAgdGhpcy5idWZmZXIgPSBudWxsO1xuICB9XG59XG5cbmV4cG9ydCB7IEJ1ZmZlclJlc291cmNlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CdWZmZXJSZXNvdXJjZS5tanMubWFwXG4iLCJpbXBvcnQgeyB1aWQgfSBmcm9tICcuLi8uLi8uLi8uLi91dGlscy9kYXRhL3VpZC5tanMnO1xuaW1wb3J0IHsgVGV4dHVyZVNvdXJjZSB9IGZyb20gJy4uL3RleHR1cmUvc291cmNlcy9UZXh0dXJlU291cmNlLm1qcyc7XG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnLi4vdGV4dHVyZS9UZXh0dXJlLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY29uc3QgX1JlbmRlclRhcmdldCA9IGNsYXNzIF9SZW5kZXJUYXJnZXQge1xuICAvKipcbiAgICogQHBhcmFtIFtkZXNjcmlwdG9yXSAtIE9wdGlvbnMgZm9yIGNyZWF0aW5nIGEgcmVuZGVyIHRhcmdldC5cbiAgICovXG4gIGNvbnN0cnVjdG9yKGRlc2NyaXB0b3IgPSB7fSkge1xuICAgIC8qKiB1bmlxdWUgaWQgZm9yIHRoaXMgcmVuZGVyIHRhcmdldCAqL1xuICAgIHRoaXMudWlkID0gdWlkKFwicmVuZGVyVGFyZ2V0XCIpO1xuICAgIC8qKlxuICAgICAqIEFuIGFycmF5IG9mIHRleHR1cmVzIHRoYXQgY2FuIGJlIHdyaXR0ZW4gdG8gYnkgdGhlIEdQVSAtIG1vc3RseSB0aGlzIGhhcyBvbmUgdGV4dHVyZSBpbiBQaXhpLCBidXQgeW91IGNvdWxkXG4gICAgICogd3JpdGUgdG8gbXVsdGlwbGUgaWYgcmVxdWlyZWQhIChlZyBkZWZlcnJlZCBsaWdodGluZylcbiAgICAgKi9cbiAgICB0aGlzLmNvbG9yVGV4dHVyZXMgPSBbXTtcbiAgICB0aGlzLmRpcnR5SWQgPSAwO1xuICAgIHRoaXMuaXNSb290ID0gZmFsc2U7XG4gICAgdGhpcy5fc2l6ZSA9IG5ldyBGbG9hdDMyQXJyYXkoMik7XG4gICAgLyoqIGlmIHRydWUsIHRoZW4gd2hlbiB0aGUgcmVuZGVyIHRhcmdldCBpcyBkZXN0cm95ZWQsIGl0IHdpbGwgZGVzdHJveSBhbGwgdGhlIHRleHR1cmVzIHRoYXQgd2VyZSBjcmVhdGVkIGZvciBpdC4gKi9cbiAgICB0aGlzLl9tYW5hZ2VkQ29sb3JUZXh0dXJlcyA9IGZhbHNlO1xuICAgIGRlc2NyaXB0b3IgPSB7IC4uLl9SZW5kZXJUYXJnZXQuZGVmYXVsdE9wdGlvbnMsIC4uLmRlc2NyaXB0b3IgfTtcbiAgICB0aGlzLnN0ZW5jaWwgPSBkZXNjcmlwdG9yLnN0ZW5jaWw7XG4gICAgdGhpcy5kZXB0aCA9IGRlc2NyaXB0b3IuZGVwdGg7XG4gICAgdGhpcy5pc1Jvb3QgPSBkZXNjcmlwdG9yLmlzUm9vdDtcbiAgICBpZiAodHlwZW9mIGRlc2NyaXB0b3IuY29sb3JUZXh0dXJlcyA9PT0gXCJudW1iZXJcIikge1xuICAgICAgdGhpcy5fbWFuYWdlZENvbG9yVGV4dHVyZXMgPSB0cnVlO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZXNjcmlwdG9yLmNvbG9yVGV4dHVyZXM7IGkrKykge1xuICAgICAgICB0aGlzLmNvbG9yVGV4dHVyZXMucHVzaChcbiAgICAgICAgICBuZXcgVGV4dHVyZVNvdXJjZSh7XG4gICAgICAgICAgICB3aWR0aDogZGVzY3JpcHRvci53aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogZGVzY3JpcHRvci5oZWlnaHQsXG4gICAgICAgICAgICByZXNvbHV0aW9uOiBkZXNjcmlwdG9yLnJlc29sdXRpb24sXG4gICAgICAgICAgICBhbnRpYWxpYXM6IGRlc2NyaXB0b3IuYW50aWFsaWFzXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jb2xvclRleHR1cmVzID0gWy4uLmRlc2NyaXB0b3IuY29sb3JUZXh0dXJlcy5tYXAoKHRleHR1cmUpID0+IHRleHR1cmUuc291cmNlKV07XG4gICAgICBjb25zdCBjb2xvclNvdXJjZSA9IHRoaXMuY29sb3JUZXh0dXJlLnNvdXJjZTtcbiAgICAgIHRoaXMucmVzaXplKGNvbG9yU291cmNlLndpZHRoLCBjb2xvclNvdXJjZS5oZWlnaHQsIGNvbG9yU291cmNlLl9yZXNvbHV0aW9uKTtcbiAgICB9XG4gICAgdGhpcy5jb2xvclRleHR1cmUuc291cmNlLm9uKFwicmVzaXplXCIsIHRoaXMub25Tb3VyY2VSZXNpemUsIHRoaXMpO1xuICAgIGlmIChkZXNjcmlwdG9yLmRlcHRoU3RlbmNpbFRleHR1cmUgfHwgdGhpcy5zdGVuY2lsKSB7XG4gICAgICBpZiAoZGVzY3JpcHRvci5kZXB0aFN0ZW5jaWxUZXh0dXJlIGluc3RhbmNlb2YgVGV4dHVyZSB8fCBkZXNjcmlwdG9yLmRlcHRoU3RlbmNpbFRleHR1cmUgaW5zdGFuY2VvZiBUZXh0dXJlU291cmNlKSB7XG4gICAgICAgIHRoaXMuZGVwdGhTdGVuY2lsVGV4dHVyZSA9IGRlc2NyaXB0b3IuZGVwdGhTdGVuY2lsVGV4dHVyZS5zb3VyY2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmVuc3VyZURlcHRoU3RlbmNpbFRleHR1cmUoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZ2V0IHNpemUoKSB7XG4gICAgY29uc3QgX3NpemUgPSB0aGlzLl9zaXplO1xuICAgIF9zaXplWzBdID0gdGhpcy5waXhlbFdpZHRoO1xuICAgIF9zaXplWzFdID0gdGhpcy5waXhlbEhlaWdodDtcbiAgICByZXR1cm4gX3NpemU7XG4gIH1cbiAgZ2V0IHdpZHRoKCkge1xuICAgIHJldHVybiB0aGlzLmNvbG9yVGV4dHVyZS5zb3VyY2Uud2lkdGg7XG4gIH1cbiAgZ2V0IGhlaWdodCgpIHtcbiAgICByZXR1cm4gdGhpcy5jb2xvclRleHR1cmUuc291cmNlLmhlaWdodDtcbiAgfVxuICBnZXQgcGl4ZWxXaWR0aCgpIHtcbiAgICByZXR1cm4gdGhpcy5jb2xvclRleHR1cmUuc291cmNlLnBpeGVsV2lkdGg7XG4gIH1cbiAgZ2V0IHBpeGVsSGVpZ2h0KCkge1xuICAgIHJldHVybiB0aGlzLmNvbG9yVGV4dHVyZS5zb3VyY2UucGl4ZWxIZWlnaHQ7XG4gIH1cbiAgZ2V0IHJlc29sdXRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuY29sb3JUZXh0dXJlLnNvdXJjZS5fcmVzb2x1dGlvbjtcbiAgfVxuICBnZXQgY29sb3JUZXh0dXJlKCkge1xuICAgIHJldHVybiB0aGlzLmNvbG9yVGV4dHVyZXNbMF07XG4gIH1cbiAgb25Tb3VyY2VSZXNpemUoc291cmNlKSB7XG4gICAgdGhpcy5yZXNpemUoc291cmNlLndpZHRoLCBzb3VyY2UuaGVpZ2h0LCBzb3VyY2UuX3Jlc29sdXRpb24sIHRydWUpO1xuICB9XG4gIC8qKlxuICAgKiBUaGlzIHdpbGwgZW5zdXJlIGEgZGVwdGhTdGVuY2lsIHRleHR1cmUgaXMgY3JlYXRlZCBmb3IgdGhpcyByZW5kZXIgdGFyZ2V0LlxuICAgKiBNb3N0IGxpa2VseSBjYWxsZWQgYnkgdGhlIG1hc2sgc3lzdGVtIHRvIG1ha2Ugc3VyZSB3ZSBoYXZlIHN0ZW5jaWwgYnVmZmVyIGFkZGVkLlxuICAgKiBAaW50ZXJuYWxcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgZW5zdXJlRGVwdGhTdGVuY2lsVGV4dHVyZSgpIHtcbiAgICBpZiAoIXRoaXMuZGVwdGhTdGVuY2lsVGV4dHVyZSkge1xuICAgICAgdGhpcy5kZXB0aFN0ZW5jaWxUZXh0dXJlID0gbmV3IFRleHR1cmVTb3VyY2Uoe1xuICAgICAgICB3aWR0aDogdGhpcy53aWR0aCxcbiAgICAgICAgaGVpZ2h0OiB0aGlzLmhlaWdodCxcbiAgICAgICAgcmVzb2x1dGlvbjogdGhpcy5yZXNvbHV0aW9uLFxuICAgICAgICBmb3JtYXQ6IFwiZGVwdGgyNHBsdXMtc3RlbmNpbDhcIixcbiAgICAgICAgYXV0b0dlbmVyYXRlTWlwbWFwczogZmFsc2UsXG4gICAgICAgIGFudGlhbGlhczogZmFsc2UsXG4gICAgICAgIG1pcExldmVsQ291bnQ6IDFcbiAgICAgICAgLy8gc2FtcGxlQ291bnQ6IGhhbmRsZWQgYnkgdGhlIHJlbmRlciB0YXJnZXQgc3lzdGVtLi5cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICByZXNpemUod2lkdGgsIGhlaWdodCwgcmVzb2x1dGlvbiA9IHRoaXMucmVzb2x1dGlvbiwgc2tpcENvbG9yVGV4dHVyZSA9IGZhbHNlKSB7XG4gICAgdGhpcy5kaXJ0eUlkKys7XG4gICAgdGhpcy5jb2xvclRleHR1cmVzLmZvckVhY2goKGNvbG9yVGV4dHVyZSwgaSkgPT4ge1xuICAgICAgaWYgKHNraXBDb2xvclRleHR1cmUgJiYgaSA9PT0gMClcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY29sb3JUZXh0dXJlLnNvdXJjZS5yZXNpemUod2lkdGgsIGhlaWdodCwgcmVzb2x1dGlvbik7XG4gICAgfSk7XG4gICAgaWYgKHRoaXMuZGVwdGhTdGVuY2lsVGV4dHVyZSkge1xuICAgICAgdGhpcy5kZXB0aFN0ZW5jaWxUZXh0dXJlLnNvdXJjZS5yZXNpemUod2lkdGgsIGhlaWdodCwgcmVzb2x1dGlvbik7XG4gICAgfVxuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5jb2xvclRleHR1cmUuc291cmNlLm9mZihcInJlc2l6ZVwiLCB0aGlzLm9uU291cmNlUmVzaXplLCB0aGlzKTtcbiAgICBpZiAodGhpcy5fbWFuYWdlZENvbG9yVGV4dHVyZXMpIHtcbiAgICAgIHRoaXMuY29sb3JUZXh0dXJlcy5mb3JFYWNoKCh0ZXh0dXJlKSA9PiB7XG4gICAgICAgIHRleHR1cmUuZGVzdHJveSgpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGlmICh0aGlzLmRlcHRoU3RlbmNpbFRleHR1cmUpIHtcbiAgICAgIHRoaXMuZGVwdGhTdGVuY2lsVGV4dHVyZS5kZXN0cm95KCk7XG4gICAgICBkZWxldGUgdGhpcy5kZXB0aFN0ZW5jaWxUZXh0dXJlO1xuICAgIH1cbiAgfVxufTtcbi8qKiBUaGUgZGVmYXVsdCBvcHRpb25zIGZvciBhIHJlbmRlciB0YXJnZXQgKi9cbl9SZW5kZXJUYXJnZXQuZGVmYXVsdE9wdGlvbnMgPSB7XG4gIC8qKiB0aGUgd2lkdGggb2YgdGhlIFJlbmRlclRhcmdldCAqL1xuICB3aWR0aDogMCxcbiAgLyoqIHRoZSBoZWlnaHQgb2YgdGhlIFJlbmRlclRhcmdldCAqL1xuICBoZWlnaHQ6IDAsXG4gIC8qKiB0aGUgcmVzb2x1dGlvbiBvZiB0aGUgUmVuZGVyVGFyZ2V0ICovXG4gIHJlc29sdXRpb246IDEsXG4gIC8qKiBhbiBhcnJheSBvZiB0ZXh0dXJlcywgb3IgYSBudW1iZXIgaW5kaWNhdGluZyBob3cgbWFueSBjb2xvciB0ZXh0dXJlcyB0aGVyZSBzaG91bGQgYmUgKi9cbiAgY29sb3JUZXh0dXJlczogMSxcbiAgLyoqIHNob3VsZCB0aGlzIHJlbmRlciB0YXJnZXQgaGF2ZSBhIHN0ZW5jaWwgYnVmZmVyPyAqL1xuICBzdGVuY2lsOiBmYWxzZSxcbiAgLyoqIHNob3VsZCB0aGlzIHJlbmRlciB0YXJnZXQgaGF2ZSBhIGRlcHRoIGJ1ZmZlcj8gKi9cbiAgZGVwdGg6IGZhbHNlLFxuICAvKiogc2hvdWxkIHRoaXMgcmVuZGVyIHRhcmdldCBiZSBhbnRpYWxpYXNlZD8gKi9cbiAgYW50aWFsaWFzOiBmYWxzZSxcbiAgLy8gc2F2ZSBvbiBwZXJmIGJ5IGRlZmF1bHQhXG4gIC8qKiBpcyB0aGlzIGEgcm9vdCBlbGVtZW50LCB0cnVlIGlmIHRoaXMgaXMgZ2wgY29udGV4dCBvd25lcnMgcmVuZGVyIHRhcmdldCAqL1xuICBpc1Jvb3Q6IGZhbHNlXG59O1xubGV0IFJlbmRlclRhcmdldCA9IF9SZW5kZXJUYXJnZXQ7XG5cbmV4cG9ydCB7IFJlbmRlclRhcmdldCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVuZGVyVGFyZ2V0Lm1qcy5tYXBcbiIsImltcG9ydCB7IE1hdHJpeCB9IGZyb20gJy4uLy4uLy4uLy4uL21hdGhzL21hdHJpeC9NYXRyaXgubWpzJztcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gJy4uLy4uLy4uLy4uL21hdGhzL3NoYXBlcy9SZWN0YW5nbGUubWpzJztcbmltcG9ydCB7IENMRUFSIH0gZnJvbSAnLi4vLi4vZ2wvY29uc3QubWpzJztcbmltcG9ydCB7IGNhbGN1bGF0ZVByb2plY3Rpb24gfSBmcm9tICcuLi8uLi9ncHUvcmVuZGVyVGFyZ2V0L2NhbGN1bGF0ZVByb2plY3Rpb24ubWpzJztcbmltcG9ydCB7IFN5c3RlbVJ1bm5lciB9IGZyb20gJy4uL3N5c3RlbS9TeXN0ZW1SdW5uZXIubWpzJztcbmltcG9ydCB7IENhbnZhc1NvdXJjZSB9IGZyb20gJy4uL3RleHR1cmUvc291cmNlcy9DYW52YXNTb3VyY2UubWpzJztcbmltcG9ydCB7IFRleHR1cmVTb3VyY2UgfSBmcm9tICcuLi90ZXh0dXJlL3NvdXJjZXMvVGV4dHVyZVNvdXJjZS5tanMnO1xuaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJy4uL3RleHR1cmUvVGV4dHVyZS5tanMnO1xuaW1wb3J0IHsgZ2V0Q2FudmFzVGV4dHVyZSB9IGZyb20gJy4uL3RleHR1cmUvdXRpbHMvZ2V0Q2FudmFzVGV4dHVyZS5tanMnO1xuaW1wb3J0IHsgaXNSZW5kZXJpbmdUb1NjcmVlbiB9IGZyb20gJy4vaXNSZW5kZXJpbmdUb1NjcmVlbi5tanMnO1xuaW1wb3J0IHsgUmVuZGVyVGFyZ2V0IH0gZnJvbSAnLi9SZW5kZXJUYXJnZXQubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jbGFzcyBSZW5kZXJUYXJnZXRTeXN0ZW0ge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgIC8qKiBUaGlzIGlzIHRoZSByb290IHZpZXdwb3J0IGZvciB0aGUgcmVuZGVyIHBhc3MqL1xuICAgIHRoaXMucm9vdFZpZXdQb3J0ID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgIC8qKiB0aGUgY3VycmVudCB2aWV3cG9ydCB0aGF0IHRoZSBncHUgaXMgdXNpbmcgKi9cbiAgICB0aGlzLnZpZXdwb3J0ID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgIC8qKlxuICAgICAqIGEgcnVubmVyIHRoYXQgbGV0cyBzeXN0ZW1zIGtub3cgaWYgdGhlIGFjdGl2ZSByZW5kZXIgdGFyZ2V0IGhhcyBjaGFuZ2VkLlxuICAgICAqIEVnIHRoZSBTdGVuY2lsIFN5c3RlbSBuZWVkcyB0byBrbm93IHNvIGl0IGNhbiBtYW5hZ2UgdGhlIHN0ZW5jaWwgYnVmZmVyXG4gICAgICovXG4gICAgdGhpcy5vblJlbmRlclRhcmdldENoYW5nZSA9IG5ldyBTeXN0ZW1SdW5uZXIoXCJvblJlbmRlclRhcmdldENoYW5nZVwiKTtcbiAgICAvKiogdGhlIHByb2plY3Rpb24gbWF0cml4IHRoYXQgaXMgdXNlZCBieSB0aGUgc2hhZGVycyBiYXNlZCBvbiB0aGUgYWN0aXZlIHJlbmRlciB0YXJnZXQgYW5kIHRoZSB2aWV3cG9ydCAqL1xuICAgIHRoaXMucHJvamVjdGlvbk1hdHJpeCA9IG5ldyBNYXRyaXgoKTtcbiAgICAvKiogdGhlIGRlZmF1bHQgY2xlYXIgY29sb3IgZm9yIHJlbmRlciB0YXJnZXRzICovXG4gICAgdGhpcy5kZWZhdWx0Q2xlYXJDb2xvciA9IFswLCAwLCAwLCAwXTtcbiAgICAvKipcbiAgICAgKiBhIGhhc2ggdGhhdCBzdG9yZXMgdGhlIHJlbmRlciB0YXJnZXQgZm9yIGEgZ2l2ZW4gcmVuZGVyIHN1cmZhY2UuIFdoZW4geW91IHBhc3MgaW4gYSB0ZXh0dXJlIHNvdXJjZSxcbiAgICAgKiBhIHJlbmRlciB0YXJnZXQgaXMgY3JlYXRlZCBmb3IgaXQuIFRoaXMgbWFwIHN0b3JlcyBhbmQgbWFrZXMgaXQgZWFzeSB0byByZXRyaWV2ZSB0aGUgcmVuZGVyIHRhcmdldFxuICAgICAqL1xuICAgIHRoaXMuX3JlbmRlclN1cmZhY2VUb1JlbmRlclRhcmdldEhhc2ggPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICAgIC8qKiBBIGhhc2ggdGhhdCBzdG9yZXMgYSBncHUgcmVuZGVyIHRhcmdldCBmb3IgYSBnaXZlbiByZW5kZXIgdGFyZ2V0LiAqL1xuICAgIHRoaXMuX2dwdVJlbmRlclRhcmdldEhhc2ggPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAvKipcbiAgICAgKiBBIHN0YWNrIHRoYXQgc3RvcmVzIHRoZSByZW5kZXIgdGFyZ2V0IGFuZCBmcmFtZSB0aGF0IGlzIGN1cnJlbnRseSBiZWluZyByZW5kZXJlZCB0by5cbiAgICAgKiBXaGVuIHB1c2ggaXMgY2FsbGVkLCB0aGUgY3VycmVudCByZW5kZXIgdGFyZ2V0IGlzIHN0b3JlZCBpbiB0aGlzIHN0YWNrLlxuICAgICAqIFdoZW4gcG9wIGlzIGNhbGxlZCwgdGhlIHByZXZpb3VzIHJlbmRlciB0YXJnZXQgaXMgcmVzdG9yZWQuXG4gICAgICovXG4gICAgdGhpcy5fcmVuZGVyVGFyZ2V0U3RhY2sgPSBbXTtcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHJlbmRlcmVyLnJlbmRlcmFibGVHQy5hZGRNYW5hZ2VkSGFzaCh0aGlzLCBcIl9ncHVSZW5kZXJUYXJnZXRIYXNoXCIpO1xuICB9XG4gIC8qKiBjYWxsZWQgd2hlbiBkZXYgd2FudHMgdG8gZmluaXNoIGEgcmVuZGVyIHBhc3MgKi9cbiAgZmluaXNoUmVuZGVyUGFzcygpIHtcbiAgICB0aGlzLmFkYXB0b3IuZmluaXNoUmVuZGVyUGFzcyh0aGlzLnJlbmRlclRhcmdldCk7XG4gIH1cbiAgLyoqXG4gICAqIGNhbGxlZCB3aGVuIHRoZSByZW5kZXJlciBzdGFydHMgdG8gcmVuZGVyIGEgc2NlbmUuXG4gICAqIEBwYXJhbSBvcHRpb25zXG4gICAqIEBwYXJhbSBvcHRpb25zLnRhcmdldCAtIHRoZSByZW5kZXIgdGFyZ2V0IHRvIHJlbmRlciB0b1xuICAgKiBAcGFyYW0gb3B0aW9ucy5jbGVhciAtIHRoZSBjbGVhciBtb2RlIHRvIHVzZS4gQ2FuIGJlIHRydWUgb3IgYSBDTEVBUiBudW1iZXIgJ0NPTE9SIHwgREVQVEggfCBTVEVOQ0lMJyAwYjExMVxuICAgKiBAcGFyYW0gb3B0aW9ucy5jbGVhckNvbG9yIC0gdGhlIGNvbG9yIHRvIGNsZWFyIHRvXG4gICAqIEBwYXJhbSBvcHRpb25zLmZyYW1lIC0gdGhlIGZyYW1lIHRvIHJlbmRlciB0b1xuICAgKi9cbiAgcmVuZGVyU3RhcnQoe1xuICAgIHRhcmdldCxcbiAgICBjbGVhcixcbiAgICBjbGVhckNvbG9yLFxuICAgIGZyYW1lXG4gIH0pIHtcbiAgICB0aGlzLl9yZW5kZXJUYXJnZXRTdGFjay5sZW5ndGggPSAwO1xuICAgIHRoaXMucHVzaChcbiAgICAgIHRhcmdldCxcbiAgICAgIGNsZWFyLFxuICAgICAgY2xlYXJDb2xvcixcbiAgICAgIGZyYW1lXG4gICAgKTtcbiAgICB0aGlzLnJvb3RWaWV3UG9ydC5jb3B5RnJvbSh0aGlzLnZpZXdwb3J0KTtcbiAgICB0aGlzLnJvb3RSZW5kZXJUYXJnZXQgPSB0aGlzLnJlbmRlclRhcmdldDtcbiAgICB0aGlzLnJlbmRlcmluZ1RvU2NyZWVuID0gaXNSZW5kZXJpbmdUb1NjcmVlbih0aGlzLnJvb3RSZW5kZXJUYXJnZXQpO1xuICAgIHRoaXMuYWRhcHRvci5wcmVyZW5kZXI/Lih0aGlzLnJvb3RSZW5kZXJUYXJnZXQpO1xuICB9XG4gIHBvc3RyZW5kZXIoKSB7XG4gICAgdGhpcy5hZGFwdG9yLnBvc3RyZW5kZXI/Lih0aGlzLnJvb3RSZW5kZXJUYXJnZXQpO1xuICB9XG4gIC8qKlxuICAgKiBCaW5kaW5nIGEgcmVuZGVyIHN1cmZhY2UhIFRoaXMgaXMgdGhlIG1haW4gZnVuY3Rpb24gb2YgdGhlIHJlbmRlciB0YXJnZXQgc3lzdGVtLlxuICAgKiBJdCB3aWxsIHRha2UgdGhlIFJlbmRlclN1cmZhY2UgKHdoaWNoIGNhbiBiZSBhIHRleHR1cmUsIGNhbnZhcywgb3IgcmVuZGVyIHRhcmdldCkgYW5kIGJpbmQgaXQgdG8gdGhlIHJlbmRlcmVyLlxuICAgKiBPbmNlIGJvdW5kIGFsbCBkcmF3IGNhbGxzIHdpbGwgYmUgcmVuZGVyZWQgdG8gdGhlIHJlbmRlciBzdXJmYWNlLlxuICAgKlxuICAgKiBJZiBhIGZyYW1lIGlzIG5vdCBwcm92aWRlIGFuZCB0aGUgcmVuZGVyIHN1cmZhY2UgaXMgYSB0ZXh0dXJlLCB0aGUgZnJhbWUgb2YgdGhlIHRleHR1cmUgd2lsbCBiZSB1c2VkLlxuICAgKiBAcGFyYW0gcmVuZGVyU3VyZmFjZSAtIHRoZSByZW5kZXIgc3VyZmFjZSB0byBiaW5kXG4gICAqIEBwYXJhbSBjbGVhciAtIHRoZSBjbGVhciBtb2RlIHRvIHVzZS4gQ2FuIGJlIHRydWUgb3IgYSBDTEVBUiBudW1iZXIgJ0NPTE9SIHwgREVQVEggfCBTVEVOQ0lMJyAwYjExMVxuICAgKiBAcGFyYW0gY2xlYXJDb2xvciAtIHRoZSBjb2xvciB0byBjbGVhciB0b1xuICAgKiBAcGFyYW0gZnJhbWUgLSB0aGUgZnJhbWUgdG8gcmVuZGVyIHRvXG4gICAqIEByZXR1cm5zIHRoZSByZW5kZXIgdGFyZ2V0IHRoYXQgd2FzIGJvdW5kXG4gICAqL1xuICBiaW5kKHJlbmRlclN1cmZhY2UsIGNsZWFyID0gdHJ1ZSwgY2xlYXJDb2xvciwgZnJhbWUpIHtcbiAgICBjb25zdCByZW5kZXJUYXJnZXQgPSB0aGlzLmdldFJlbmRlclRhcmdldChyZW5kZXJTdXJmYWNlKTtcbiAgICBjb25zdCBkaWRDaGFuZ2UgPSB0aGlzLnJlbmRlclRhcmdldCAhPT0gcmVuZGVyVGFyZ2V0O1xuICAgIHRoaXMucmVuZGVyVGFyZ2V0ID0gcmVuZGVyVGFyZ2V0O1xuICAgIHRoaXMucmVuZGVyU3VyZmFjZSA9IHJlbmRlclN1cmZhY2U7XG4gICAgY29uc3QgZ3B1UmVuZGVyVGFyZ2V0ID0gdGhpcy5nZXRHcHVSZW5kZXJUYXJnZXQocmVuZGVyVGFyZ2V0KTtcbiAgICBpZiAocmVuZGVyVGFyZ2V0LnBpeGVsV2lkdGggIT09IGdwdVJlbmRlclRhcmdldC53aWR0aCB8fCByZW5kZXJUYXJnZXQucGl4ZWxIZWlnaHQgIT09IGdwdVJlbmRlclRhcmdldC5oZWlnaHQpIHtcbiAgICAgIHRoaXMuYWRhcHRvci5yZXNpemVHcHVSZW5kZXJUYXJnZXQocmVuZGVyVGFyZ2V0KTtcbiAgICAgIGdwdVJlbmRlclRhcmdldC53aWR0aCA9IHJlbmRlclRhcmdldC5waXhlbFdpZHRoO1xuICAgICAgZ3B1UmVuZGVyVGFyZ2V0LmhlaWdodCA9IHJlbmRlclRhcmdldC5waXhlbEhlaWdodDtcbiAgICB9XG4gICAgY29uc3Qgc291cmNlID0gcmVuZGVyVGFyZ2V0LmNvbG9yVGV4dHVyZTtcbiAgICBjb25zdCB2aWV3cG9ydCA9IHRoaXMudmlld3BvcnQ7XG4gICAgY29uc3QgcGl4ZWxXaWR0aCA9IHNvdXJjZS5waXhlbFdpZHRoO1xuICAgIGNvbnN0IHBpeGVsSGVpZ2h0ID0gc291cmNlLnBpeGVsSGVpZ2h0O1xuICAgIGlmICghZnJhbWUgJiYgcmVuZGVyU3VyZmFjZSBpbnN0YW5jZW9mIFRleHR1cmUpIHtcbiAgICAgIGZyYW1lID0gcmVuZGVyU3VyZmFjZS5mcmFtZTtcbiAgICB9XG4gICAgaWYgKGZyYW1lKSB7XG4gICAgICBjb25zdCByZXNvbHV0aW9uID0gc291cmNlLl9yZXNvbHV0aW9uO1xuICAgICAgdmlld3BvcnQueCA9IGZyYW1lLnggKiByZXNvbHV0aW9uICsgMC41IHwgMDtcbiAgICAgIHZpZXdwb3J0LnkgPSBmcmFtZS55ICogcmVzb2x1dGlvbiArIDAuNSB8IDA7XG4gICAgICB2aWV3cG9ydC53aWR0aCA9IGZyYW1lLndpZHRoICogcmVzb2x1dGlvbiArIDAuNSB8IDA7XG4gICAgICB2aWV3cG9ydC5oZWlnaHQgPSBmcmFtZS5oZWlnaHQgKiByZXNvbHV0aW9uICsgMC41IHwgMDtcbiAgICB9IGVsc2Uge1xuICAgICAgdmlld3BvcnQueCA9IDA7XG4gICAgICB2aWV3cG9ydC55ID0gMDtcbiAgICAgIHZpZXdwb3J0LndpZHRoID0gcGl4ZWxXaWR0aDtcbiAgICAgIHZpZXdwb3J0LmhlaWdodCA9IHBpeGVsSGVpZ2h0O1xuICAgIH1cbiAgICBjYWxjdWxhdGVQcm9qZWN0aW9uKFxuICAgICAgdGhpcy5wcm9qZWN0aW9uTWF0cml4LFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICB2aWV3cG9ydC53aWR0aCAvIHNvdXJjZS5yZXNvbHV0aW9uLFxuICAgICAgdmlld3BvcnQuaGVpZ2h0IC8gc291cmNlLnJlc29sdXRpb24sXG4gICAgICAhcmVuZGVyVGFyZ2V0LmlzUm9vdFxuICAgICk7XG4gICAgdGhpcy5hZGFwdG9yLnN0YXJ0UmVuZGVyUGFzcyhyZW5kZXJUYXJnZXQsIGNsZWFyLCBjbGVhckNvbG9yLCB2aWV3cG9ydCk7XG4gICAgaWYgKGRpZENoYW5nZSkge1xuICAgICAgdGhpcy5vblJlbmRlclRhcmdldENoYW5nZS5lbWl0KHJlbmRlclRhcmdldCk7XG4gICAgfVxuICAgIHJldHVybiByZW5kZXJUYXJnZXQ7XG4gIH1cbiAgY2xlYXIodGFyZ2V0LCBjbGVhciA9IENMRUFSLkFMTCwgY2xlYXJDb2xvcikge1xuICAgIGlmICghY2xlYXIpXG4gICAgICByZXR1cm47XG4gICAgaWYgKHRhcmdldCkge1xuICAgICAgdGFyZ2V0ID0gdGhpcy5nZXRSZW5kZXJUYXJnZXQodGFyZ2V0KTtcbiAgICB9XG4gICAgdGhpcy5hZGFwdG9yLmNsZWFyKFxuICAgICAgdGFyZ2V0IHx8IHRoaXMucmVuZGVyVGFyZ2V0LFxuICAgICAgY2xlYXIsXG4gICAgICBjbGVhckNvbG9yLFxuICAgICAgdGhpcy52aWV3cG9ydFxuICAgICk7XG4gIH1cbiAgY29udGV4dENoYW5nZSgpIHtcbiAgICB0aGlzLl9ncHVSZW5kZXJUYXJnZXRIYXNoID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIH1cbiAgLyoqXG4gICAqIFB1c2ggYSByZW5kZXIgc3VyZmFjZSB0byB0aGUgcmVuZGVyZXIuIFRoaXMgd2lsbCBiaW5kIHRoZSByZW5kZXIgc3VyZmFjZSB0byB0aGUgcmVuZGVyZXIsXG4gICAqIEBwYXJhbSByZW5kZXJTdXJmYWNlIC0gdGhlIHJlbmRlciBzdXJmYWNlIHRvIHB1c2hcbiAgICogQHBhcmFtIGNsZWFyIC0gdGhlIGNsZWFyIG1vZGUgdG8gdXNlLiBDYW4gYmUgdHJ1ZSBvciBhIENMRUFSIG51bWJlciAnQ09MT1IgfCBERVBUSCB8IFNURU5DSUwnIDBiMTExXG4gICAqIEBwYXJhbSBjbGVhckNvbG9yIC0gdGhlIGNvbG9yIHRvIGNsZWFyIHRvXG4gICAqIEBwYXJhbSBmcmFtZSAtIHRoZSBmcmFtZSB0byB1c2Ugd2hlbiByZW5kZXJpbmcgdG8gdGhlIHJlbmRlciBzdXJmYWNlXG4gICAqL1xuICBwdXNoKHJlbmRlclN1cmZhY2UsIGNsZWFyID0gQ0xFQVIuQUxMLCBjbGVhckNvbG9yLCBmcmFtZSkge1xuICAgIGNvbnN0IHJlbmRlclRhcmdldCA9IHRoaXMuYmluZChyZW5kZXJTdXJmYWNlLCBjbGVhciwgY2xlYXJDb2xvciwgZnJhbWUpO1xuICAgIHRoaXMuX3JlbmRlclRhcmdldFN0YWNrLnB1c2goe1xuICAgICAgcmVuZGVyVGFyZ2V0LFxuICAgICAgZnJhbWVcbiAgICB9KTtcbiAgICByZXR1cm4gcmVuZGVyVGFyZ2V0O1xuICB9XG4gIC8qKiBQb3BzIHRoZSBjdXJyZW50IHJlbmRlciB0YXJnZXQgZnJvbSB0aGUgcmVuZGVyZXIgYW5kIHJlc3RvcmVzIHRoZSBwcmV2aW91cyByZW5kZXIgdGFyZ2V0LiAqL1xuICBwb3AoKSB7XG4gICAgdGhpcy5fcmVuZGVyVGFyZ2V0U3RhY2sucG9wKCk7XG4gICAgY29uc3QgY3VycmVudFJlbmRlclRhcmdldERhdGEgPSB0aGlzLl9yZW5kZXJUYXJnZXRTdGFja1t0aGlzLl9yZW5kZXJUYXJnZXRTdGFjay5sZW5ndGggLSAxXTtcbiAgICB0aGlzLmJpbmQoY3VycmVudFJlbmRlclRhcmdldERhdGEucmVuZGVyVGFyZ2V0LCBmYWxzZSwgbnVsbCwgY3VycmVudFJlbmRlclRhcmdldERhdGEuZnJhbWUpO1xuICB9XG4gIC8qKlxuICAgKiBHZXRzIHRoZSByZW5kZXIgdGFyZ2V0IGZyb20gdGhlIHByb3ZpZGUgcmVuZGVyIHN1cmZhY2UuIEVnIGlmIGl0cyBhIHRleHR1cmUsXG4gICAqIGl0IHdpbGwgcmV0dXJuIHRoZSByZW5kZXIgdGFyZ2V0IGZvciB0aGUgdGV4dHVyZS5cbiAgICogSWYgaXRzIGEgcmVuZGVyIHRhcmdldCwgaXQgd2lsbCByZXR1cm4gdGhlIHNhbWUgcmVuZGVyIHRhcmdldC5cbiAgICogQHBhcmFtIHJlbmRlclN1cmZhY2UgLSB0aGUgcmVuZGVyIHN1cmZhY2UgdG8gZ2V0IHRoZSByZW5kZXIgdGFyZ2V0IGZvclxuICAgKiBAcmV0dXJucyB0aGUgcmVuZGVyIHRhcmdldCBmb3IgdGhlIHJlbmRlciBzdXJmYWNlXG4gICAqL1xuICBnZXRSZW5kZXJUYXJnZXQocmVuZGVyU3VyZmFjZSkge1xuICAgIGlmIChyZW5kZXJTdXJmYWNlLmlzVGV4dHVyZSkge1xuICAgICAgcmVuZGVyU3VyZmFjZSA9IHJlbmRlclN1cmZhY2Uuc291cmNlO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fcmVuZGVyU3VyZmFjZVRvUmVuZGVyVGFyZ2V0SGFzaC5nZXQocmVuZGVyU3VyZmFjZSkgPz8gdGhpcy5faW5pdFJlbmRlclRhcmdldChyZW5kZXJTdXJmYWNlKTtcbiAgfVxuICAvKipcbiAgICogQ29waWVzIGEgcmVuZGVyIHN1cmZhY2UgdG8gYW5vdGhlciB0ZXh0dXJlXG4gICAqIEBwYXJhbSBzb3VyY2VSZW5kZXJTdXJmYWNlVGV4dHVyZSAtIHRoZSByZW5kZXIgc3VyZmFjZSB0byBjb3B5IGZyb21cbiAgICogQHBhcmFtIGRlc3RpbmF0aW9uVGV4dHVyZSAtIHRoZSB0ZXh0dXJlIHRvIGNvcHkgdG9cbiAgICogQHBhcmFtIG9yaWdpblNyYyAtIHRoZSBvcmlnaW4gb2YgdGhlIGNvcHlcbiAgICogQHBhcmFtIG9yaWdpblNyYy54IC0gdGhlIHggb3JpZ2luIG9mIHRoZSBjb3B5XG4gICAqIEBwYXJhbSBvcmlnaW5TcmMueSAtIHRoZSB5IG9yaWdpbiBvZiB0aGUgY29weVxuICAgKiBAcGFyYW0gc2l6ZSAtIHRoZSBzaXplIG9mIHRoZSBjb3B5XG4gICAqIEBwYXJhbSBzaXplLndpZHRoIC0gdGhlIHdpZHRoIG9mIHRoZSBjb3B5XG4gICAqIEBwYXJhbSBzaXplLmhlaWdodCAtIHRoZSBoZWlnaHQgb2YgdGhlIGNvcHlcbiAgICogQHBhcmFtIG9yaWdpbkRlc3QgLSB0aGUgZGVzdGluYXRpb24gb3JpZ2luICh0b3AgbGVmdCB0byBwYXN0ZSBmcm9tISlcbiAgICogQHBhcmFtIG9yaWdpbkRlc3QueCAtIHRoZSB4IG9yaWdpbiBvZiB0aGUgcGFzdGVcbiAgICogQHBhcmFtIG9yaWdpbkRlc3QueSAtIHRoZSB5IG9yaWdpbiBvZiB0aGUgcGFzdGVcbiAgICovXG4gIGNvcHlUb1RleHR1cmUoc291cmNlUmVuZGVyU3VyZmFjZVRleHR1cmUsIGRlc3RpbmF0aW9uVGV4dHVyZSwgb3JpZ2luU3JjLCBzaXplLCBvcmlnaW5EZXN0KSB7XG4gICAgaWYgKG9yaWdpblNyYy54IDwgMCkge1xuICAgICAgc2l6ZS53aWR0aCArPSBvcmlnaW5TcmMueDtcbiAgICAgIG9yaWdpbkRlc3QueCAtPSBvcmlnaW5TcmMueDtcbiAgICAgIG9yaWdpblNyYy54ID0gMDtcbiAgICB9XG4gICAgaWYgKG9yaWdpblNyYy55IDwgMCkge1xuICAgICAgc2l6ZS5oZWlnaHQgKz0gb3JpZ2luU3JjLnk7XG4gICAgICBvcmlnaW5EZXN0LnkgLT0gb3JpZ2luU3JjLnk7XG4gICAgICBvcmlnaW5TcmMueSA9IDA7XG4gICAgfVxuICAgIGNvbnN0IHsgcGl4ZWxXaWR0aCwgcGl4ZWxIZWlnaHQgfSA9IHNvdXJjZVJlbmRlclN1cmZhY2VUZXh0dXJlO1xuICAgIHNpemUud2lkdGggPSBNYXRoLm1pbihzaXplLndpZHRoLCBwaXhlbFdpZHRoIC0gb3JpZ2luU3JjLngpO1xuICAgIHNpemUuaGVpZ2h0ID0gTWF0aC5taW4oc2l6ZS5oZWlnaHQsIHBpeGVsSGVpZ2h0IC0gb3JpZ2luU3JjLnkpO1xuICAgIHJldHVybiB0aGlzLmFkYXB0b3IuY29weVRvVGV4dHVyZShcbiAgICAgIHNvdXJjZVJlbmRlclN1cmZhY2VUZXh0dXJlLFxuICAgICAgZGVzdGluYXRpb25UZXh0dXJlLFxuICAgICAgb3JpZ2luU3JjLFxuICAgICAgc2l6ZSxcbiAgICAgIG9yaWdpbkRlc3RcbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBlbnN1cmVzIHRoYXQgd2UgaGF2ZSBhIGRlcHRoIHN0ZW5jaWwgYnVmZmVyIGF2YWlsYWJsZSB0byByZW5kZXIgdG9cbiAgICogVGhpcyBpcyB1c2VkIGJ5IHRoZSBtYXNrIHN5c3RlbSB0byBtYWtlIHN1cmUgd2UgaGF2ZSBhIHN0ZW5jaWwgYnVmZmVyLlxuICAgKi9cbiAgZW5zdXJlRGVwdGhTdGVuY2lsKCkge1xuICAgIGlmICghdGhpcy5yZW5kZXJUYXJnZXQuc3RlbmNpbCkge1xuICAgICAgdGhpcy5yZW5kZXJUYXJnZXQuc3RlbmNpbCA9IHRydWU7XG4gICAgICB0aGlzLmFkYXB0b3Iuc3RhcnRSZW5kZXJQYXNzKHRoaXMucmVuZGVyVGFyZ2V0LCBmYWxzZSwgbnVsbCwgdGhpcy52aWV3cG9ydCk7XG4gICAgfVxuICB9XG4gIC8qKiBudWtlcyB0aGUgcmVuZGVyIHRhcmdldCBzeXN0ZW0gKi9cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLl9yZW5kZXJlciA9IG51bGw7XG4gICAgdGhpcy5fcmVuZGVyU3VyZmFjZVRvUmVuZGVyVGFyZ2V0SGFzaC5mb3JFYWNoKChyZW5kZXJUYXJnZXQsIGtleSkgPT4ge1xuICAgICAgaWYgKHJlbmRlclRhcmdldCAhPT0ga2V5KSB7XG4gICAgICAgIHJlbmRlclRhcmdldC5kZXN0cm95KCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5fcmVuZGVyU3VyZmFjZVRvUmVuZGVyVGFyZ2V0SGFzaC5jbGVhcigpO1xuICAgIHRoaXMuX2dwdVJlbmRlclRhcmdldEhhc2ggPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgfVxuICBfaW5pdFJlbmRlclRhcmdldChyZW5kZXJTdXJmYWNlKSB7XG4gICAgbGV0IHJlbmRlclRhcmdldCA9IG51bGw7XG4gICAgaWYgKENhbnZhc1NvdXJjZS50ZXN0KHJlbmRlclN1cmZhY2UpKSB7XG4gICAgICByZW5kZXJTdXJmYWNlID0gZ2V0Q2FudmFzVGV4dHVyZShyZW5kZXJTdXJmYWNlKS5zb3VyY2U7XG4gICAgfVxuICAgIGlmIChyZW5kZXJTdXJmYWNlIGluc3RhbmNlb2YgUmVuZGVyVGFyZ2V0KSB7XG4gICAgICByZW5kZXJUYXJnZXQgPSByZW5kZXJTdXJmYWNlO1xuICAgIH0gZWxzZSBpZiAocmVuZGVyU3VyZmFjZSBpbnN0YW5jZW9mIFRleHR1cmVTb3VyY2UpIHtcbiAgICAgIHJlbmRlclRhcmdldCA9IG5ldyBSZW5kZXJUYXJnZXQoe1xuICAgICAgICBjb2xvclRleHR1cmVzOiBbcmVuZGVyU3VyZmFjZV1cbiAgICAgIH0pO1xuICAgICAgaWYgKENhbnZhc1NvdXJjZS50ZXN0KHJlbmRlclN1cmZhY2Uuc291cmNlLnJlc291cmNlKSkge1xuICAgICAgICByZW5kZXJUYXJnZXQuaXNSb290ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJlbmRlclN1cmZhY2Uub25jZShcImRlc3Ryb3lcIiwgKCkgPT4ge1xuICAgICAgICByZW5kZXJUYXJnZXQuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLl9yZW5kZXJTdXJmYWNlVG9SZW5kZXJUYXJnZXRIYXNoLmRlbGV0ZShyZW5kZXJTdXJmYWNlKTtcbiAgICAgICAgY29uc3QgZ3B1UmVuZGVyVGFyZ2V0ID0gdGhpcy5fZ3B1UmVuZGVyVGFyZ2V0SGFzaFtyZW5kZXJUYXJnZXQudWlkXTtcbiAgICAgICAgaWYgKGdwdVJlbmRlclRhcmdldCkge1xuICAgICAgICAgIHRoaXMuX2dwdVJlbmRlclRhcmdldEhhc2hbcmVuZGVyVGFyZ2V0LnVpZF0gPSBudWxsO1xuICAgICAgICAgIHRoaXMuYWRhcHRvci5kZXN0cm95R3B1UmVuZGVyVGFyZ2V0KGdwdVJlbmRlclRhcmdldCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICB0aGlzLl9yZW5kZXJTdXJmYWNlVG9SZW5kZXJUYXJnZXRIYXNoLnNldChyZW5kZXJTdXJmYWNlLCByZW5kZXJUYXJnZXQpO1xuICAgIHJldHVybiByZW5kZXJUYXJnZXQ7XG4gIH1cbiAgZ2V0R3B1UmVuZGVyVGFyZ2V0KHJlbmRlclRhcmdldCkge1xuICAgIHJldHVybiB0aGlzLl9ncHVSZW5kZXJUYXJnZXRIYXNoW3JlbmRlclRhcmdldC51aWRdIHx8ICh0aGlzLl9ncHVSZW5kZXJUYXJnZXRIYXNoW3JlbmRlclRhcmdldC51aWRdID0gdGhpcy5hZGFwdG9yLmluaXRHcHVSZW5kZXJUYXJnZXQocmVuZGVyVGFyZ2V0KSk7XG4gIH1cbn1cblxuZXhwb3J0IHsgUmVuZGVyVGFyZ2V0U3lzdGVtIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZW5kZXJUYXJnZXRTeXN0ZW0ubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBpc1JlbmRlcmluZ1RvU2NyZWVuKHJlbmRlclRhcmdldCkge1xuICBjb25zdCByZXNvdXJjZSA9IHJlbmRlclRhcmdldC5jb2xvclRleHR1cmUuc291cmNlLnJlc291cmNlO1xuICByZXR1cm4gZ2xvYmFsVGhpcy5IVE1MQ2FudmFzRWxlbWVudCAmJiByZXNvdXJjZSBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50ICYmIGRvY3VtZW50LmJvZHkuY29udGFpbnMocmVzb3VyY2UpO1xufVxuXG5leHBvcnQgeyBpc1JlbmRlcmluZ1RvU2NyZWVuIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc1JlbmRlcmluZ1RvU2NyZWVuLm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gY2FsY3VsYXRlUHJvamVjdGlvbihwbSwgeCwgeSwgd2lkdGgsIGhlaWdodCwgZmxpcFkpIHtcbiAgY29uc3Qgc2lnbiA9IGZsaXBZID8gMSA6IC0xO1xuICBwbS5pZGVudGl0eSgpO1xuICBwbS5hID0gMSAvIHdpZHRoICogMjtcbiAgcG0uZCA9IHNpZ24gKiAoMSAvIGhlaWdodCAqIDIpO1xuICBwbS50eCA9IC0xIC0geCAqIHBtLmE7XG4gIHBtLnR5ID0gLXNpZ24gLSB5ICogcG0uZDtcbiAgcmV0dXJuIHBtO1xufVxuXG5leHBvcnQgeyBjYWxjdWxhdGVQcm9qZWN0aW9uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jYWxjdWxhdGVQcm9qZWN0aW9uLm1qcy5tYXBcbiIsImltcG9ydCB7IHVuc2FmZUV2YWxTdXBwb3J0ZWQgfSBmcm9tICcuLi8uLi8uLi8uLi91dGlscy9icm93c2VyL3Vuc2FmZUV2YWxTdXBwb3J0ZWQubWpzJztcbmltcG9ydCB7IEJ1ZmZlciB9IGZyb20gJy4uL2J1ZmZlci9CdWZmZXIubWpzJztcbmltcG9ydCB7IEJ1ZmZlclVzYWdlIH0gZnJvbSAnLi4vYnVmZmVyL2NvbnN0Lm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgVWJvU3lzdGVtIHtcbiAgY29uc3RydWN0b3IoYWRhcHRvcikge1xuICAgIC8qKiBDYWNoZSBvZiB1bmlmb3JtIGJ1ZmZlciBsYXlvdXRzIGFuZCBzeW5jIGZ1bmN0aW9ucywgc28gd2UgZG9uJ3QgaGF2ZSB0byByZS1jcmVhdGUgdGhlbSAqL1xuICAgIHRoaXMuX3N5bmNGdW5jdGlvbkhhc2ggPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0aGlzLl9hZGFwdG9yID0gYWRhcHRvcjtcbiAgICB0aGlzLl9zeXN0ZW1DaGVjaygpO1xuICB9XG4gIC8qKlxuICAgKiBPdmVycmlkYWJsZSBmdW5jdGlvbiBieSBgcGl4aS5qcy91bnNhZmUtZXZhbGAgdG8gc2lsZW5jZVxuICAgKiB0aHJvd2luZyBhbiBlcnJvciBpZiBwbGF0Zm9ybSBkb2Vzbid0IHN1cHBvcnQgdW5zYWZlLWV2YWxzLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3N5c3RlbUNoZWNrKCkge1xuICAgIGlmICghdW5zYWZlRXZhbFN1cHBvcnRlZCgpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDdXJyZW50IGVudmlyb25tZW50IGRvZXMgbm90IGFsbG93IHVuc2FmZS1ldmFsLCBwbGVhc2UgdXNlIHBpeGkuanMvdW5zYWZlLWV2YWwgbW9kdWxlIHRvIGVuYWJsZSBzdXBwb3J0LlwiKTtcbiAgICB9XG4gIH1cbiAgZW5zdXJlVW5pZm9ybUdyb3VwKHVuaWZvcm1Hcm91cCkge1xuICAgIGNvbnN0IHVuaWZvcm1EYXRhID0gdGhpcy5nZXRVbmlmb3JtR3JvdXBEYXRhKHVuaWZvcm1Hcm91cCk7XG4gICAgdW5pZm9ybUdyb3VwLmJ1ZmZlciB8fCAodW5pZm9ybUdyb3VwLmJ1ZmZlciA9IG5ldyBCdWZmZXIoe1xuICAgICAgZGF0YTogbmV3IEZsb2F0MzJBcnJheSh1bmlmb3JtRGF0YS5sYXlvdXQuc2l6ZSAvIDQpLFxuICAgICAgdXNhZ2U6IEJ1ZmZlclVzYWdlLlVOSUZPUk0gfCBCdWZmZXJVc2FnZS5DT1BZX0RTVFxuICAgIH0pKTtcbiAgfVxuICBnZXRVbmlmb3JtR3JvdXBEYXRhKHVuaWZvcm1Hcm91cCkge1xuICAgIHJldHVybiB0aGlzLl9zeW5jRnVuY3Rpb25IYXNoW3VuaWZvcm1Hcm91cC5fc2lnbmF0dXJlXSB8fCB0aGlzLl9pbml0VW5pZm9ybUdyb3VwKHVuaWZvcm1Hcm91cCk7XG4gIH1cbiAgX2luaXRVbmlmb3JtR3JvdXAodW5pZm9ybUdyb3VwKSB7XG4gICAgY29uc3QgdW5pZm9ybUdyb3VwU2lnbmF0dXJlID0gdW5pZm9ybUdyb3VwLl9zaWduYXR1cmU7XG4gICAgbGV0IHVuaWZvcm1EYXRhID0gdGhpcy5fc3luY0Z1bmN0aW9uSGFzaFt1bmlmb3JtR3JvdXBTaWduYXR1cmVdO1xuICAgIGlmICghdW5pZm9ybURhdGEpIHtcbiAgICAgIGNvbnN0IGVsZW1lbnRzID0gT2JqZWN0LmtleXModW5pZm9ybUdyb3VwLnVuaWZvcm1TdHJ1Y3R1cmVzKS5tYXAoKGkpID0+IHVuaWZvcm1Hcm91cC51bmlmb3JtU3RydWN0dXJlc1tpXSk7XG4gICAgICBjb25zdCBsYXlvdXQgPSB0aGlzLl9hZGFwdG9yLmNyZWF0ZVVib0VsZW1lbnRzKGVsZW1lbnRzKTtcbiAgICAgIGNvbnN0IHN5bmNGdW5jdGlvbiA9IHRoaXMuX2dlbmVyYXRlVWJvU3luYyhsYXlvdXQudWJvRWxlbWVudHMpO1xuICAgICAgdW5pZm9ybURhdGEgPSB0aGlzLl9zeW5jRnVuY3Rpb25IYXNoW3VuaWZvcm1Hcm91cFNpZ25hdHVyZV0gPSB7XG4gICAgICAgIGxheW91dCxcbiAgICAgICAgc3luY0Z1bmN0aW9uXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fc3luY0Z1bmN0aW9uSGFzaFt1bmlmb3JtR3JvdXBTaWduYXR1cmVdO1xuICB9XG4gIF9nZW5lcmF0ZVVib1N5bmModWJvRWxlbWVudHMpIHtcbiAgICByZXR1cm4gdGhpcy5fYWRhcHRvci5nZW5lcmF0ZVVib1N5bmModWJvRWxlbWVudHMpO1xuICB9XG4gIHN5bmNVbmlmb3JtR3JvdXAodW5pZm9ybUdyb3VwLCBkYXRhLCBvZmZzZXQpIHtcbiAgICBjb25zdCB1bmlmb3JtR3JvdXBEYXRhID0gdGhpcy5nZXRVbmlmb3JtR3JvdXBEYXRhKHVuaWZvcm1Hcm91cCk7XG4gICAgdW5pZm9ybUdyb3VwLmJ1ZmZlciB8fCAodW5pZm9ybUdyb3VwLmJ1ZmZlciA9IG5ldyBCdWZmZXIoe1xuICAgICAgZGF0YTogbmV3IEZsb2F0MzJBcnJheSh1bmlmb3JtR3JvdXBEYXRhLmxheW91dC5zaXplIC8gNCksXG4gICAgICB1c2FnZTogQnVmZmVyVXNhZ2UuVU5JRk9STSB8IEJ1ZmZlclVzYWdlLkNPUFlfRFNUXG4gICAgfSkpO1xuICAgIGxldCBkYXRhSW50MzIgPSBudWxsO1xuICAgIGlmICghZGF0YSkge1xuICAgICAgZGF0YSA9IHVuaWZvcm1Hcm91cC5idWZmZXIuZGF0YTtcbiAgICAgIGRhdGFJbnQzMiA9IHVuaWZvcm1Hcm91cC5idWZmZXIuZGF0YUludDMyO1xuICAgIH1cbiAgICBvZmZzZXQgfHwgKG9mZnNldCA9IDApO1xuICAgIHVuaWZvcm1Hcm91cERhdGEuc3luY0Z1bmN0aW9uKHVuaWZvcm1Hcm91cC51bmlmb3JtcywgZGF0YSwgZGF0YUludDMyLCBvZmZzZXQpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHVwZGF0ZVVuaWZvcm1Hcm91cCh1bmlmb3JtR3JvdXApIHtcbiAgICBpZiAodW5pZm9ybUdyb3VwLmlzU3RhdGljICYmICF1bmlmb3JtR3JvdXAuX2RpcnR5SWQpXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgdW5pZm9ybUdyb3VwLl9kaXJ0eUlkID0gMDtcbiAgICBjb25zdCBzeW5jZWQgPSB0aGlzLnN5bmNVbmlmb3JtR3JvdXAodW5pZm9ybUdyb3VwKTtcbiAgICB1bmlmb3JtR3JvdXAuYnVmZmVyLnVwZGF0ZSgpO1xuICAgIHJldHVybiBzeW5jZWQ7XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLl9zeW5jRnVuY3Rpb25IYXNoID0gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgeyBVYm9TeXN0ZW0gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVVib1N5c3RlbS5tanMubWFwXG4iLCJpbXBvcnQgeyB1bmlmb3JtUGFyc2VycyB9IGZyb20gJy4vdW5pZm9ybVBhcnNlcnMubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBjcmVhdGVVYm9TeW5jRnVuY3Rpb24odWJvRWxlbWVudHMsIHBhcnNlckNvZGUsIGFycmF5R2VuZXJhdGlvbkZ1bmN0aW9uLCBzaW5nbGVTZXR0ZXJzTWFwKSB7XG4gIGNvbnN0IGZ1bmNGcmFnbWVudHMgPSBbYFxuICAgICAgICB2YXIgdiA9IG51bGw7XG4gICAgICAgIHZhciB2MiA9IG51bGw7XG4gICAgICAgIHZhciB0ID0gMDtcbiAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgdmFyIG5hbWUgPSBudWxsO1xuICAgICAgICB2YXIgYXJyYXlPZmZzZXQgPSBudWxsO1xuICAgIGBdO1xuICBsZXQgcHJldiA9IDA7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdWJvRWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCB1Ym9FbGVtZW50ID0gdWJvRWxlbWVudHNbaV07XG4gICAgY29uc3QgbmFtZSA9IHVib0VsZW1lbnQuZGF0YS5uYW1lO1xuICAgIGxldCBwYXJzZWQgPSBmYWxzZTtcbiAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IHVuaWZvcm1QYXJzZXJzLmxlbmd0aDsgaisrKSB7XG4gICAgICBjb25zdCB1bmlmb3JtUGFyc2VyID0gdW5pZm9ybVBhcnNlcnNbal07XG4gICAgICBpZiAodW5pZm9ybVBhcnNlci50ZXN0KHVib0VsZW1lbnQuZGF0YSkpIHtcbiAgICAgICAgb2Zmc2V0ID0gdWJvRWxlbWVudC5vZmZzZXQgLyA0O1xuICAgICAgICBmdW5jRnJhZ21lbnRzLnB1c2goXG4gICAgICAgICAgYG5hbWUgPSBcIiR7bmFtZX1cIjtgLFxuICAgICAgICAgIGBvZmZzZXQgKz0gJHtvZmZzZXQgLSBwcmV2fTtgLFxuICAgICAgICAgIHVuaWZvcm1QYXJzZXJzW2pdW3BhcnNlckNvZGVdIHx8IHVuaWZvcm1QYXJzZXJzW2pdLnVib1xuICAgICAgICApO1xuICAgICAgICBwYXJzZWQgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFwYXJzZWQpIHtcbiAgICAgIGlmICh1Ym9FbGVtZW50LmRhdGEuc2l6ZSA+IDEpIHtcbiAgICAgICAgb2Zmc2V0ID0gdWJvRWxlbWVudC5vZmZzZXQgLyA0O1xuICAgICAgICBmdW5jRnJhZ21lbnRzLnB1c2goYXJyYXlHZW5lcmF0aW9uRnVuY3Rpb24odWJvRWxlbWVudCwgb2Zmc2V0IC0gcHJldikpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgdGVtcGxhdGUgPSBzaW5nbGVTZXR0ZXJzTWFwW3Vib0VsZW1lbnQuZGF0YS50eXBlXTtcbiAgICAgICAgb2Zmc2V0ID0gdWJvRWxlbWVudC5vZmZzZXQgLyA0O1xuICAgICAgICBmdW5jRnJhZ21lbnRzLnB1c2goXG4gICAgICAgICAgLyogd2dzbCAqL1xuICAgICAgICAgIGBcbiAgICAgICAgICAgICAgICAgICAgdiA9IHV2LiR7bmFtZX07XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldCArPSAke29mZnNldCAtIHByZXZ9O1xuICAgICAgICAgICAgICAgICAgICAke3RlbXBsYXRlfTtcbiAgICAgICAgICAgICAgICBgXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHByZXYgPSBvZmZzZXQ7XG4gIH1cbiAgY29uc3QgZnJhZ21lbnRTcmMgPSBmdW5jRnJhZ21lbnRzLmpvaW4oXCJcXG5cIik7XG4gIHJldHVybiBuZXcgRnVuY3Rpb24oXG4gICAgXCJ1dlwiLFxuICAgIFwiZGF0YVwiLFxuICAgIFwiZGF0YUludDMyXCIsXG4gICAgXCJvZmZzZXRcIixcbiAgICBmcmFnbWVudFNyY1xuICApO1xufVxuXG5leHBvcnQgeyBjcmVhdGVVYm9TeW5jRnVuY3Rpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyZWF0ZVVib1N5bmNGdW5jdGlvbi5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIGxvb3BNYXRyaXgoY29sLCByb3cpIHtcbiAgY29uc3QgdG90YWwgPSBjb2wgKiByb3c7XG4gIHJldHVybiBgXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgJHt0b3RhbH07IGkrKykge1xuICAgICAgICAgICAgZGF0YVtvZmZzZXQgKyAoKChpIC8gJHtjb2x9KXwwKSAqIDQpICsgKGkgJSAke2NvbH0pXSA9IHZbaV07XG4gICAgICAgIH1cbiAgICBgO1xufVxuY29uc3QgdWJvU3luY0Z1bmN0aW9uc1NURDQwID0ge1xuICBmMzI6IGBcbiAgICAgICAgZGF0YVtvZmZzZXRdID0gdjtgLFxuICBpMzI6IGBcbiAgICAgICAgZGF0YUludDMyW29mZnNldF0gPSB2O2AsXG4gIFwidmVjMjxmMzI+XCI6IGBcbiAgICAgICAgZGF0YVtvZmZzZXRdID0gdlswXTtcbiAgICAgICAgZGF0YVtvZmZzZXQgKyAxXSA9IHZbMV07YCxcbiAgXCJ2ZWMzPGYzMj5cIjogYFxuICAgICAgICBkYXRhW29mZnNldF0gPSB2WzBdO1xuICAgICAgICBkYXRhW29mZnNldCArIDFdID0gdlsxXTtcbiAgICAgICAgZGF0YVtvZmZzZXQgKyAyXSA9IHZbMl07YCxcbiAgXCJ2ZWM0PGYzMj5cIjogYFxuICAgICAgICBkYXRhW29mZnNldF0gPSB2WzBdO1xuICAgICAgICBkYXRhW29mZnNldCArIDFdID0gdlsxXTtcbiAgICAgICAgZGF0YVtvZmZzZXQgKyAyXSA9IHZbMl07XG4gICAgICAgIGRhdGFbb2Zmc2V0ICsgM10gPSB2WzNdO2AsXG4gIFwidmVjMjxpMzI+XCI6IGBcbiAgICAgICAgZGF0YUludDMyW29mZnNldF0gPSB2WzBdO1xuICAgICAgICBkYXRhSW50MzJbb2Zmc2V0ICsgMV0gPSB2WzFdO2AsXG4gIFwidmVjMzxpMzI+XCI6IGBcbiAgICAgICAgZGF0YUludDMyW29mZnNldF0gPSB2WzBdO1xuICAgICAgICBkYXRhSW50MzJbb2Zmc2V0ICsgMV0gPSB2WzFdO1xuICAgICAgICBkYXRhSW50MzJbb2Zmc2V0ICsgMl0gPSB2WzJdO2AsXG4gIFwidmVjNDxpMzI+XCI6IGBcbiAgICAgICAgZGF0YUludDMyW29mZnNldF0gPSB2WzBdO1xuICAgICAgICBkYXRhSW50MzJbb2Zmc2V0ICsgMV0gPSB2WzFdO1xuICAgICAgICBkYXRhSW50MzJbb2Zmc2V0ICsgMl0gPSB2WzJdO1xuICAgICAgICBkYXRhSW50MzJbb2Zmc2V0ICsgM10gPSB2WzNdO2AsXG4gIFwibWF0MngyPGYzMj5cIjogYFxuICAgICAgICBkYXRhW29mZnNldF0gPSB2WzBdO1xuICAgICAgICBkYXRhW29mZnNldCArIDFdID0gdlsxXTtcbiAgICAgICAgZGF0YVtvZmZzZXQgKyA0XSA9IHZbMl07XG4gICAgICAgIGRhdGFbb2Zmc2V0ICsgNV0gPSB2WzNdO2AsXG4gIFwibWF0M3gzPGYzMj5cIjogYFxuICAgICAgICBkYXRhW29mZnNldF0gPSB2WzBdO1xuICAgICAgICBkYXRhW29mZnNldCArIDFdID0gdlsxXTtcbiAgICAgICAgZGF0YVtvZmZzZXQgKyAyXSA9IHZbMl07XG4gICAgICAgIGRhdGFbb2Zmc2V0ICsgNF0gPSB2WzNdO1xuICAgICAgICBkYXRhW29mZnNldCArIDVdID0gdls0XTtcbiAgICAgICAgZGF0YVtvZmZzZXQgKyA2XSA9IHZbNV07XG4gICAgICAgIGRhdGFbb2Zmc2V0ICsgOF0gPSB2WzZdO1xuICAgICAgICBkYXRhW29mZnNldCArIDldID0gdls3XTtcbiAgICAgICAgZGF0YVtvZmZzZXQgKyAxMF0gPSB2WzhdO2AsXG4gIFwibWF0NHg0PGYzMj5cIjogYFxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDE2OyBpKyspIHtcbiAgICAgICAgICAgIGRhdGFbb2Zmc2V0ICsgaV0gPSB2W2ldO1xuICAgICAgICB9YCxcbiAgXCJtYXQzeDI8ZjMyPlwiOiBsb29wTWF0cml4KDMsIDIpLFxuICBcIm1hdDR4MjxmMzI+XCI6IGxvb3BNYXRyaXgoNCwgMiksXG4gIFwibWF0MngzPGYzMj5cIjogbG9vcE1hdHJpeCgyLCAzKSxcbiAgXCJtYXQ0eDM8ZjMyPlwiOiBsb29wTWF0cml4KDQsIDMpLFxuICBcIm1hdDJ4NDxmMzI+XCI6IGxvb3BNYXRyaXgoMiwgNCksXG4gIFwibWF0M3g0PGYzMj5cIjogbG9vcE1hdHJpeCgzLCA0KVxufTtcbmNvbnN0IHVib1N5bmNGdW5jdGlvbnNXR1NMID0ge1xuICAuLi51Ym9TeW5jRnVuY3Rpb25zU1RENDAsXG4gIFwibWF0MngyPGYzMj5cIjogYFxuICAgICAgICBkYXRhW29mZnNldF0gPSB2WzBdO1xuICAgICAgICBkYXRhW29mZnNldCArIDFdID0gdlsxXTtcbiAgICAgICAgZGF0YVtvZmZzZXQgKyAyXSA9IHZbMl07XG4gICAgICAgIGRhdGFbb2Zmc2V0ICsgM10gPSB2WzNdO1xuICAgIGBcbn07XG5cbmV4cG9ydCB7IHVib1N5bmNGdW5jdGlvbnNTVEQ0MCwgdWJvU3luY0Z1bmN0aW9uc1dHU0wgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVib1N5bmNGdW5jdGlvbnMubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCB1bmlmb3JtUGFyc2VycyA9IFtcbiAgLy8gdXBsb2FkaW5nIHBpeGkgbWF0cml4IG9iamVjdCB0byBtYXQzXG4gIHtcbiAgICB0eXBlOiBcIm1hdDN4MzxmMzI+XCIsXG4gICAgdGVzdDogKGRhdGEpID0+IHtcbiAgICAgIGNvbnN0IHZhbHVlID0gZGF0YS52YWx1ZTtcbiAgICAgIHJldHVybiB2YWx1ZS5hICE9PSB2b2lkIDA7XG4gICAgfSxcbiAgICB1Ym86IGBcbiAgICAgICAgICAgIHZhciBtYXRyaXggPSB1dltuYW1lXS50b0FycmF5KHRydWUpO1xuICAgICAgICAgICAgZGF0YVtvZmZzZXRdID0gbWF0cml4WzBdO1xuICAgICAgICAgICAgZGF0YVtvZmZzZXQgKyAxXSA9IG1hdHJpeFsxXTtcbiAgICAgICAgICAgIGRhdGFbb2Zmc2V0ICsgMl0gPSBtYXRyaXhbMl07XG4gICAgICAgICAgICBkYXRhW29mZnNldCArIDRdID0gbWF0cml4WzNdO1xuICAgICAgICAgICAgZGF0YVtvZmZzZXQgKyA1XSA9IG1hdHJpeFs0XTtcbiAgICAgICAgICAgIGRhdGFbb2Zmc2V0ICsgNl0gPSBtYXRyaXhbNV07XG4gICAgICAgICAgICBkYXRhW29mZnNldCArIDhdID0gbWF0cml4WzZdO1xuICAgICAgICAgICAgZGF0YVtvZmZzZXQgKyA5XSA9IG1hdHJpeFs3XTtcbiAgICAgICAgICAgIGRhdGFbb2Zmc2V0ICsgMTBdID0gbWF0cml4WzhdO1xuICAgICAgICBgLFxuICAgIHVuaWZvcm06IGBcbiAgICAgICAgICAgIGdsLnVuaWZvcm1NYXRyaXgzZnYodWRbbmFtZV0ubG9jYXRpb24sIGZhbHNlLCB1dltuYW1lXS50b0FycmF5KHRydWUpKTtcbiAgICAgICAgYFxuICB9LFxuICAvLyB1cGxvYWRpbmcgYSBwaXhpIHJlY3RhbmdsZSBhcyBhIHZlYzRcbiAge1xuICAgIHR5cGU6IFwidmVjNDxmMzI+XCIsXG4gICAgdGVzdDogKGRhdGEpID0+IGRhdGEudHlwZSA9PT0gXCJ2ZWM0PGYzMj5cIiAmJiBkYXRhLnNpemUgPT09IDEgJiYgZGF0YS52YWx1ZS53aWR0aCAhPT0gdm9pZCAwLFxuICAgIHVibzogYFxuICAgICAgICAgICAgdiA9IHV2W25hbWVdO1xuICAgICAgICAgICAgZGF0YVtvZmZzZXRdID0gdi54O1xuICAgICAgICAgICAgZGF0YVtvZmZzZXQgKyAxXSA9IHYueTtcbiAgICAgICAgICAgIGRhdGFbb2Zmc2V0ICsgMl0gPSB2LndpZHRoO1xuICAgICAgICAgICAgZGF0YVtvZmZzZXQgKyAzXSA9IHYuaGVpZ2h0O1xuICAgICAgICBgLFxuICAgIHVuaWZvcm06IGBcbiAgICAgICAgICAgIGN2ID0gdWRbbmFtZV0udmFsdWU7XG4gICAgICAgICAgICB2ID0gdXZbbmFtZV07XG4gICAgICAgICAgICBpZiAoY3ZbMF0gIT09IHYueCB8fCBjdlsxXSAhPT0gdi55IHx8IGN2WzJdICE9PSB2LndpZHRoIHx8IGN2WzNdICE9PSB2LmhlaWdodCkge1xuICAgICAgICAgICAgICAgIGN2WzBdID0gdi54O1xuICAgICAgICAgICAgICAgIGN2WzFdID0gdi55O1xuICAgICAgICAgICAgICAgIGN2WzJdID0gdi53aWR0aDtcbiAgICAgICAgICAgICAgICBjdlszXSA9IHYuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00Zih1ZFtuYW1lXS5sb2NhdGlvbiwgdi54LCB2LnksIHYud2lkdGgsIHYuaGVpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgYFxuICB9LFxuICAvLyB1cGxvYWRpbmcgYSBwaXhpIHBvaW50IGFzIGEgdmVjMlxuICB7XG4gICAgdHlwZTogXCJ2ZWMyPGYzMj5cIixcbiAgICB0ZXN0OiAoZGF0YSkgPT4gZGF0YS50eXBlID09PSBcInZlYzI8ZjMyPlwiICYmIGRhdGEuc2l6ZSA9PT0gMSAmJiBkYXRhLnZhbHVlLnggIT09IHZvaWQgMCxcbiAgICB1Ym86IGBcbiAgICAgICAgICAgIHYgPSB1dltuYW1lXTtcbiAgICAgICAgICAgIGRhdGFbb2Zmc2V0XSA9IHYueDtcbiAgICAgICAgICAgIGRhdGFbb2Zmc2V0ICsgMV0gPSB2Lnk7XG4gICAgICAgIGAsXG4gICAgdW5pZm9ybTogYFxuICAgICAgICAgICAgY3YgPSB1ZFtuYW1lXS52YWx1ZTtcbiAgICAgICAgICAgIHYgPSB1dltuYW1lXTtcbiAgICAgICAgICAgIGlmIChjdlswXSAhPT0gdi54IHx8IGN2WzFdICE9PSB2LnkpIHtcbiAgICAgICAgICAgICAgICBjdlswXSA9IHYueDtcbiAgICAgICAgICAgICAgICBjdlsxXSA9IHYueTtcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtMmYodWRbbmFtZV0ubG9jYXRpb24sIHYueCwgdi55KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgYFxuICB9LFxuICAvLyB1cGxvYWRpbmcgYSBwaXhpIGNvbG9yIGFzIGEgdmVjNFxuICB7XG4gICAgdHlwZTogXCJ2ZWM0PGYzMj5cIixcbiAgICB0ZXN0OiAoZGF0YSkgPT4gZGF0YS50eXBlID09PSBcInZlYzQ8ZjMyPlwiICYmIGRhdGEuc2l6ZSA9PT0gMSAmJiBkYXRhLnZhbHVlLnJlZCAhPT0gdm9pZCAwLFxuICAgIHVibzogYFxuICAgICAgICAgICAgdiA9IHV2W25hbWVdO1xuICAgICAgICAgICAgZGF0YVtvZmZzZXRdID0gdi5yZWQ7XG4gICAgICAgICAgICBkYXRhW29mZnNldCArIDFdID0gdi5ncmVlbjtcbiAgICAgICAgICAgIGRhdGFbb2Zmc2V0ICsgMl0gPSB2LmJsdWU7XG4gICAgICAgICAgICBkYXRhW29mZnNldCArIDNdID0gdi5hbHBoYTtcbiAgICAgICAgYCxcbiAgICB1bmlmb3JtOiBgXG4gICAgICAgICAgICBjdiA9IHVkW25hbWVdLnZhbHVlO1xuICAgICAgICAgICAgdiA9IHV2W25hbWVdO1xuICAgICAgICAgICAgaWYgKGN2WzBdICE9PSB2LnJlZCB8fCBjdlsxXSAhPT0gdi5ncmVlbiB8fCBjdlsyXSAhPT0gdi5ibHVlIHx8IGN2WzNdICE9PSB2LmFscGhhKSB7XG4gICAgICAgICAgICAgICAgY3ZbMF0gPSB2LnJlZDtcbiAgICAgICAgICAgICAgICBjdlsxXSA9IHYuZ3JlZW47XG4gICAgICAgICAgICAgICAgY3ZbMl0gPSB2LmJsdWU7XG4gICAgICAgICAgICAgICAgY3ZbM10gPSB2LmFscGhhO1xuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00Zih1ZFtuYW1lXS5sb2NhdGlvbiwgdi5yZWQsIHYuZ3JlZW4sIHYuYmx1ZSwgdi5hbHBoYSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIGBcbiAgfSxcbiAgLy8gdXBsb2FkaW5nIGEgcGl4aSBjb2xvciBhcyBhIHZlYzNcbiAge1xuICAgIHR5cGU6IFwidmVjMzxmMzI+XCIsXG4gICAgdGVzdDogKGRhdGEpID0+IGRhdGEudHlwZSA9PT0gXCJ2ZWMzPGYzMj5cIiAmJiBkYXRhLnNpemUgPT09IDEgJiYgZGF0YS52YWx1ZS5yZWQgIT09IHZvaWQgMCxcbiAgICB1Ym86IGBcbiAgICAgICAgICAgIHYgPSB1dltuYW1lXTtcbiAgICAgICAgICAgIGRhdGFbb2Zmc2V0XSA9IHYucmVkO1xuICAgICAgICAgICAgZGF0YVtvZmZzZXQgKyAxXSA9IHYuZ3JlZW47XG4gICAgICAgICAgICBkYXRhW29mZnNldCArIDJdID0gdi5ibHVlO1xuICAgICAgICBgLFxuICAgIHVuaWZvcm06IGBcbiAgICAgICAgICAgIGN2ID0gdWRbbmFtZV0udmFsdWU7XG4gICAgICAgICAgICB2ID0gdXZbbmFtZV07XG4gICAgICAgICAgICBpZiAoY3ZbMF0gIT09IHYucmVkIHx8IGN2WzFdICE9PSB2LmdyZWVuIHx8IGN2WzJdICE9PSB2LmJsdWUpIHtcbiAgICAgICAgICAgICAgICBjdlswXSA9IHYucmVkO1xuICAgICAgICAgICAgICAgIGN2WzFdID0gdi5ncmVlbjtcbiAgICAgICAgICAgICAgICBjdlsyXSA9IHYuYmx1ZTtcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtM2YodWRbbmFtZV0ubG9jYXRpb24sIHYucmVkLCB2LmdyZWVuLCB2LmJsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICBgXG4gIH1cbl07XG5cbmV4cG9ydCB7IHVuaWZvcm1QYXJzZXJzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11bmlmb3JtUGFyc2Vycy5tanMubWFwXG4iLCJpbXBvcnQgeyBFeHRlbnNpb25UeXBlIH0gZnJvbSAnLi4vLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgQ3VzdG9tUmVuZGVyUGlwZSB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgfVxuICB1cGRhdGVSZW5kZXJhYmxlKCkge1xuICB9XG4gIGRlc3Ryb3lSZW5kZXJhYmxlKCkge1xuICB9XG4gIHZhbGlkYXRlUmVuZGVyYWJsZSgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgYWRkUmVuZGVyYWJsZShjb250YWluZXIsIGluc3RydWN0aW9uU2V0KSB7XG4gICAgdGhpcy5fcmVuZGVyZXIucmVuZGVyUGlwZXMuYmF0Y2guYnJlYWsoaW5zdHJ1Y3Rpb25TZXQpO1xuICAgIGluc3RydWN0aW9uU2V0LmFkZChjb250YWluZXIpO1xuICB9XG4gIGV4ZWN1dGUoY29udGFpbmVyKSB7XG4gICAgaWYgKCFjb250YWluZXIuaXNSZW5kZXJhYmxlKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnRhaW5lci5yZW5kZXIodGhpcy5fcmVuZGVyZXIpO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSBudWxsO1xuICB9XG59XG5DdXN0b21SZW5kZXJQaXBlLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogW1xuICAgIEV4dGVuc2lvblR5cGUuV2ViR0xQaXBlcyxcbiAgICBFeHRlbnNpb25UeXBlLldlYkdQVVBpcGVzLFxuICAgIEV4dGVuc2lvblR5cGUuQ2FudmFzUGlwZXNcbiAgXSxcbiAgbmFtZTogXCJjdXN0b21SZW5kZXJcIlxufTtcblxuZXhwb3J0IHsgQ3VzdG9tUmVuZGVyUGlwZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q3VzdG9tUmVuZGVyUGlwZS5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIGV4ZWN1dGVJbnN0cnVjdGlvbnMocmVuZGVyR3JvdXAsIHJlbmRlcmVyKSB7XG4gIGNvbnN0IGluc3RydWN0aW9uU2V0ID0gcmVuZGVyR3JvdXAuaW5zdHJ1Y3Rpb25TZXQ7XG4gIGNvbnN0IGluc3RydWN0aW9ucyA9IGluc3RydWN0aW9uU2V0Lmluc3RydWN0aW9ucztcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnN0cnVjdGlvblNldC5pbnN0cnVjdGlvblNpemU7IGkrKykge1xuICAgIGNvbnN0IGluc3RydWN0aW9uID0gaW5zdHJ1Y3Rpb25zW2ldO1xuICAgIHJlbmRlcmVyW2luc3RydWN0aW9uLnJlbmRlclBpcGVJZF0uZXhlY3V0ZShpbnN0cnVjdGlvbik7XG4gIH1cbn1cblxuZXhwb3J0IHsgZXhlY3V0ZUluc3RydWN0aW9ucyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXhlY3V0ZUluc3RydWN0aW9ucy5tanMubWFwXG4iLCJpbXBvcnQgeyBFeHRlbnNpb25UeXBlIH0gZnJvbSAnLi4vLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBNYXRyaXggfSBmcm9tICcuLi8uLi9tYXRocy9tYXRyaXgvTWF0cml4Lm1qcyc7XG5pbXBvcnQgeyBCaWdQb29sIH0gZnJvbSAnLi4vLi4vdXRpbHMvcG9vbC9Qb29sR3JvdXAubWpzJztcbmltcG9ydCB7IEJhdGNoYWJsZVNwcml0ZSB9IGZyb20gJy4uL3Nwcml0ZS9CYXRjaGFibGVTcHJpdGUubWpzJztcbmltcG9ydCB7IGV4ZWN1dGVJbnN0cnVjdGlvbnMgfSBmcm9tICcuL3V0aWxzL2V4ZWN1dGVJbnN0cnVjdGlvbnMubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCB0ZW1wTWF0cml4ID0gbmV3IE1hdHJpeCgpO1xuY2xhc3MgUmVuZGVyR3JvdXBQaXBlIHtcbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICB9XG4gIGFkZFJlbmRlckdyb3VwKHJlbmRlckdyb3VwLCBpbnN0cnVjdGlvblNldCkge1xuICAgIGlmIChyZW5kZXJHcm91cC5pc0NhY2hlZEFzVGV4dHVyZSkge1xuICAgICAgdGhpcy5fYWRkUmVuZGVyYWJsZUNhY2hlQXNUZXh0dXJlKHJlbmRlckdyb3VwLCBpbnN0cnVjdGlvblNldCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2FkZFJlbmRlcmFibGVEaXJlY3QocmVuZGVyR3JvdXAsIGluc3RydWN0aW9uU2V0KTtcbiAgICB9XG4gIH1cbiAgZXhlY3V0ZShyZW5kZXJHcm91cCkge1xuICAgIGlmICghcmVuZGVyR3JvdXAuaXNSZW5kZXJhYmxlKVxuICAgICAgcmV0dXJuO1xuICAgIGlmIChyZW5kZXJHcm91cC5pc0NhY2hlZEFzVGV4dHVyZSkge1xuICAgICAgdGhpcy5fZXhlY3V0ZUNhY2hlQXNUZXh0dXJlKHJlbmRlckdyb3VwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fZXhlY3V0ZURpcmVjdChyZW5kZXJHcm91cCk7XG4gICAgfVxuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSBudWxsO1xuICB9XG4gIF9hZGRSZW5kZXJhYmxlRGlyZWN0KHJlbmRlckdyb3VwLCBpbnN0cnVjdGlvblNldCkge1xuICAgIHRoaXMuX3JlbmRlcmVyLnJlbmRlclBpcGVzLmJhdGNoLmJyZWFrKGluc3RydWN0aW9uU2V0KTtcbiAgICBpZiAocmVuZGVyR3JvdXAuX2JhdGNoYWJsZVJlbmRlckdyb3VwKSB7XG4gICAgICBCaWdQb29sLnJldHVybihyZW5kZXJHcm91cC5fYmF0Y2hhYmxlUmVuZGVyR3JvdXApO1xuICAgICAgcmVuZGVyR3JvdXAuX2JhdGNoYWJsZVJlbmRlckdyb3VwID0gbnVsbDtcbiAgICB9XG4gICAgaW5zdHJ1Y3Rpb25TZXQuYWRkKHJlbmRlckdyb3VwKTtcbiAgfVxuICBfYWRkUmVuZGVyYWJsZUNhY2hlQXNUZXh0dXJlKHJlbmRlckdyb3VwLCBpbnN0cnVjdGlvblNldCkge1xuICAgIGNvbnN0IGJhdGNoYWJsZVJlbmRlckdyb3VwID0gcmVuZGVyR3JvdXAuX2JhdGNoYWJsZVJlbmRlckdyb3VwID8/IChyZW5kZXJHcm91cC5fYmF0Y2hhYmxlUmVuZGVyR3JvdXAgPSBCaWdQb29sLmdldChCYXRjaGFibGVTcHJpdGUpKTtcbiAgICBiYXRjaGFibGVSZW5kZXJHcm91cC5yZW5kZXJhYmxlID0gcmVuZGVyR3JvdXAucm9vdDtcbiAgICBiYXRjaGFibGVSZW5kZXJHcm91cC50cmFuc2Zvcm0gPSByZW5kZXJHcm91cC5yb290LnJlbGF0aXZlR3JvdXBUcmFuc2Zvcm07XG4gICAgYmF0Y2hhYmxlUmVuZGVyR3JvdXAudGV4dHVyZSA9IHJlbmRlckdyb3VwLnRleHR1cmU7XG4gICAgYmF0Y2hhYmxlUmVuZGVyR3JvdXAuYm91bmRzID0gcmVuZGVyR3JvdXAuX3RleHR1cmVCb3VuZHM7XG4gICAgaW5zdHJ1Y3Rpb25TZXQuYWRkKHJlbmRlckdyb3VwKTtcbiAgICB0aGlzLl9yZW5kZXJlci5yZW5kZXJQaXBlcy5iYXRjaC5hZGRUb0JhdGNoKGJhdGNoYWJsZVJlbmRlckdyb3VwLCBpbnN0cnVjdGlvblNldCk7XG4gIH1cbiAgX2V4ZWN1dGVDYWNoZUFzVGV4dHVyZShyZW5kZXJHcm91cCkge1xuICAgIGlmIChyZW5kZXJHcm91cC50ZXh0dXJlTmVlZHNVcGRhdGUpIHtcbiAgICAgIHJlbmRlckdyb3VwLnRleHR1cmVOZWVkc1VwZGF0ZSA9IGZhbHNlO1xuICAgICAgY29uc3Qgd29ybGRUcmFuc2Zvcm1NYXRyaXggPSB0ZW1wTWF0cml4LmlkZW50aXR5KCkudHJhbnNsYXRlKFxuICAgICAgICAtcmVuZGVyR3JvdXAuX3RleHR1cmVCb3VuZHMueCxcbiAgICAgICAgLXJlbmRlckdyb3VwLl90ZXh0dXJlQm91bmRzLnlcbiAgICAgICk7XG4gICAgICB0aGlzLl9yZW5kZXJlci5yZW5kZXJUYXJnZXQucHVzaChyZW5kZXJHcm91cC50ZXh0dXJlLCB0cnVlLCBudWxsLCByZW5kZXJHcm91cC50ZXh0dXJlLmZyYW1lKTtcbiAgICAgIHRoaXMuX3JlbmRlcmVyLmdsb2JhbFVuaWZvcm1zLnB1c2goe1xuICAgICAgICB3b3JsZFRyYW5zZm9ybU1hdHJpeCxcbiAgICAgICAgd29ybGRDb2xvcjogNDI5NDk2NzI5NVxuICAgICAgfSk7XG4gICAgICBleGVjdXRlSW5zdHJ1Y3Rpb25zKHJlbmRlckdyb3VwLCB0aGlzLl9yZW5kZXJlci5yZW5kZXJQaXBlcyk7XG4gICAgICB0aGlzLl9yZW5kZXJlci5yZW5kZXJUYXJnZXQuZmluaXNoUmVuZGVyUGFzcygpO1xuICAgICAgdGhpcy5fcmVuZGVyZXIucmVuZGVyVGFyZ2V0LnBvcCgpO1xuICAgICAgdGhpcy5fcmVuZGVyZXIuZ2xvYmFsVW5pZm9ybXMucG9wKCk7XG4gICAgfVxuICAgIHJlbmRlckdyb3VwLl9iYXRjaGFibGVSZW5kZXJHcm91cC5fYmF0Y2hlci51cGRhdGVFbGVtZW50KHJlbmRlckdyb3VwLl9iYXRjaGFibGVSZW5kZXJHcm91cCk7XG4gICAgcmVuZGVyR3JvdXAuX2JhdGNoYWJsZVJlbmRlckdyb3VwLl9iYXRjaGVyLmdlb21ldHJ5LmJ1ZmZlcnNbMF0udXBkYXRlKCk7XG4gIH1cbiAgX2V4ZWN1dGVEaXJlY3QocmVuZGVyR3JvdXApIHtcbiAgICB0aGlzLl9yZW5kZXJlci5nbG9iYWxVbmlmb3Jtcy5wdXNoKHtcbiAgICAgIHdvcmxkVHJhbnNmb3JtTWF0cml4OiByZW5kZXJHcm91cC5pbnZlcnNlUGFyZW50VGV4dHVyZVRyYW5zZm9ybSxcbiAgICAgIHdvcmxkQ29sb3I6IHJlbmRlckdyb3VwLndvcmxkQ29sb3JBbHBoYVxuICAgIH0pO1xuICAgIGV4ZWN1dGVJbnN0cnVjdGlvbnMocmVuZGVyR3JvdXAsIHRoaXMuX3JlbmRlcmVyLnJlbmRlclBpcGVzKTtcbiAgICB0aGlzLl9yZW5kZXJlci5nbG9iYWxVbmlmb3Jtcy5wb3AoKTtcbiAgfVxufVxuUmVuZGVyR3JvdXBQaXBlLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogW1xuICAgIEV4dGVuc2lvblR5cGUuV2ViR0xQaXBlcyxcbiAgICBFeHRlbnNpb25UeXBlLldlYkdQVVBpcGVzLFxuICAgIEV4dGVuc2lvblR5cGUuQ2FudmFzUGlwZXNcbiAgXSxcbiAgbmFtZTogXCJyZW5kZXJHcm91cFwiXG59O1xuXG5leHBvcnQgeyBSZW5kZXJHcm91cFBpcGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJlbmRlckdyb3VwUGlwZS5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIGJ1aWxkSW5zdHJ1Y3Rpb25zKHJlbmRlckdyb3VwLCByZW5kZXJlck9yUGlwZXMpIHtcbiAgY29uc3Qgcm9vdCA9IHJlbmRlckdyb3VwLnJvb3Q7XG4gIGNvbnN0IGluc3RydWN0aW9uU2V0ID0gcmVuZGVyR3JvdXAuaW5zdHJ1Y3Rpb25TZXQ7XG4gIGluc3RydWN0aW9uU2V0LnJlc2V0KCk7XG4gIGNvbnN0IHJlbmRlcmVyID0gcmVuZGVyZXJPclBpcGVzLnJlbmRlclBpcGVzID8gcmVuZGVyZXJPclBpcGVzIDogcmVuZGVyZXJPclBpcGVzLmJhdGNoLnJlbmRlcmVyO1xuICBjb25zdCByZW5kZXJQaXBlcyA9IHJlbmRlcmVyLnJlbmRlclBpcGVzO1xuICByZW5kZXJQaXBlcy5iYXRjaC5idWlsZFN0YXJ0KGluc3RydWN0aW9uU2V0KTtcbiAgcmVuZGVyUGlwZXMuYmxlbmRNb2RlLmJ1aWxkU3RhcnQoKTtcbiAgcmVuZGVyUGlwZXMuY29sb3JNYXNrLmJ1aWxkU3RhcnQoKTtcbiAgaWYgKHJvb3Quc29ydGFibGVDaGlsZHJlbikge1xuICAgIHJvb3Quc29ydENoaWxkcmVuKCk7XG4gIH1cbiAgY29sbGVjdEFsbFJlbmRlcmFibGVzQWR2YW5jZWQocm9vdCwgaW5zdHJ1Y3Rpb25TZXQsIHJlbmRlcmVyLCB0cnVlKTtcbiAgcmVuZGVyUGlwZXMuYmF0Y2guYnVpbGRFbmQoaW5zdHJ1Y3Rpb25TZXQpO1xuICByZW5kZXJQaXBlcy5ibGVuZE1vZGUuYnVpbGRFbmQoaW5zdHJ1Y3Rpb25TZXQpO1xufVxuZnVuY3Rpb24gY29sbGVjdEFsbFJlbmRlcmFibGVzKGNvbnRhaW5lciwgaW5zdHJ1Y3Rpb25TZXQsIHJlbmRlcmVyT3JQaXBlcykge1xuICBjb25zdCByZW5kZXJlciA9IHJlbmRlcmVyT3JQaXBlcy5yZW5kZXJQaXBlcyA/IHJlbmRlcmVyT3JQaXBlcyA6IHJlbmRlcmVyT3JQaXBlcy5iYXRjaC5yZW5kZXJlcjtcbiAgaWYgKGNvbnRhaW5lci5nbG9iYWxEaXNwbGF5U3RhdHVzIDwgNyB8fCAhY29udGFpbmVyLmluY2x1ZGVJbkJ1aWxkKVxuICAgIHJldHVybjtcbiAgaWYgKGNvbnRhaW5lci5zb3J0YWJsZUNoaWxkcmVuKSB7XG4gICAgY29udGFpbmVyLnNvcnRDaGlsZHJlbigpO1xuICB9XG4gIGlmIChjb250YWluZXIuaXNTaW1wbGUpIHtcbiAgICBjb2xsZWN0QWxsUmVuZGVyYWJsZXNTaW1wbGUoY29udGFpbmVyLCBpbnN0cnVjdGlvblNldCwgcmVuZGVyZXIpO1xuICB9IGVsc2Uge1xuICAgIGNvbGxlY3RBbGxSZW5kZXJhYmxlc0FkdmFuY2VkKGNvbnRhaW5lciwgaW5zdHJ1Y3Rpb25TZXQsIHJlbmRlcmVyLCBmYWxzZSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGNvbGxlY3RBbGxSZW5kZXJhYmxlc1NpbXBsZShjb250YWluZXIsIGluc3RydWN0aW9uU2V0LCByZW5kZXJlcikge1xuICBpZiAoY29udGFpbmVyLnJlbmRlclBpcGVJZCkge1xuICAgIGNvbnN0IHJlbmRlcmFibGUgPSBjb250YWluZXI7XG4gICAgY29uc3QgeyByZW5kZXJQaXBlcywgcmVuZGVyYWJsZUdDIH0gPSByZW5kZXJlcjtcbiAgICByZW5kZXJQaXBlcy5ibGVuZE1vZGUuc2V0QmxlbmRNb2RlKHJlbmRlcmFibGUsIGNvbnRhaW5lci5ncm91cEJsZW5kTW9kZSwgaW5zdHJ1Y3Rpb25TZXQpO1xuICAgIGNvbnN0IHJwID0gcmVuZGVyUGlwZXM7XG4gICAgcnBbcmVuZGVyYWJsZS5yZW5kZXJQaXBlSWRdLmFkZFJlbmRlcmFibGUocmVuZGVyYWJsZSwgaW5zdHJ1Y3Rpb25TZXQpO1xuICAgIHJlbmRlcmFibGVHQy5hZGRSZW5kZXJhYmxlKHJlbmRlcmFibGUpO1xuICAgIHJlbmRlcmFibGUuZGlkVmlld1VwZGF0ZSA9IGZhbHNlO1xuICB9XG4gIGlmICghY29udGFpbmVyLnJlbmRlckdyb3VwKSB7XG4gICAgY29uc3QgY2hpbGRyZW4gPSBjb250YWluZXIuY2hpbGRyZW47XG4gICAgY29uc3QgbGVuZ3RoID0gY2hpbGRyZW4ubGVuZ3RoO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbGxlY3RBbGxSZW5kZXJhYmxlcyhjaGlsZHJlbltpXSwgaW5zdHJ1Y3Rpb25TZXQsIHJlbmRlcmVyKTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGNvbGxlY3RBbGxSZW5kZXJhYmxlc0FkdmFuY2VkKGNvbnRhaW5lciwgaW5zdHJ1Y3Rpb25TZXQsIHJlbmRlcmVyLCBpc1Jvb3QpIHtcbiAgY29uc3QgeyByZW5kZXJQaXBlcywgcmVuZGVyYWJsZUdDIH0gPSByZW5kZXJlcjtcbiAgaWYgKCFpc1Jvb3QgJiYgY29udGFpbmVyLnJlbmRlckdyb3VwKSB7XG4gICAgcmVuZGVyUGlwZXMucmVuZGVyR3JvdXAuYWRkUmVuZGVyR3JvdXAoY29udGFpbmVyLnJlbmRlckdyb3VwLCBpbnN0cnVjdGlvblNldCk7XG4gIH0gZWxzZSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb250YWluZXIuZWZmZWN0cy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgZWZmZWN0ID0gY29udGFpbmVyLmVmZmVjdHNbaV07XG4gICAgICBjb25zdCBwaXBlID0gcmVuZGVyUGlwZXNbZWZmZWN0LnBpcGVdO1xuICAgICAgcGlwZS5wdXNoKGVmZmVjdCwgY29udGFpbmVyLCBpbnN0cnVjdGlvblNldCk7XG4gICAgfVxuICAgIGNvbnN0IHJlbmRlcmFibGUgPSBjb250YWluZXI7XG4gICAgY29uc3QgcmVuZGVyUGlwZUlkID0gcmVuZGVyYWJsZS5yZW5kZXJQaXBlSWQ7XG4gICAgaWYgKHJlbmRlclBpcGVJZCkge1xuICAgICAgcmVuZGVyUGlwZXMuYmxlbmRNb2RlLnNldEJsZW5kTW9kZShyZW5kZXJhYmxlLCByZW5kZXJhYmxlLmdyb3VwQmxlbmRNb2RlLCBpbnN0cnVjdGlvblNldCk7XG4gICAgICBjb25zdCBwaXBlID0gcmVuZGVyUGlwZXNbcmVuZGVyUGlwZUlkXTtcbiAgICAgIHBpcGUuYWRkUmVuZGVyYWJsZShyZW5kZXJhYmxlLCBpbnN0cnVjdGlvblNldCk7XG4gICAgICByZW5kZXJhYmxlR0MuYWRkUmVuZGVyYWJsZShyZW5kZXJhYmxlKTtcbiAgICAgIHJlbmRlcmFibGUuZGlkVmlld1VwZGF0ZSA9IGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBjaGlsZHJlbiA9IGNvbnRhaW5lci5jaGlsZHJlbjtcbiAgICBpZiAoY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbGxlY3RBbGxSZW5kZXJhYmxlcyhjaGlsZHJlbltpXSwgaW5zdHJ1Y3Rpb25TZXQsIHJlbmRlcmVyKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IGNvbnRhaW5lci5lZmZlY3RzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICBjb25zdCBlZmZlY3QgPSBjb250YWluZXIuZWZmZWN0c1tpXTtcbiAgICAgIGNvbnN0IHBpcGUgPSByZW5kZXJQaXBlc1tlZmZlY3QucGlwZV07XG4gICAgICBwaXBlLnBvcChlZmZlY3QsIGNvbnRhaW5lciwgaW5zdHJ1Y3Rpb25TZXQpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgeyBidWlsZEluc3RydWN0aW9ucywgY29sbGVjdEFsbFJlbmRlcmFibGVzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1idWlsZEluc3RydWN0aW9ucy5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIGNsZWFyTGlzdChsaXN0LCBpbmRleCkge1xuICBpbmRleCB8fCAoaW5kZXggPSAwKTtcbiAgZm9yIChsZXQgaiA9IGluZGV4OyBqIDwgbGlzdC5sZW5ndGg7IGorKykge1xuICAgIGlmIChsaXN0W2pdKSB7XG4gICAgICBsaXN0W2pdID0gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB7IGNsZWFyTGlzdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2xlYXJMaXN0Lm1qcy5tYXBcbiIsImltcG9ydCB7IENvbnRhaW5lciwgVVBEQVRFX1ZJU0lCTEUsIFVQREFURV9DT0xPUiwgVVBEQVRFX0JMRU5EIH0gZnJvbSAnLi4vQ29udGFpbmVyLm1qcyc7XG5pbXBvcnQgeyBjbGVhckxpc3QgfSBmcm9tICcuL2NsZWFyTGlzdC5tanMnO1xuaW1wb3J0IHsgbXVsdGlwbHlDb2xvcnMgfSBmcm9tICcuL211bHRpcGx5Q29sb3JzLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY29uc3QgdGVtcENvbnRhaW5lciA9IG5ldyBDb250YWluZXIoKTtcbmNvbnN0IFVQREFURV9CTEVORF9DT0xPUl9WSVNJQkxFID0gVVBEQVRFX1ZJU0lCTEUgfCBVUERBVEVfQ09MT1IgfCBVUERBVEVfQkxFTkQ7XG5mdW5jdGlvbiB1cGRhdGVSZW5kZXJHcm91cFRyYW5zZm9ybXMocmVuZGVyR3JvdXAsIHVwZGF0ZUNoaWxkUmVuZGVyR3JvdXBzID0gZmFsc2UpIHtcbiAgdXBkYXRlUmVuZGVyR3JvdXBUcmFuc2Zvcm0ocmVuZGVyR3JvdXApO1xuICBjb25zdCBjaGlsZHJlblRvVXBkYXRlID0gcmVuZGVyR3JvdXAuY2hpbGRyZW5Ub1VwZGF0ZTtcbiAgY29uc3QgdXBkYXRlVGljayA9IHJlbmRlckdyb3VwLnVwZGF0ZVRpY2srKztcbiAgZm9yIChjb25zdCBqIGluIGNoaWxkcmVuVG9VcGRhdGUpIHtcbiAgICBjb25zdCByZW5kZXJHcm91cERlcHRoID0gTnVtYmVyKGopO1xuICAgIGNvbnN0IGNoaWxkcmVuQXREZXB0aCA9IGNoaWxkcmVuVG9VcGRhdGVbal07XG4gICAgY29uc3QgbGlzdCA9IGNoaWxkcmVuQXREZXB0aC5saXN0O1xuICAgIGNvbnN0IGluZGV4ID0gY2hpbGRyZW5BdERlcHRoLmluZGV4O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5kZXg7IGkrKykge1xuICAgICAgY29uc3QgY2hpbGQgPSBsaXN0W2ldO1xuICAgICAgaWYgKGNoaWxkLnBhcmVudFJlbmRlckdyb3VwID09PSByZW5kZXJHcm91cCAmJiBjaGlsZC5yZWxhdGl2ZVJlbmRlckdyb3VwRGVwdGggPT09IHJlbmRlckdyb3VwRGVwdGgpIHtcbiAgICAgICAgdXBkYXRlVHJhbnNmb3JtQW5kQ2hpbGRyZW4oY2hpbGQsIHVwZGF0ZVRpY2ssIDApO1xuICAgICAgfVxuICAgIH1cbiAgICBjbGVhckxpc3QobGlzdCwgaW5kZXgpO1xuICAgIGNoaWxkcmVuQXREZXB0aC5pbmRleCA9IDA7XG4gIH1cbiAgaWYgKHVwZGF0ZUNoaWxkUmVuZGVyR3JvdXBzKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZW5kZXJHcm91cC5yZW5kZXJHcm91cENoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICB1cGRhdGVSZW5kZXJHcm91cFRyYW5zZm9ybXMocmVuZGVyR3JvdXAucmVuZGVyR3JvdXBDaGlsZHJlbltpXSwgdXBkYXRlQ2hpbGRSZW5kZXJHcm91cHMpO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gdXBkYXRlUmVuZGVyR3JvdXBUcmFuc2Zvcm0ocmVuZGVyR3JvdXApIHtcbiAgY29uc3Qgcm9vdCA9IHJlbmRlckdyb3VwLnJvb3Q7XG4gIGxldCB3b3JsZEFscGhhO1xuICBpZiAocmVuZGVyR3JvdXAucmVuZGVyR3JvdXBQYXJlbnQpIHtcbiAgICBjb25zdCByZW5kZXJHcm91cFBhcmVudCA9IHJlbmRlckdyb3VwLnJlbmRlckdyb3VwUGFyZW50O1xuICAgIHJlbmRlckdyb3VwLndvcmxkVHJhbnNmb3JtLmFwcGVuZEZyb20oXG4gICAgICByb290LnJlbGF0aXZlR3JvdXBUcmFuc2Zvcm0sXG4gICAgICByZW5kZXJHcm91cFBhcmVudC53b3JsZFRyYW5zZm9ybVxuICAgICk7XG4gICAgcmVuZGVyR3JvdXAud29ybGRDb2xvciA9IG11bHRpcGx5Q29sb3JzKFxuICAgICAgcm9vdC5ncm91cENvbG9yLFxuICAgICAgcmVuZGVyR3JvdXBQYXJlbnQud29ybGRDb2xvclxuICAgICk7XG4gICAgd29ybGRBbHBoYSA9IHJvb3QuZ3JvdXBBbHBoYSAqIHJlbmRlckdyb3VwUGFyZW50LndvcmxkQWxwaGE7XG4gIH0gZWxzZSB7XG4gICAgcmVuZGVyR3JvdXAud29ybGRUcmFuc2Zvcm0uY29weUZyb20ocm9vdC5sb2NhbFRyYW5zZm9ybSk7XG4gICAgcmVuZGVyR3JvdXAud29ybGRDb2xvciA9IHJvb3QubG9jYWxDb2xvcjtcbiAgICB3b3JsZEFscGhhID0gcm9vdC5sb2NhbEFscGhhO1xuICB9XG4gIHdvcmxkQWxwaGEgPSB3b3JsZEFscGhhIDwgMCA/IDAgOiB3b3JsZEFscGhhID4gMSA/IDEgOiB3b3JsZEFscGhhO1xuICByZW5kZXJHcm91cC53b3JsZEFscGhhID0gd29ybGRBbHBoYTtcbiAgcmVuZGVyR3JvdXAud29ybGRDb2xvckFscGhhID0gcmVuZGVyR3JvdXAud29ybGRDb2xvciArICgod29ybGRBbHBoYSAqIDI1NSB8IDApIDw8IDI0KTtcbn1cbmZ1bmN0aW9uIHVwZGF0ZVRyYW5zZm9ybUFuZENoaWxkcmVuKGNvbnRhaW5lciwgdXBkYXRlVGljaywgdXBkYXRlRmxhZ3MpIHtcbiAgaWYgKHVwZGF0ZVRpY2sgPT09IGNvbnRhaW5lci51cGRhdGVUaWNrKVxuICAgIHJldHVybjtcbiAgY29udGFpbmVyLnVwZGF0ZVRpY2sgPSB1cGRhdGVUaWNrO1xuICBjb250YWluZXIuZGlkQ2hhbmdlID0gZmFsc2U7XG4gIGNvbnN0IGxvY2FsVHJhbnNmb3JtID0gY29udGFpbmVyLmxvY2FsVHJhbnNmb3JtO1xuICBjb250YWluZXIudXBkYXRlTG9jYWxUcmFuc2Zvcm0oKTtcbiAgY29uc3QgcGFyZW50ID0gY29udGFpbmVyLnBhcmVudDtcbiAgaWYgKHBhcmVudCAmJiAhcGFyZW50LnJlbmRlckdyb3VwKSB7XG4gICAgdXBkYXRlRmxhZ3MgfD0gY29udGFpbmVyLl91cGRhdGVGbGFncztcbiAgICBjb250YWluZXIucmVsYXRpdmVHcm91cFRyYW5zZm9ybS5hcHBlbmRGcm9tKFxuICAgICAgbG9jYWxUcmFuc2Zvcm0sXG4gICAgICBwYXJlbnQucmVsYXRpdmVHcm91cFRyYW5zZm9ybVxuICAgICk7XG4gICAgaWYgKHVwZGF0ZUZsYWdzICYgVVBEQVRFX0JMRU5EX0NPTE9SX1ZJU0lCTEUpIHtcbiAgICAgIHVwZGF0ZUNvbG9yQmxlbmRWaXNpYmlsaXR5KGNvbnRhaW5lciwgcGFyZW50LCB1cGRhdGVGbGFncyk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHVwZGF0ZUZsYWdzID0gY29udGFpbmVyLl91cGRhdGVGbGFncztcbiAgICBjb250YWluZXIucmVsYXRpdmVHcm91cFRyYW5zZm9ybS5jb3B5RnJvbShsb2NhbFRyYW5zZm9ybSk7XG4gICAgaWYgKHVwZGF0ZUZsYWdzICYgVVBEQVRFX0JMRU5EX0NPTE9SX1ZJU0lCTEUpIHtcbiAgICAgIHVwZGF0ZUNvbG9yQmxlbmRWaXNpYmlsaXR5KGNvbnRhaW5lciwgdGVtcENvbnRhaW5lciwgdXBkYXRlRmxhZ3MpO1xuICAgIH1cbiAgfVxuICBpZiAoIWNvbnRhaW5lci5yZW5kZXJHcm91cCkge1xuICAgIGNvbnN0IGNoaWxkcmVuID0gY29udGFpbmVyLmNoaWxkcmVuO1xuICAgIGNvbnN0IGxlbmd0aCA9IGNoaWxkcmVuLmxlbmd0aDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICB1cGRhdGVUcmFuc2Zvcm1BbmRDaGlsZHJlbihjaGlsZHJlbltpXSwgdXBkYXRlVGljaywgdXBkYXRlRmxhZ3MpO1xuICAgIH1cbiAgICBjb25zdCByZW5kZXJHcm91cCA9IGNvbnRhaW5lci5wYXJlbnRSZW5kZXJHcm91cDtcbiAgICBjb25zdCByZW5kZXJhYmxlID0gY29udGFpbmVyO1xuICAgIGlmIChyZW5kZXJhYmxlLnJlbmRlclBpcGVJZCAmJiAhcmVuZGVyR3JvdXAuc3RydWN0dXJlRGlkQ2hhbmdlKSB7XG4gICAgICByZW5kZXJHcm91cC51cGRhdGVSZW5kZXJhYmxlKHJlbmRlcmFibGUpO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gdXBkYXRlQ29sb3JCbGVuZFZpc2liaWxpdHkoY29udGFpbmVyLCBwYXJlbnQsIHVwZGF0ZUZsYWdzKSB7XG4gIGlmICh1cGRhdGVGbGFncyAmIFVQREFURV9DT0xPUikge1xuICAgIGNvbnRhaW5lci5ncm91cENvbG9yID0gbXVsdGlwbHlDb2xvcnMoXG4gICAgICBjb250YWluZXIubG9jYWxDb2xvcixcbiAgICAgIHBhcmVudC5ncm91cENvbG9yXG4gICAgKTtcbiAgICBsZXQgZ3JvdXBBbHBoYSA9IGNvbnRhaW5lci5sb2NhbEFscGhhICogcGFyZW50Lmdyb3VwQWxwaGE7XG4gICAgZ3JvdXBBbHBoYSA9IGdyb3VwQWxwaGEgPCAwID8gMCA6IGdyb3VwQWxwaGEgPiAxID8gMSA6IGdyb3VwQWxwaGE7XG4gICAgY29udGFpbmVyLmdyb3VwQWxwaGEgPSBncm91cEFscGhhO1xuICAgIGNvbnRhaW5lci5ncm91cENvbG9yQWxwaGEgPSBjb250YWluZXIuZ3JvdXBDb2xvciArICgoZ3JvdXBBbHBoYSAqIDI1NSB8IDApIDw8IDI0KTtcbiAgfVxuICBpZiAodXBkYXRlRmxhZ3MgJiBVUERBVEVfQkxFTkQpIHtcbiAgICBjb250YWluZXIuZ3JvdXBCbGVuZE1vZGUgPSBjb250YWluZXIubG9jYWxCbGVuZE1vZGUgPT09IFwiaW5oZXJpdFwiID8gcGFyZW50Lmdyb3VwQmxlbmRNb2RlIDogY29udGFpbmVyLmxvY2FsQmxlbmRNb2RlO1xuICB9XG4gIGlmICh1cGRhdGVGbGFncyAmIFVQREFURV9WSVNJQkxFKSB7XG4gICAgY29udGFpbmVyLmdsb2JhbERpc3BsYXlTdGF0dXMgPSBjb250YWluZXIubG9jYWxEaXNwbGF5U3RhdHVzICYgcGFyZW50Lmdsb2JhbERpc3BsYXlTdGF0dXM7XG4gIH1cbiAgY29udGFpbmVyLl91cGRhdGVGbGFncyA9IDA7XG59XG5cbmV4cG9ydCB7IHVwZGF0ZVJlbmRlckdyb3VwVHJhbnNmb3JtLCB1cGRhdGVSZW5kZXJHcm91cFRyYW5zZm9ybXMsIHVwZGF0ZVRyYW5zZm9ybUFuZENoaWxkcmVuIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11cGRhdGVSZW5kZXJHcm91cFRyYW5zZm9ybXMubWpzLm1hcFxuIiwiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSB9IGZyb20gJy4uLy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuaW1wb3J0IHsgTWF0cml4IH0gZnJvbSAnLi4vLi4vbWF0aHMvbWF0cml4L01hdHJpeC5tanMnO1xuaW1wb3J0IHsgVGV4dHVyZVBvb2wgfSBmcm9tICcuLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC90ZXh0dXJlL1RleHR1cmVQb29sLm1qcyc7XG5pbXBvcnQgeyBCb3VuZHMgfSBmcm9tICcuL2JvdW5kcy9Cb3VuZHMubWpzJztcbmltcG9ydCB7IGJ1aWxkSW5zdHJ1Y3Rpb25zIH0gZnJvbSAnLi91dGlscy9idWlsZEluc3RydWN0aW9ucy5tanMnO1xuaW1wb3J0IHsgY2xlYXJMaXN0IH0gZnJvbSAnLi91dGlscy9jbGVhckxpc3QubWpzJztcbmltcG9ydCB7IGV4ZWN1dGVJbnN0cnVjdGlvbnMgfSBmcm9tICcuL3V0aWxzL2V4ZWN1dGVJbnN0cnVjdGlvbnMubWpzJztcbmltcG9ydCB7IHVwZGF0ZVJlbmRlckdyb3VwVHJhbnNmb3JtcyB9IGZyb20gJy4vdXRpbHMvdXBkYXRlUmVuZGVyR3JvdXBUcmFuc2Zvcm1zLm1qcyc7XG5pbXBvcnQgeyB2YWxpZGF0ZVJlbmRlcmFibGVzIH0gZnJvbSAnLi91dGlscy92YWxpZGF0ZVJlbmRlcmFibGVzLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY29uc3QgdGVtcE1hdHJpeCA9IG5ldyBNYXRyaXgoKTtcbmNsYXNzIFJlbmRlckdyb3VwU3lzdGVtIHtcbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICB9XG4gIHJlbmRlcih7IGNvbnRhaW5lciwgdHJhbnNmb3JtIH0pIHtcbiAgICBjb25zdCBwYXJlbnQgPSBjb250YWluZXIucGFyZW50O1xuICAgIGNvbnN0IHJlbmRlckdyb3VwUGFyZW50ID0gY29udGFpbmVyLnJlbmRlckdyb3VwLnJlbmRlckdyb3VwUGFyZW50O1xuICAgIGNvbnRhaW5lci5wYXJlbnQgPSBudWxsO1xuICAgIGNvbnRhaW5lci5yZW5kZXJHcm91cC5yZW5kZXJHcm91cFBhcmVudCA9IG51bGw7XG4gICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLl9yZW5kZXJlcjtcbiAgICBsZXQgb3JpZ2luYWxMb2NhbFRyYW5zZm9ybSA9IHRlbXBNYXRyaXg7XG4gICAgaWYgKHRyYW5zZm9ybSkge1xuICAgICAgb3JpZ2luYWxMb2NhbFRyYW5zZm9ybSA9IG9yaWdpbmFsTG9jYWxUcmFuc2Zvcm0uY29weUZyb20oY29udGFpbmVyLnJlbmRlckdyb3VwLmxvY2FsVHJhbnNmb3JtKTtcbiAgICAgIGNvbnRhaW5lci5yZW5kZXJHcm91cC5sb2NhbFRyYW5zZm9ybS5jb3B5RnJvbSh0cmFuc2Zvcm0pO1xuICAgIH1cbiAgICBjb25zdCByZW5kZXJQaXBlcyA9IHJlbmRlcmVyLnJlbmRlclBpcGVzO1xuICAgIHRoaXMuX3VwZGF0ZUNhY2hlZFJlbmRlckdyb3Vwcyhjb250YWluZXIucmVuZGVyR3JvdXAsIG51bGwpO1xuICAgIHRoaXMuX3VwZGF0ZVJlbmRlckdyb3Vwcyhjb250YWluZXIucmVuZGVyR3JvdXApO1xuICAgIHJlbmRlcmVyLmdsb2JhbFVuaWZvcm1zLnN0YXJ0KHtcbiAgICAgIHdvcmxkVHJhbnNmb3JtTWF0cml4OiB0cmFuc2Zvcm0gPyBjb250YWluZXIucmVuZGVyR3JvdXAubG9jYWxUcmFuc2Zvcm0gOiBjb250YWluZXIucmVuZGVyR3JvdXAud29ybGRUcmFuc2Zvcm0sXG4gICAgICB3b3JsZENvbG9yOiBjb250YWluZXIucmVuZGVyR3JvdXAud29ybGRDb2xvckFscGhhXG4gICAgfSk7XG4gICAgZXhlY3V0ZUluc3RydWN0aW9ucyhjb250YWluZXIucmVuZGVyR3JvdXAsIHJlbmRlclBpcGVzKTtcbiAgICBpZiAocmVuZGVyUGlwZXMudW5pZm9ybUJhdGNoKSB7XG4gICAgICByZW5kZXJQaXBlcy51bmlmb3JtQmF0Y2gucmVuZGVyRW5kKCk7XG4gICAgfVxuICAgIGlmICh0cmFuc2Zvcm0pIHtcbiAgICAgIGNvbnRhaW5lci5yZW5kZXJHcm91cC5sb2NhbFRyYW5zZm9ybS5jb3B5RnJvbShvcmlnaW5hbExvY2FsVHJhbnNmb3JtKTtcbiAgICB9XG4gICAgY29udGFpbmVyLnBhcmVudCA9IHBhcmVudDtcbiAgICBjb250YWluZXIucmVuZGVyR3JvdXAucmVuZGVyR3JvdXBQYXJlbnQgPSByZW5kZXJHcm91cFBhcmVudDtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gbnVsbDtcbiAgfVxuICBfdXBkYXRlQ2FjaGVkUmVuZGVyR3JvdXBzKHJlbmRlckdyb3VwLCBjbG9zZXN0Q2FjaGVBc1RleHR1cmUpIHtcbiAgICBpZiAocmVuZGVyR3JvdXAuaXNDYWNoZWRBc1RleHR1cmUpIHtcbiAgICAgIGlmICghcmVuZGVyR3JvdXAudXBkYXRlQ2FjaGVUZXh0dXJlKVxuICAgICAgICByZXR1cm47XG4gICAgICBjbG9zZXN0Q2FjaGVBc1RleHR1cmUgPSByZW5kZXJHcm91cDtcbiAgICB9XG4gICAgcmVuZGVyR3JvdXAuX3BhcmVudENhY2hlQXNUZXh0dXJlUmVuZGVyR3JvdXAgPSBjbG9zZXN0Q2FjaGVBc1RleHR1cmU7XG4gICAgZm9yIChsZXQgaSA9IHJlbmRlckdyb3VwLnJlbmRlckdyb3VwQ2hpbGRyZW4ubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIHRoaXMuX3VwZGF0ZUNhY2hlZFJlbmRlckdyb3VwcyhyZW5kZXJHcm91cC5yZW5kZXJHcm91cENoaWxkcmVuW2ldLCBjbG9zZXN0Q2FjaGVBc1RleHR1cmUpO1xuICAgIH1cbiAgICByZW5kZXJHcm91cC5pbnZhbGlkYXRlTWF0cmljZXMoKTtcbiAgICBpZiAocmVuZGVyR3JvdXAuaXNDYWNoZWRBc1RleHR1cmUpIHtcbiAgICAgIGlmIChyZW5kZXJHcm91cC50ZXh0dXJlTmVlZHNVcGRhdGUpIHtcbiAgICAgICAgY29uc3QgYm91bmRzID0gcmVuZGVyR3JvdXAucm9vdC5nZXRMb2NhbEJvdW5kcygpO1xuICAgICAgICBib3VuZHMuY2VpbCgpO1xuICAgICAgICBjb25zdCBsYXN0VGV4dHVyZSA9IHJlbmRlckdyb3VwLnRleHR1cmU7XG4gICAgICAgIGlmIChyZW5kZXJHcm91cC50ZXh0dXJlKSB7XG4gICAgICAgICAgVGV4dHVyZVBvb2wucmV0dXJuVGV4dHVyZShyZW5kZXJHcm91cC50ZXh0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZW5kZXJlciA9IHRoaXMuX3JlbmRlcmVyO1xuICAgICAgICBjb25zdCByZXNvbHV0aW9uID0gcmVuZGVyR3JvdXAudGV4dHVyZU9wdGlvbnMucmVzb2x1dGlvbiB8fCByZW5kZXJlci52aWV3LnJlc29sdXRpb247XG4gICAgICAgIGNvbnN0IGFudGlhbGlhcyA9IHJlbmRlckdyb3VwLnRleHR1cmVPcHRpb25zLmFudGlhbGlhcyA/PyByZW5kZXJlci52aWV3LmFudGlhbGlhcztcbiAgICAgICAgcmVuZGVyR3JvdXAudGV4dHVyZSA9IFRleHR1cmVQb29sLmdldE9wdGltYWxUZXh0dXJlKFxuICAgICAgICAgIGJvdW5kcy53aWR0aCxcbiAgICAgICAgICBib3VuZHMuaGVpZ2h0LFxuICAgICAgICAgIHJlc29sdXRpb24sXG4gICAgICAgICAgYW50aWFsaWFzXG4gICAgICAgICk7XG4gICAgICAgIHJlbmRlckdyb3VwLl90ZXh0dXJlQm91bmRzIHx8IChyZW5kZXJHcm91cC5fdGV4dHVyZUJvdW5kcyA9IG5ldyBCb3VuZHMoKSk7XG4gICAgICAgIHJlbmRlckdyb3VwLl90ZXh0dXJlQm91bmRzLmNvcHlGcm9tKGJvdW5kcyk7XG4gICAgICAgIGlmIChsYXN0VGV4dHVyZSAhPT0gcmVuZGVyR3JvdXAudGV4dHVyZSkge1xuICAgICAgICAgIGlmIChyZW5kZXJHcm91cC5yZW5kZXJHcm91cFBhcmVudCkge1xuICAgICAgICAgICAgcmVuZGVyR3JvdXAucmVuZGVyR3JvdXBQYXJlbnQuc3RydWN0dXJlRGlkQ2hhbmdlID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHJlbmRlckdyb3VwLnRleHR1cmUpIHtcbiAgICAgIFRleHR1cmVQb29sLnJldHVyblRleHR1cmUocmVuZGVyR3JvdXAudGV4dHVyZSk7XG4gICAgICByZW5kZXJHcm91cC50ZXh0dXJlID0gbnVsbDtcbiAgICB9XG4gIH1cbiAgX3VwZGF0ZVJlbmRlckdyb3VwcyhyZW5kZXJHcm91cCkge1xuICAgIGNvbnN0IHJlbmRlcmVyID0gdGhpcy5fcmVuZGVyZXI7XG4gICAgY29uc3QgcmVuZGVyUGlwZXMgPSByZW5kZXJlci5yZW5kZXJQaXBlcztcbiAgICByZW5kZXJHcm91cC5ydW5PblJlbmRlcigpO1xuICAgIHJlbmRlckdyb3VwLmluc3RydWN0aW9uU2V0LnJlbmRlclBpcGVzID0gcmVuZGVyUGlwZXM7XG4gICAgaWYgKCFyZW5kZXJHcm91cC5zdHJ1Y3R1cmVEaWRDaGFuZ2UpIHtcbiAgICAgIHZhbGlkYXRlUmVuZGVyYWJsZXMocmVuZGVyR3JvdXAsIHJlbmRlclBpcGVzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2xlYXJMaXN0KHJlbmRlckdyb3VwLmNoaWxkcmVuUmVuZGVyYWJsZXNUb1VwZGF0ZS5saXN0LCAwKTtcbiAgICB9XG4gICAgdXBkYXRlUmVuZGVyR3JvdXBUcmFuc2Zvcm1zKHJlbmRlckdyb3VwKTtcbiAgICBpZiAocmVuZGVyR3JvdXAuc3RydWN0dXJlRGlkQ2hhbmdlKSB7XG4gICAgICByZW5kZXJHcm91cC5zdHJ1Y3R1cmVEaWRDaGFuZ2UgPSBmYWxzZTtcbiAgICAgIGJ1aWxkSW5zdHJ1Y3Rpb25zKHJlbmRlckdyb3VwLCByZW5kZXJlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3VwZGF0ZVJlbmRlcmFibGVzKHJlbmRlckdyb3VwKTtcbiAgICB9XG4gICAgcmVuZGVyR3JvdXAuY2hpbGRyZW5SZW5kZXJhYmxlc1RvVXBkYXRlLmluZGV4ID0gMDtcbiAgICByZW5kZXJlci5yZW5kZXJQaXBlcy5iYXRjaC51cGxvYWQocmVuZGVyR3JvdXAuaW5zdHJ1Y3Rpb25TZXQpO1xuICAgIGlmIChyZW5kZXJHcm91cC5pc0NhY2hlZEFzVGV4dHVyZSAmJiAhcmVuZGVyR3JvdXAudGV4dHVyZU5lZWRzVXBkYXRlKVxuICAgICAgcmV0dXJuO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVuZGVyR3JvdXAucmVuZGVyR3JvdXBDaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5fdXBkYXRlUmVuZGVyR3JvdXBzKHJlbmRlckdyb3VwLnJlbmRlckdyb3VwQ2hpbGRyZW5baV0pO1xuICAgIH1cbiAgfVxuICBfdXBkYXRlUmVuZGVyYWJsZXMocmVuZGVyR3JvdXApIHtcbiAgICBjb25zdCB7IGxpc3QsIGluZGV4IH0gPSByZW5kZXJHcm91cC5jaGlsZHJlblJlbmRlcmFibGVzVG9VcGRhdGU7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbmRleDsgaSsrKSB7XG4gICAgICBjb25zdCBjb250YWluZXIgPSBsaXN0W2ldO1xuICAgICAgaWYgKGNvbnRhaW5lci5kaWRWaWV3VXBkYXRlKSB7XG4gICAgICAgIHJlbmRlckdyb3VwLnVwZGF0ZVJlbmRlcmFibGUoY29udGFpbmVyKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY2xlYXJMaXN0KGxpc3QsIGluZGV4KTtcbiAgfVxufVxuLyoqIEBpZ25vcmUgKi9cblJlbmRlckdyb3VwU3lzdGVtLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogW1xuICAgIEV4dGVuc2lvblR5cGUuV2ViR0xTeXN0ZW0sXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHUFVTeXN0ZW0sXG4gICAgRXh0ZW5zaW9uVHlwZS5DYW52YXNTeXN0ZW1cbiAgXSxcbiAgbmFtZTogXCJyZW5kZXJHcm91cFwiXG59O1xuXG5leHBvcnQgeyBSZW5kZXJHcm91cFN5c3RlbSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVuZGVyR3JvdXBTeXN0ZW0ubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiB2YWxpZGF0ZVJlbmRlcmFibGVzKHJlbmRlckdyb3VwLCByZW5kZXJQaXBlcykge1xuICBjb25zdCB7IGxpc3QsIGluZGV4IH0gPSByZW5kZXJHcm91cC5jaGlsZHJlblJlbmRlcmFibGVzVG9VcGRhdGU7XG4gIGxldCByZWJ1aWxkUmVxdWlyZWQgPSBmYWxzZTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbmRleDsgaSsrKSB7XG4gICAgY29uc3QgY29udGFpbmVyID0gbGlzdFtpXTtcbiAgICBjb25zdCByZW5kZXJhYmxlID0gY29udGFpbmVyO1xuICAgIGNvbnN0IHBpcGUgPSByZW5kZXJQaXBlc1tyZW5kZXJhYmxlLnJlbmRlclBpcGVJZF07XG4gICAgcmVidWlsZFJlcXVpcmVkID0gcGlwZS52YWxpZGF0ZVJlbmRlcmFibGUoY29udGFpbmVyKTtcbiAgICBpZiAocmVidWlsZFJlcXVpcmVkKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmVuZGVyR3JvdXAuc3RydWN0dXJlRGlkQ2hhbmdlID0gcmVidWlsZFJlcXVpcmVkO1xuICByZXR1cm4gcmVidWlsZFJlcXVpcmVkO1xufVxuXG5leHBvcnQgeyB2YWxpZGF0ZVJlbmRlcmFibGVzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD12YWxpZGF0ZVJlbmRlcmFibGVzLm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IEJpZ1Bvb2wgfSBmcm9tICcuLi8uLi91dGlscy9wb29sL1Bvb2xHcm91cC5tanMnO1xuaW1wb3J0IHsgQmF0Y2hhYmxlU3ByaXRlIH0gZnJvbSAnLi9CYXRjaGFibGVTcHJpdGUubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jbGFzcyBTcHJpdGVQaXBlIHtcbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICB0aGlzLl9ncHVTcHJpdGVIYXNoID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdGhpcy5fZGVzdHJveVJlbmRlcmFibGVCb3VuZCA9IHRoaXMuZGVzdHJveVJlbmRlcmFibGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuX3JlbmRlcmVyLnJlbmRlcmFibGVHQy5hZGRNYW5hZ2VkSGFzaCh0aGlzLCBcIl9ncHVTcHJpdGVIYXNoXCIpO1xuICB9XG4gIGFkZFJlbmRlcmFibGUoc3ByaXRlLCBpbnN0cnVjdGlvblNldCkge1xuICAgIGNvbnN0IGdwdVNwcml0ZSA9IHRoaXMuX2dldEdwdVNwcml0ZShzcHJpdGUpO1xuICAgIGlmIChzcHJpdGUuZGlkVmlld1VwZGF0ZSlcbiAgICAgIHRoaXMuX3VwZGF0ZUJhdGNoYWJsZVNwcml0ZShzcHJpdGUsIGdwdVNwcml0ZSk7XG4gICAgdGhpcy5fcmVuZGVyZXIucmVuZGVyUGlwZXMuYmF0Y2guYWRkVG9CYXRjaChncHVTcHJpdGUsIGluc3RydWN0aW9uU2V0KTtcbiAgfVxuICB1cGRhdGVSZW5kZXJhYmxlKHNwcml0ZSkge1xuICAgIGNvbnN0IGdwdVNwcml0ZSA9IHRoaXMuX2dwdVNwcml0ZUhhc2hbc3ByaXRlLnVpZF07XG4gICAgaWYgKHNwcml0ZS5kaWRWaWV3VXBkYXRlKVxuICAgICAgdGhpcy5fdXBkYXRlQmF0Y2hhYmxlU3ByaXRlKHNwcml0ZSwgZ3B1U3ByaXRlKTtcbiAgICBncHVTcHJpdGUuX2JhdGNoZXIudXBkYXRlRWxlbWVudChncHVTcHJpdGUpO1xuICB9XG4gIHZhbGlkYXRlUmVuZGVyYWJsZShzcHJpdGUpIHtcbiAgICBjb25zdCBncHVTcHJpdGUgPSB0aGlzLl9nZXRHcHVTcHJpdGUoc3ByaXRlKTtcbiAgICByZXR1cm4gIWdwdVNwcml0ZS5fYmF0Y2hlci5jaGVja0FuZFVwZGF0ZVRleHR1cmUoXG4gICAgICBncHVTcHJpdGUsXG4gICAgICBzcHJpdGUuX3RleHR1cmVcbiAgICApO1xuICB9XG4gIGRlc3Ryb3lSZW5kZXJhYmxlKHNwcml0ZSkge1xuICAgIGNvbnN0IGJhdGNoYWJsZVNwcml0ZSA9IHRoaXMuX2dwdVNwcml0ZUhhc2hbc3ByaXRlLnVpZF07XG4gICAgQmlnUG9vbC5yZXR1cm4oYmF0Y2hhYmxlU3ByaXRlKTtcbiAgICB0aGlzLl9ncHVTcHJpdGVIYXNoW3Nwcml0ZS51aWRdID0gbnVsbDtcbiAgICBzcHJpdGUub2ZmKFwiZGVzdHJveWVkXCIsIHRoaXMuX2Rlc3Ryb3lSZW5kZXJhYmxlQm91bmQpO1xuICB9XG4gIF91cGRhdGVCYXRjaGFibGVTcHJpdGUoc3ByaXRlLCBiYXRjaGFibGVTcHJpdGUpIHtcbiAgICBiYXRjaGFibGVTcHJpdGUuYm91bmRzID0gc3ByaXRlLnZpc3VhbEJvdW5kcztcbiAgICBiYXRjaGFibGVTcHJpdGUudGV4dHVyZSA9IHNwcml0ZS5fdGV4dHVyZTtcbiAgfVxuICBfZ2V0R3B1U3ByaXRlKHNwcml0ZSkge1xuICAgIHJldHVybiB0aGlzLl9ncHVTcHJpdGVIYXNoW3Nwcml0ZS51aWRdIHx8IHRoaXMuX2luaXRHUFVTcHJpdGUoc3ByaXRlKTtcbiAgfVxuICBfaW5pdEdQVVNwcml0ZShzcHJpdGUpIHtcbiAgICBjb25zdCBiYXRjaGFibGVTcHJpdGUgPSBCaWdQb29sLmdldChCYXRjaGFibGVTcHJpdGUpO1xuICAgIGJhdGNoYWJsZVNwcml0ZS5yZW5kZXJhYmxlID0gc3ByaXRlO1xuICAgIGJhdGNoYWJsZVNwcml0ZS50cmFuc2Zvcm0gPSBzcHJpdGUuZ3JvdXBUcmFuc2Zvcm07XG4gICAgYmF0Y2hhYmxlU3ByaXRlLnRleHR1cmUgPSBzcHJpdGUuX3RleHR1cmU7XG4gICAgYmF0Y2hhYmxlU3ByaXRlLmJvdW5kcyA9IHNwcml0ZS52aXN1YWxCb3VuZHM7XG4gICAgYmF0Y2hhYmxlU3ByaXRlLnJvdW5kUGl4ZWxzID0gdGhpcy5fcmVuZGVyZXIuX3JvdW5kUGl4ZWxzIHwgc3ByaXRlLl9yb3VuZFBpeGVscztcbiAgICB0aGlzLl9ncHVTcHJpdGVIYXNoW3Nwcml0ZS51aWRdID0gYmF0Y2hhYmxlU3ByaXRlO1xuICAgIHNwcml0ZS5vbihcImRlc3Ryb3llZFwiLCB0aGlzLl9kZXN0cm95UmVuZGVyYWJsZUJvdW5kKTtcbiAgICByZXR1cm4gYmF0Y2hhYmxlU3ByaXRlO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgZm9yIChjb25zdCBpIGluIHRoaXMuX2dwdVNwcml0ZUhhc2gpIHtcbiAgICAgIEJpZ1Bvb2wucmV0dXJuKHRoaXMuX2dwdVNwcml0ZUhhc2hbaV0pO1xuICAgIH1cbiAgICB0aGlzLl9ncHVTcHJpdGVIYXNoID0gbnVsbDtcbiAgICB0aGlzLl9yZW5kZXJlciA9IG51bGw7XG4gIH1cbn1cbi8qKiBAaWdub3JlICovXG5TcHJpdGVQaXBlLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogW1xuICAgIEV4dGVuc2lvblR5cGUuV2ViR0xQaXBlcyxcbiAgICBFeHRlbnNpb25UeXBlLldlYkdQVVBpcGVzLFxuICAgIEV4dGVuc2lvblR5cGUuQ2FudmFzUGlwZXNcbiAgXSxcbiAgbmFtZTogXCJzcHJpdGVcIlxufTtcblxuZXhwb3J0IHsgU3ByaXRlUGlwZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3ByaXRlUGlwZS5tanMubWFwXG4iLCJpbXBvcnQgeyBFeHRlbnNpb25UeXBlLCBleHRlbnNpb25zIH0gZnJvbSAnLi4vLi4vLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBTdGF0ZSB9IGZyb20gJy4uLy4uL3JlbmRlcmVycy9zaGFyZWQvc3RhdGUvU3RhdGUubWpzJztcbmltcG9ydCB7IERlZmF1bHRCYXRjaGVyIH0gZnJvbSAnLi9EZWZhdWx0QmF0Y2hlci5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNvbnN0IF9CYXRjaGVyUGlwZSA9IGNsYXNzIF9CYXRjaGVyUGlwZSB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyLCBhZGFwdG9yKSB7XG4gICAgdGhpcy5zdGF0ZSA9IFN0YXRlLmZvcjJkKCk7XG4gICAgdGhpcy5fYmF0Y2hlcnNCeUluc3RydWN0aW9uU2V0ID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgLyoqIEEgcmVjb3JkIG9mIGFsbCBhY3RpdmUgYmF0Y2hlcnMsIGtleWVkIGJ5IHRoZWlyIG5hbWVzICovXG4gICAgdGhpcy5fYWN0aXZlQmF0Y2hlcyA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl9hZGFwdG9yID0gYWRhcHRvcjtcbiAgICB0aGlzLl9hZGFwdG9yLmluaXQ/Lih0aGlzKTtcbiAgfVxuICBzdGF0aWMgZ2V0QmF0Y2hlcihuYW1lKSB7XG4gICAgcmV0dXJuIG5ldyB0aGlzLl9hdmFpbGFibGVCYXRjaGVyc1tuYW1lXSgpO1xuICB9XG4gIGJ1aWxkU3RhcnQoaW5zdHJ1Y3Rpb25TZXQpIHtcbiAgICBsZXQgYmF0Y2hlcnMgPSB0aGlzLl9iYXRjaGVyc0J5SW5zdHJ1Y3Rpb25TZXRbaW5zdHJ1Y3Rpb25TZXQudWlkXTtcbiAgICBpZiAoIWJhdGNoZXJzKSB7XG4gICAgICBiYXRjaGVycyA9IHRoaXMuX2JhdGNoZXJzQnlJbnN0cnVjdGlvblNldFtpbnN0cnVjdGlvblNldC51aWRdID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICBiYXRjaGVycy5kZWZhdWx0IHx8IChiYXRjaGVycy5kZWZhdWx0ID0gbmV3IERlZmF1bHRCYXRjaGVyKCkpO1xuICAgIH1cbiAgICB0aGlzLl9hY3RpdmVCYXRjaGVzID0gYmF0Y2hlcnM7XG4gICAgdGhpcy5fYWN0aXZlQmF0Y2ggPSB0aGlzLl9hY3RpdmVCYXRjaGVzLmRlZmF1bHQ7XG4gICAgZm9yIChjb25zdCBpIGluIHRoaXMuX2FjdGl2ZUJhdGNoZXMpIHtcbiAgICAgIHRoaXMuX2FjdGl2ZUJhdGNoZXNbaV0uYmVnaW4oKTtcbiAgICB9XG4gIH1cbiAgYWRkVG9CYXRjaChiYXRjaGFibGVPYmplY3QsIGluc3RydWN0aW9uU2V0KSB7XG4gICAgaWYgKHRoaXMuX2FjdGl2ZUJhdGNoLm5hbWUgIT09IGJhdGNoYWJsZU9iamVjdC5iYXRjaGVyTmFtZSkge1xuICAgICAgdGhpcy5fYWN0aXZlQmF0Y2guYnJlYWsoaW5zdHJ1Y3Rpb25TZXQpO1xuICAgICAgbGV0IGJhdGNoID0gdGhpcy5fYWN0aXZlQmF0Y2hlc1tiYXRjaGFibGVPYmplY3QuYmF0Y2hlck5hbWVdO1xuICAgICAgaWYgKCFiYXRjaCkge1xuICAgICAgICBiYXRjaCA9IHRoaXMuX2FjdGl2ZUJhdGNoZXNbYmF0Y2hhYmxlT2JqZWN0LmJhdGNoZXJOYW1lXSA9IF9CYXRjaGVyUGlwZS5nZXRCYXRjaGVyKGJhdGNoYWJsZU9iamVjdC5iYXRjaGVyTmFtZSk7XG4gICAgICAgIGJhdGNoLmJlZ2luKCk7XG4gICAgICB9XG4gICAgICB0aGlzLl9hY3RpdmVCYXRjaCA9IGJhdGNoO1xuICAgIH1cbiAgICB0aGlzLl9hY3RpdmVCYXRjaC5hZGQoYmF0Y2hhYmxlT2JqZWN0KTtcbiAgfVxuICBicmVhayhpbnN0cnVjdGlvblNldCkge1xuICAgIHRoaXMuX2FjdGl2ZUJhdGNoLmJyZWFrKGluc3RydWN0aW9uU2V0KTtcbiAgfVxuICBidWlsZEVuZChpbnN0cnVjdGlvblNldCkge1xuICAgIHRoaXMuX2FjdGl2ZUJhdGNoLmJyZWFrKGluc3RydWN0aW9uU2V0KTtcbiAgICBjb25zdCBiYXRjaGVzID0gdGhpcy5fYWN0aXZlQmF0Y2hlcztcbiAgICBmb3IgKGNvbnN0IGkgaW4gYmF0Y2hlcykge1xuICAgICAgY29uc3QgYmF0Y2ggPSBiYXRjaGVzW2ldO1xuICAgICAgY29uc3QgZ2VvbWV0cnkgPSBiYXRjaC5nZW9tZXRyeTtcbiAgICAgIGdlb21ldHJ5LmluZGV4QnVmZmVyLnNldERhdGFXaXRoU2l6ZShiYXRjaC5pbmRleEJ1ZmZlciwgYmF0Y2guaW5kZXhTaXplLCB0cnVlKTtcbiAgICAgIGdlb21ldHJ5LmJ1ZmZlcnNbMF0uc2V0RGF0YVdpdGhTaXplKGJhdGNoLmF0dHJpYnV0ZUJ1ZmZlci5mbG9hdDMyVmlldywgYmF0Y2guYXR0cmlidXRlU2l6ZSwgZmFsc2UpO1xuICAgIH1cbiAgfVxuICB1cGxvYWQoaW5zdHJ1Y3Rpb25TZXQpIHtcbiAgICBjb25zdCBiYXRjaGVycyA9IHRoaXMuX2JhdGNoZXJzQnlJbnN0cnVjdGlvblNldFtpbnN0cnVjdGlvblNldC51aWRdO1xuICAgIGZvciAoY29uc3QgaSBpbiBiYXRjaGVycykge1xuICAgICAgY29uc3QgYmF0Y2hlciA9IGJhdGNoZXJzW2ldO1xuICAgICAgY29uc3QgZ2VvbWV0cnkgPSBiYXRjaGVyLmdlb21ldHJ5O1xuICAgICAgaWYgKGJhdGNoZXIuZGlydHkpIHtcbiAgICAgICAgYmF0Y2hlci5kaXJ0eSA9IGZhbHNlO1xuICAgICAgICBnZW9tZXRyeS5idWZmZXJzWzBdLnVwZGF0ZShiYXRjaGVyLmF0dHJpYnV0ZVNpemUgKiA0KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZXhlY3V0ZShiYXRjaCkge1xuICAgIGlmIChiYXRjaC5hY3Rpb24gPT09IFwic3RhcnRCYXRjaFwiKSB7XG4gICAgICBjb25zdCBiYXRjaGVyID0gYmF0Y2guYmF0Y2hlcjtcbiAgICAgIGNvbnN0IGdlb21ldHJ5ID0gYmF0Y2hlci5nZW9tZXRyeTtcbiAgICAgIGNvbnN0IHNoYWRlciA9IGJhdGNoZXIuc2hhZGVyO1xuICAgICAgdGhpcy5fYWRhcHRvci5zdGFydCh0aGlzLCBnZW9tZXRyeSwgc2hhZGVyKTtcbiAgICB9XG4gICAgdGhpcy5fYWRhcHRvci5leGVjdXRlKHRoaXMsIGJhdGNoKTtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuc3RhdGUgPSBudWxsO1xuICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgIHRoaXMuX2FkYXB0b3IgPSBudWxsO1xuICAgIGZvciAoY29uc3QgaSBpbiB0aGlzLl9hY3RpdmVCYXRjaGVzKSB7XG4gICAgICB0aGlzLl9hY3RpdmVCYXRjaGVzW2ldLmRlc3Ryb3koKTtcbiAgICB9XG4gICAgdGhpcy5fYWN0aXZlQmF0Y2hlcyA9IG51bGw7XG4gIH1cbn07XG4vKiogQGlnbm9yZSAqL1xuX0JhdGNoZXJQaXBlLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogW1xuICAgIEV4dGVuc2lvblR5cGUuV2ViR0xQaXBlcyxcbiAgICBFeHRlbnNpb25UeXBlLldlYkdQVVBpcGVzLFxuICAgIEV4dGVuc2lvblR5cGUuQ2FudmFzUGlwZXNcbiAgXSxcbiAgbmFtZTogXCJiYXRjaFwiXG59O1xuX0JhdGNoZXJQaXBlLl9hdmFpbGFibGVCYXRjaGVycyA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xubGV0IEJhdGNoZXJQaXBlID0gX0JhdGNoZXJQaXBlO1xuZXh0ZW5zaW9ucy5oYW5kbGVCeU1hcChFeHRlbnNpb25UeXBlLkJhdGNoZXIsIEJhdGNoZXJQaXBlLl9hdmFpbGFibGVCYXRjaGVycyk7XG5leHRlbnNpb25zLmFkZChEZWZhdWx0QmF0Y2hlcik7XG5cbmV4cG9ydCB7IEJhdGNoZXJQaXBlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CYXRjaGVyUGlwZS5tanMubWFwXG4iLCJpbXBvcnQgeyBHbFByb2dyYW0gfSBmcm9tICcuLi9yZW5kZXJpbmcvcmVuZGVyZXJzL2dsL3NoYWRlci9HbFByb2dyYW0ubWpzJztcbmltcG9ydCB7IEdwdVByb2dyYW0gfSBmcm9tICcuLi9yZW5kZXJpbmcvcmVuZGVyZXJzL2dwdS9zaGFkZXIvR3B1UHJvZ3JhbS5tanMnO1xuaW1wb3J0IHsgU2hhZGVyIH0gZnJvbSAnLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvc2hhZGVyL1NoYWRlci5tanMnO1xuaW1wb3J0IHsgU3RhdGUgfSBmcm9tICcuLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC9zdGF0ZS9TdGF0ZS5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNvbnN0IF9GaWx0ZXIgPSBjbGFzcyBfRmlsdGVyIGV4dGVuZHMgU2hhZGVyIHtcbiAgLyoqXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIG9wdGlvbmFsIHBhcmFtZXRlcnMgb2YgdGhpcyBmaWx0ZXIuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IHsgLi4uX0ZpbHRlci5kZWZhdWx0T3B0aW9ucywgLi4ub3B0aW9ucyB9O1xuICAgIHN1cGVyKG9wdGlvbnMpO1xuICAgIC8qKiBJZiBlbmFibGVkIGlzIHRydWUgdGhlIGZpbHRlciBpcyBhcHBsaWVkLCBpZiBmYWxzZSBpdCB3aWxsIG5vdC4gKi9cbiAgICB0aGlzLmVuYWJsZWQgPSB0cnVlO1xuICAgIC8qKlxuICAgICAqIFRoZSBncHUgc3RhdGUgdGhlIGZpbHRlciByZXF1aXJlcyB0byByZW5kZXIuXG4gICAgICogQGludGVybmFsXG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuICAgIHRoaXMuX3N0YXRlID0gU3RhdGUuZm9yMmQoKTtcbiAgICB0aGlzLmJsZW5kTW9kZSA9IG9wdGlvbnMuYmxlbmRNb2RlO1xuICAgIHRoaXMucGFkZGluZyA9IG9wdGlvbnMucGFkZGluZztcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMuYW50aWFsaWFzID09PSBcImJvb2xlYW5cIikge1xuICAgICAgdGhpcy5hbnRpYWxpYXMgPSBvcHRpb25zLmFudGlhbGlhcyA/IFwib25cIiA6IFwib2ZmXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYW50aWFsaWFzID0gb3B0aW9ucy5hbnRpYWxpYXM7XG4gICAgfVxuICAgIHRoaXMucmVzb2x1dGlvbiA9IG9wdGlvbnMucmVzb2x1dGlvbjtcbiAgICB0aGlzLmJsZW5kUmVxdWlyZWQgPSBvcHRpb25zLmJsZW5kUmVxdWlyZWQ7XG4gICAgdGhpcy5jbGlwVG9WaWV3cG9ydCA9IG9wdGlvbnMuY2xpcFRvVmlld3BvcnQ7XG4gICAgdGhpcy5hZGRSZXNvdXJjZShcInVUZXh0dXJlXCIsIDAsIDEpO1xuICB9XG4gIC8qKlxuICAgKiBBcHBsaWVzIHRoZSBmaWx0ZXJcbiAgICogQHBhcmFtIGZpbHRlck1hbmFnZXIgLSBUaGUgcmVuZGVyZXIgdG8gcmV0cmlldmUgdGhlIGZpbHRlciBmcm9tXG4gICAqIEBwYXJhbSBpbnB1dCAtIFRoZSBpbnB1dCByZW5kZXIgdGFyZ2V0LlxuICAgKiBAcGFyYW0gb3V0cHV0IC0gVGhlIHRhcmdldCB0byBvdXRwdXQgdG8uXG4gICAqIEBwYXJhbSBjbGVhck1vZGUgLSBTaG91bGQgdGhlIG91dHB1dCBiZSBjbGVhcmVkIGJlZm9yZSByZW5kZXJpbmcgdG8gaXRcbiAgICovXG4gIGFwcGx5KGZpbHRlck1hbmFnZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyTW9kZSkge1xuICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgaW5wdXQsIG91dHB1dCwgY2xlYXJNb2RlKTtcbiAgfVxuICAvKipcbiAgICogR2V0IHRoZSBibGVuZCBtb2RlIG9mIHRoZSBmaWx0ZXIuXG4gICAqIEBkZWZhdWx0IFwibm9ybWFsXCJcbiAgICovXG4gIGdldCBibGVuZE1vZGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3N0YXRlLmJsZW5kTW9kZTtcbiAgfVxuICAvKiogU2V0cyB0aGUgYmxlbmQgbW9kZSBvZiB0aGUgZmlsdGVyLiAqL1xuICBzZXQgYmxlbmRNb2RlKHZhbHVlKSB7XG4gICAgdGhpcy5fc3RhdGUuYmxlbmRNb2RlID0gdmFsdWU7XG4gIH1cbiAgLyoqXG4gICAqIEEgc2hvcnQgaGFuZCBmdW5jdGlvbiB0byBjcmVhdGUgYSBmaWx0ZXIgYmFzZWQgb2YgYSB2ZXJ0ZXggYW5kIGZyYWdtZW50IHNoYWRlciBzcmMuXG4gICAqIEBwYXJhbSBvcHRpb25zXG4gICAqIEByZXR1cm5zIEEgc2hpbnkgbmV3IFBpeGlKUyBmaWx0ZXIhXG4gICAqL1xuICBzdGF0aWMgZnJvbShvcHRpb25zKSB7XG4gICAgY29uc3QgeyBncHUsIGdsLCAuLi5yZXN0IH0gPSBvcHRpb25zO1xuICAgIGxldCBncHVQcm9ncmFtO1xuICAgIGxldCBnbFByb2dyYW07XG4gICAgaWYgKGdwdSkge1xuICAgICAgZ3B1UHJvZ3JhbSA9IEdwdVByb2dyYW0uZnJvbShncHUpO1xuICAgIH1cbiAgICBpZiAoZ2wpIHtcbiAgICAgIGdsUHJvZ3JhbSA9IEdsUHJvZ3JhbS5mcm9tKGdsKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBfRmlsdGVyKHtcbiAgICAgIGdwdVByb2dyYW0sXG4gICAgICBnbFByb2dyYW0sXG4gICAgICAuLi5yZXN0XG4gICAgfSk7XG4gIH1cbn07XG4vKipcbiAqIFRoZSBkZWZhdWx0IGZpbHRlciBzZXR0aW5nc1xuICogQHN0YXRpY1xuICovXG5fRmlsdGVyLmRlZmF1bHRPcHRpb25zID0ge1xuICBibGVuZE1vZGU6IFwibm9ybWFsXCIsXG4gIHJlc29sdXRpb246IDEsXG4gIHBhZGRpbmc6IDAsXG4gIGFudGlhbGlhczogXCJvZmZcIixcbiAgYmxlbmRSZXF1aXJlZDogZmFsc2UsXG4gIGNsaXBUb1ZpZXdwb3J0OiB0cnVlXG59O1xubGV0IEZpbHRlciA9IF9GaWx0ZXI7XG5cbmV4cG9ydCB7IEZpbHRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RmlsdGVyLm1qcy5tYXBcbiIsInZhciBmcmFnbWVudCA9IFwiaW4gdmVjMiB2TWFza0Nvb3JkO1xcbmluIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1VGV4dHVyZTtcXG51bmlmb3JtIHNhbXBsZXIyRCB1TWFza1RleHR1cmU7XFxuXFxudW5pZm9ybSBmbG9hdCB1QWxwaGE7XFxudW5pZm9ybSB2ZWM0IHVNYXNrQ2xhbXA7XFxudW5pZm9ybSBmbG9hdCB1SW52ZXJzZTtcXG5cXG5vdXQgdmVjNCBmaW5hbENvbG9yO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZmxvYXQgY2xpcCA9IHN0ZXAoMy41LFxcbiAgICAgICAgc3RlcCh1TWFza0NsYW1wLngsIHZNYXNrQ29vcmQueCkgK1xcbiAgICAgICAgc3RlcCh1TWFza0NsYW1wLnksIHZNYXNrQ29vcmQueSkgK1xcbiAgICAgICAgc3RlcCh2TWFza0Nvb3JkLngsIHVNYXNrQ2xhbXAueikgK1xcbiAgICAgICAgc3RlcCh2TWFza0Nvb3JkLnksIHVNYXNrQ2xhbXAudykpO1xcblxcbiAgICAvLyBUT0RPIGxvb2sgaW50byB3aHkgdGhpcyBpcyBuZWVkZWRcXG4gICAgZmxvYXQgbnBtQWxwaGEgPSB1QWxwaGE7XFxuICAgIHZlYzQgb3JpZ2luYWwgPSB0ZXh0dXJlKHVUZXh0dXJlLCB2VGV4dHVyZUNvb3JkKTtcXG4gICAgdmVjNCBtYXNreSA9IHRleHR1cmUodU1hc2tUZXh0dXJlLCB2TWFza0Nvb3JkKTtcXG4gICAgZmxvYXQgYWxwaGFNdWwgPSAxLjAgLSBucG1BbHBoYSAqICgxLjAgLSBtYXNreS5hKTtcXG5cXG4gICAgZmxvYXQgYSA9IGFscGhhTXVsICogbWFza3kuciAqIG5wbUFscGhhICogY2xpcDtcXG5cXG4gICAgaWYgKHVJbnZlcnNlID09IDEuMCkge1xcbiAgICAgICAgYSA9IDEuMCAtIGE7XFxuICAgIH1cXG5cXG4gICAgZmluYWxDb2xvciA9IG9yaWdpbmFsICogYTtcXG59XFxuXCI7XG5cbmV4cG9ydCB7IGZyYWdtZW50IGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hc2suZnJhZy5tanMubWFwXG4iLCJ2YXIgc291cmNlID0gXCJzdHJ1Y3QgR2xvYmFsRmlsdGVyVW5pZm9ybXMge1xcbiAgdUlucHV0U2l6ZTp2ZWM0PGYzMj4sXFxuICB1SW5wdXRQaXhlbDp2ZWM0PGYzMj4sXFxuICB1SW5wdXRDbGFtcDp2ZWM0PGYzMj4sXFxuICB1T3V0cHV0RnJhbWU6dmVjNDxmMzI+LFxcbiAgdUdsb2JhbEZyYW1lOnZlYzQ8ZjMyPixcXG4gIHVPdXRwdXRUZXh0dXJlOnZlYzQ8ZjMyPixcXG59O1xcblxcbnN0cnVjdCBNYXNrVW5pZm9ybXMge1xcbiAgdUZpbHRlck1hdHJpeDptYXQzeDM8ZjMyPixcXG4gIHVNYXNrQ2xhbXA6dmVjNDxmMzI+LFxcbiAgdUFscGhhOmYzMixcXG4gIHVJbnZlcnNlOmYzMixcXG59O1xcblxcbkBncm91cCgwKSBAYmluZGluZygwKSB2YXI8dW5pZm9ybT4gZ2Z1OiBHbG9iYWxGaWx0ZXJVbmlmb3JtcztcXG5AZ3JvdXAoMCkgQGJpbmRpbmcoMSkgdmFyIHVUZXh0dXJlOiB0ZXh0dXJlXzJkPGYzMj47XFxuQGdyb3VwKDApIEBiaW5kaW5nKDIpIHZhciB1U2FtcGxlciA6IHNhbXBsZXI7XFxuXFxuQGdyb3VwKDEpIEBiaW5kaW5nKDApIHZhcjx1bmlmb3JtPiBmaWx0ZXJVbmlmb3JtcyA6IE1hc2tVbmlmb3JtcztcXG5AZ3JvdXAoMSkgQGJpbmRpbmcoMSkgdmFyIHVNYXNrVGV4dHVyZTogdGV4dHVyZV8yZDxmMzI+O1xcblxcbnN0cnVjdCBWU091dHB1dCB7XFxuICAgIEBidWlsdGluKHBvc2l0aW9uKSBwb3NpdGlvbjogdmVjNDxmMzI+LFxcbiAgICBAbG9jYXRpb24oMCkgdXYgOiB2ZWMyPGYzMj4sXFxuICAgIEBsb2NhdGlvbigxKSBmaWx0ZXJVdiA6IHZlYzI8ZjMyPixcXG59O1xcblxcbmZuIGZpbHRlclZlcnRleFBvc2l0aW9uKGFQb3NpdGlvbjp2ZWMyPGYzMj4pIC0+IHZlYzQ8ZjMyPlxcbntcXG4gICAgdmFyIHBvc2l0aW9uID0gYVBvc2l0aW9uICogZ2Z1LnVPdXRwdXRGcmFtZS56dyArIGdmdS51T3V0cHV0RnJhbWUueHk7XFxuXFxuICAgIHBvc2l0aW9uLnggPSBwb3NpdGlvbi54ICogKDIuMCAvIGdmdS51T3V0cHV0VGV4dHVyZS54KSAtIDEuMDtcXG4gICAgcG9zaXRpb24ueSA9IHBvc2l0aW9uLnkgKiAoMi4wKmdmdS51T3V0cHV0VGV4dHVyZS56IC8gZ2Z1LnVPdXRwdXRUZXh0dXJlLnkpIC0gZ2Z1LnVPdXRwdXRUZXh0dXJlLno7XFxuXFxuICAgIHJldHVybiB2ZWM0KHBvc2l0aW9uLCAwLjAsIDEuMCk7XFxufVxcblxcbmZuIGZpbHRlclRleHR1cmVDb29yZCggYVBvc2l0aW9uOnZlYzI8ZjMyPiApIC0+IHZlYzI8ZjMyPlxcbntcXG4gICAgcmV0dXJuIGFQb3NpdGlvbiAqIChnZnUudU91dHB1dEZyYW1lLnp3ICogZ2Z1LnVJbnB1dFNpemUuencpO1xcbn1cXG5cXG5mbiBnbG9iYWxUZXh0dXJlQ29vcmQoIGFQb3NpdGlvbjp2ZWMyPGYzMj4gKSAtPiB2ZWMyPGYzMj5cXG57XFxuICByZXR1cm4gIChhUG9zaXRpb24ueHkgLyBnZnUudUdsb2JhbEZyYW1lLnp3KSArIChnZnUudUdsb2JhbEZyYW1lLnh5IC8gZ2Z1LnVHbG9iYWxGcmFtZS56dyk7XFxufVxcblxcbmZuIGdldEZpbHRlckNvb3JkKGFQb3NpdGlvbjp2ZWMyPGYzMj4gKSAtPiB2ZWMyPGYzMj5cXG57XFxuICByZXR1cm4gKCBmaWx0ZXJVbmlmb3Jtcy51RmlsdGVyTWF0cml4ICogdmVjMyggZmlsdGVyVGV4dHVyZUNvb3JkKGFQb3NpdGlvbiksIDEuMCkgICkueHk7XFxufVxcblxcbmZuIGdldFNpemUoKSAtPiB2ZWMyPGYzMj5cXG57XFxuICByZXR1cm4gZ2Z1LnVHbG9iYWxGcmFtZS56dztcXG59XFxuXFxuQHZlcnRleFxcbmZuIG1haW5WZXJ0ZXgoXFxuICBAbG9jYXRpb24oMCkgYVBvc2l0aW9uIDogdmVjMjxmMzI+LFxcbikgLT4gVlNPdXRwdXQge1xcbiAgcmV0dXJuIFZTT3V0cHV0KFxcbiAgIGZpbHRlclZlcnRleFBvc2l0aW9uKGFQb3NpdGlvbiksXFxuICAgZmlsdGVyVGV4dHVyZUNvb3JkKGFQb3NpdGlvbiksXFxuICAgZ2V0RmlsdGVyQ29vcmQoYVBvc2l0aW9uKVxcbiAgKTtcXG59XFxuXFxuQGZyYWdtZW50XFxuZm4gbWFpbkZyYWdtZW50KFxcbiAgQGxvY2F0aW9uKDApIHV2OiB2ZWMyPGYzMj4sXFxuICBAbG9jYXRpb24oMSkgZmlsdGVyVXY6IHZlYzI8ZjMyPixcXG4gIEBidWlsdGluKHBvc2l0aW9uKSBwb3NpdGlvbjogdmVjNDxmMzI+XFxuKSAtPiBAbG9jYXRpb24oMCkgdmVjNDxmMzI+IHtcXG5cXG4gICAgdmFyIG1hc2tDbGFtcCA9IGZpbHRlclVuaWZvcm1zLnVNYXNrQ2xhbXA7XFxuICAgIHZhciB1QWxwaGEgPSBmaWx0ZXJVbmlmb3Jtcy51QWxwaGE7XFxuXFxuICAgIHZhciBjbGlwID0gc3RlcCgzLjUsXFxuICAgICAgc3RlcChtYXNrQ2xhbXAueCwgZmlsdGVyVXYueCkgK1xcbiAgICAgIHN0ZXAobWFza0NsYW1wLnksIGZpbHRlclV2LnkpICtcXG4gICAgICBzdGVwKGZpbHRlclV2LngsIG1hc2tDbGFtcC56KSArXFxuICAgICAgc3RlcChmaWx0ZXJVdi55LCBtYXNrQ2xhbXAudykpO1xcblxcbiAgICB2YXIgbWFzayA9IHRleHR1cmVTYW1wbGUodU1hc2tUZXh0dXJlLCB1U2FtcGxlciwgZmlsdGVyVXYpO1xcbiAgICB2YXIgc291cmNlID0gdGV4dHVyZVNhbXBsZSh1VGV4dHVyZSwgdVNhbXBsZXIsIHV2KTtcXG4gICAgdmFyIGFscGhhTXVsID0gMS4wIC0gdUFscGhhICogKDEuMCAtIG1hc2suYSk7XFxuXFxuICAgIHZhciBhOiBmMzIgPSBhbHBoYU11bCAqIG1hc2suciAqIHVBbHBoYSAqIGNsaXA7XFxuXFxuICAgIGlmIChmaWx0ZXJVbmlmb3Jtcy51SW52ZXJzZSA9PSAxLjApIHtcXG4gICAgICAgIGEgPSAxLjAgLSBhO1xcbiAgICB9XFxuXFxuICAgIHJldHVybiBzb3VyY2UgKiBhO1xcbn1cXG5cIjtcblxuZXhwb3J0IHsgc291cmNlIGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hc2sud2dzbC5tanMubWFwXG4iLCJpbXBvcnQgeyBNYXRyaXggfSBmcm9tICcuLi8uLi9tYXRocy9tYXRyaXgvTWF0cml4Lm1qcyc7XG5pbXBvcnQgeyBHbFByb2dyYW0gfSBmcm9tICcuLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL2dsL3NoYWRlci9HbFByb2dyYW0ubWpzJztcbmltcG9ydCB7IEdwdVByb2dyYW0gfSBmcm9tICcuLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL2dwdS9zaGFkZXIvR3B1UHJvZ3JhbS5tanMnO1xuaW1wb3J0IHsgVW5pZm9ybUdyb3VwIH0gZnJvbSAnLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvc2hhZGVyL1VuaWZvcm1Hcm91cC5tanMnO1xuaW1wb3J0IHsgVGV4dHVyZU1hdHJpeCB9IGZyb20gJy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3RleHR1cmUvVGV4dHVyZU1hdHJpeC5tanMnO1xuaW1wb3J0IHsgRmlsdGVyIH0gZnJvbSAnLi4vRmlsdGVyLm1qcyc7XG5pbXBvcnQgZnJhZ21lbnQgZnJvbSAnLi9tYXNrLmZyYWcubWpzJztcbmltcG9ydCB2ZXJ0ZXggZnJvbSAnLi9tYXNrLnZlcnQubWpzJztcbmltcG9ydCBzb3VyY2UgZnJvbSAnLi9tYXNrLndnc2wubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jbGFzcyBNYXNrRmlsdGVyIGV4dGVuZHMgRmlsdGVyIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIGNvbnN0IHsgc3ByaXRlLCAuLi5yZXN0IH0gPSBvcHRpb25zO1xuICAgIGNvbnN0IHRleHR1cmVNYXRyaXggPSBuZXcgVGV4dHVyZU1hdHJpeChzcHJpdGUudGV4dHVyZSk7XG4gICAgY29uc3QgZmlsdGVyVW5pZm9ybXMgPSBuZXcgVW5pZm9ybUdyb3VwKHtcbiAgICAgIHVGaWx0ZXJNYXRyaXg6IHsgdmFsdWU6IG5ldyBNYXRyaXgoKSwgdHlwZTogXCJtYXQzeDM8ZjMyPlwiIH0sXG4gICAgICB1TWFza0NsYW1wOiB7IHZhbHVlOiB0ZXh0dXJlTWF0cml4LnVDbGFtcEZyYW1lLCB0eXBlOiBcInZlYzQ8ZjMyPlwiIH0sXG4gICAgICB1QWxwaGE6IHsgdmFsdWU6IDEsIHR5cGU6IFwiZjMyXCIgfSxcbiAgICAgIHVJbnZlcnNlOiB7IHZhbHVlOiBvcHRpb25zLmludmVyc2UgPyAxIDogMCwgdHlwZTogXCJmMzJcIiB9XG4gICAgfSk7XG4gICAgY29uc3QgZ3B1UHJvZ3JhbSA9IEdwdVByb2dyYW0uZnJvbSh7XG4gICAgICB2ZXJ0ZXg6IHtcbiAgICAgICAgc291cmNlLFxuICAgICAgICBlbnRyeVBvaW50OiBcIm1haW5WZXJ0ZXhcIlxuICAgICAgfSxcbiAgICAgIGZyYWdtZW50OiB7XG4gICAgICAgIHNvdXJjZSxcbiAgICAgICAgZW50cnlQb2ludDogXCJtYWluRnJhZ21lbnRcIlxuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IGdsUHJvZ3JhbSA9IEdsUHJvZ3JhbS5mcm9tKHtcbiAgICAgIHZlcnRleCxcbiAgICAgIGZyYWdtZW50LFxuICAgICAgbmFtZTogXCJtYXNrLWZpbHRlclwiXG4gICAgfSk7XG4gICAgc3VwZXIoe1xuICAgICAgLi4ucmVzdCxcbiAgICAgIGdwdVByb2dyYW0sXG4gICAgICBnbFByb2dyYW0sXG4gICAgICByZXNvdXJjZXM6IHtcbiAgICAgICAgZmlsdGVyVW5pZm9ybXMsXG4gICAgICAgIHVNYXNrVGV4dHVyZTogc3ByaXRlLnRleHR1cmUuc291cmNlXG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5zcHJpdGUgPSBzcHJpdGU7XG4gICAgdGhpcy5fdGV4dHVyZU1hdHJpeCA9IHRleHR1cmVNYXRyaXg7XG4gIH1cbiAgc2V0IGludmVyc2UodmFsdWUpIHtcbiAgICB0aGlzLnJlc291cmNlcy5maWx0ZXJVbmlmb3Jtcy51bmlmb3Jtcy51SW52ZXJzZSA9IHZhbHVlID8gMSA6IDA7XG4gIH1cbiAgZ2V0IGludmVyc2UoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVzb3VyY2VzLmZpbHRlclVuaWZvcm1zLnVuaWZvcm1zLnVJbnZlcnNlID09PSAxO1xuICB9XG4gIGFwcGx5KGZpbHRlck1hbmFnZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyTW9kZSkge1xuICAgIHRoaXMuX3RleHR1cmVNYXRyaXgudGV4dHVyZSA9IHRoaXMuc3ByaXRlLnRleHR1cmU7XG4gICAgZmlsdGVyTWFuYWdlci5jYWxjdWxhdGVTcHJpdGVNYXRyaXgoXG4gICAgICB0aGlzLnJlc291cmNlcy5maWx0ZXJVbmlmb3Jtcy51bmlmb3Jtcy51RmlsdGVyTWF0cml4LFxuICAgICAgdGhpcy5zcHJpdGVcbiAgICApLnByZXBlbmQodGhpcy5fdGV4dHVyZU1hdHJpeC5tYXBDb29yZCk7XG4gICAgdGhpcy5yZXNvdXJjZXMudU1hc2tUZXh0dXJlID0gdGhpcy5zcHJpdGUudGV4dHVyZS5zb3VyY2U7XG4gICAgZmlsdGVyTWFuYWdlci5hcHBseUZpbHRlcih0aGlzLCBpbnB1dCwgb3V0cHV0LCBjbGVhck1vZGUpO1xuICB9XG59XG5cbmV4cG9ydCB7IE1hc2tGaWx0ZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1hc2tGaWx0ZXIubWpzLm1hcFxuIiwidmFyIHZlcnRleCA9IFwiaW4gdmVjMiBhUG9zaXRpb247XFxuXFxub3V0IHZlYzIgdlRleHR1cmVDb29yZDtcXG5vdXQgdmVjMiB2TWFza0Nvb3JkO1xcblxcblxcbnVuaWZvcm0gdmVjNCB1SW5wdXRTaXplO1xcbnVuaWZvcm0gdmVjNCB1T3V0cHV0RnJhbWU7XFxudW5pZm9ybSB2ZWM0IHVPdXRwdXRUZXh0dXJlO1xcbnVuaWZvcm0gbWF0MyB1RmlsdGVyTWF0cml4O1xcblxcbnZlYzQgZmlsdGVyVmVydGV4UG9zaXRpb24oICB2ZWMyIGFQb3NpdGlvbiApXFxue1xcbiAgICB2ZWMyIHBvc2l0aW9uID0gYVBvc2l0aW9uICogdU91dHB1dEZyYW1lLnp3ICsgdU91dHB1dEZyYW1lLnh5O1xcbiAgICAgICBcXG4gICAgcG9zaXRpb24ueCA9IHBvc2l0aW9uLnggKiAoMi4wIC8gdU91dHB1dFRleHR1cmUueCkgLSAxLjA7XFxuICAgIHBvc2l0aW9uLnkgPSBwb3NpdGlvbi55ICogKDIuMCp1T3V0cHV0VGV4dHVyZS56IC8gdU91dHB1dFRleHR1cmUueSkgLSB1T3V0cHV0VGV4dHVyZS56O1xcblxcbiAgICByZXR1cm4gdmVjNChwb3NpdGlvbiwgMC4wLCAxLjApO1xcbn1cXG5cXG52ZWMyIGZpbHRlclRleHR1cmVDb29yZCggIHZlYzIgYVBvc2l0aW9uIClcXG57XFxuICAgIHJldHVybiBhUG9zaXRpb24gKiAodU91dHB1dEZyYW1lLnp3ICogdUlucHV0U2l6ZS56dyk7XFxufVxcblxcbnZlYzIgZ2V0RmlsdGVyQ29vcmQoIHZlYzIgYVBvc2l0aW9uIClcXG57XFxuICAgIHJldHVybiAgKCB1RmlsdGVyTWF0cml4ICogdmVjMyggZmlsdGVyVGV4dHVyZUNvb3JkKGFQb3NpdGlvbiksIDEuMCkgICkueHk7XFxufSAgIFxcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfUG9zaXRpb24gPSBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbihhUG9zaXRpb24pO1xcbiAgICB2VGV4dHVyZUNvb3JkID0gZmlsdGVyVGV4dHVyZUNvb3JkKGFQb3NpdGlvbik7XFxuICAgIHZNYXNrQ29vcmQgPSBnZXRGaWx0ZXJDb29yZChhUG9zaXRpb24pO1xcbn1cXG5cIjtcblxuZXhwb3J0IHsgdmVydGV4IGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hc2sudmVydC5tanMubWFwXG4iLCJpbXBvcnQgeyBFeHRlbnNpb25UeXBlIH0gZnJvbSAnLi4vLi4vLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBGaWx0ZXJFZmZlY3QgfSBmcm9tICcuLi8uLi8uLi9maWx0ZXJzL0ZpbHRlckVmZmVjdC5tanMnO1xuaW1wb3J0IHsgTWFza0ZpbHRlciB9IGZyb20gJy4uLy4uLy4uL2ZpbHRlcnMvbWFzay9NYXNrRmlsdGVyLm1qcyc7XG5pbXBvcnQgeyBCb3VuZHMgfSBmcm9tICcuLi8uLi8uLi9zY2VuZS9jb250YWluZXIvYm91bmRzL0JvdW5kcy5tanMnO1xuaW1wb3J0IHsgZ2V0R2xvYmFsQm91bmRzIH0gZnJvbSAnLi4vLi4vLi4vc2NlbmUvY29udGFpbmVyL2JvdW5kcy9nZXRHbG9iYWxCb3VuZHMubWpzJztcbmltcG9ydCB7IGNvbGxlY3RBbGxSZW5kZXJhYmxlcyB9IGZyb20gJy4uLy4uLy4uL3NjZW5lL2NvbnRhaW5lci91dGlscy9idWlsZEluc3RydWN0aW9ucy5tanMnO1xuaW1wb3J0IHsgU3ByaXRlIH0gZnJvbSAnLi4vLi4vLi4vc2NlbmUvc3ByaXRlL1Nwcml0ZS5tanMnO1xuaW1wb3J0IHsgQmlnUG9vbCB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL3Bvb2wvUG9vbEdyb3VwLm1qcyc7XG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnLi4vLi4vcmVuZGVyZXJzL3NoYXJlZC90ZXh0dXJlL1RleHR1cmUubWpzJztcbmltcG9ydCB7IFRleHR1cmVQb29sIH0gZnJvbSAnLi4vLi4vcmVuZGVyZXJzL3NoYXJlZC90ZXh0dXJlL1RleHR1cmVQb29sLm1qcyc7XG5pbXBvcnQgeyBSZW5kZXJlclR5cGUgfSBmcm9tICcuLi8uLi9yZW5kZXJlcnMvdHlwZXMubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCB0ZW1wQm91bmRzID0gbmV3IEJvdW5kcygpO1xuY2xhc3MgQWxwaGFNYXNrRWZmZWN0IGV4dGVuZHMgRmlsdGVyRWZmZWN0IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmZpbHRlcnMgPSBbbmV3IE1hc2tGaWx0ZXIoe1xuICAgICAgc3ByaXRlOiBuZXcgU3ByaXRlKFRleHR1cmUuRU1QVFkpLFxuICAgICAgaW52ZXJzZTogZmFsc2UsXG4gICAgICByZXNvbHV0aW9uOiBcImluaGVyaXRcIixcbiAgICAgIGFudGlhbGlhczogXCJpbmhlcml0XCJcbiAgICB9KV07XG4gIH1cbiAgZ2V0IHNwcml0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5maWx0ZXJzWzBdLnNwcml0ZTtcbiAgfVxuICBzZXQgc3ByaXRlKHZhbHVlKSB7XG4gICAgdGhpcy5maWx0ZXJzWzBdLnNwcml0ZSA9IHZhbHVlO1xuICB9XG4gIGdldCBpbnZlcnNlKCkge1xuICAgIHJldHVybiB0aGlzLmZpbHRlcnNbMF0uaW52ZXJzZTtcbiAgfVxuICBzZXQgaW52ZXJzZSh2YWx1ZSkge1xuICAgIHRoaXMuZmlsdGVyc1swXS5pbnZlcnNlID0gdmFsdWU7XG4gIH1cbn1cbmNsYXNzIEFscGhhTWFza1BpcGUge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgIHRoaXMuX2FjdGl2ZU1hc2tTdGFnZSA9IFtdO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gIH1cbiAgcHVzaChtYXNrLCBtYXNrZWRDb250YWluZXIsIGluc3RydWN0aW9uU2V0KSB7XG4gICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLl9yZW5kZXJlcjtcbiAgICByZW5kZXJlci5yZW5kZXJQaXBlcy5iYXRjaC5icmVhayhpbnN0cnVjdGlvblNldCk7XG4gICAgaW5zdHJ1Y3Rpb25TZXQuYWRkKHtcbiAgICAgIHJlbmRlclBpcGVJZDogXCJhbHBoYU1hc2tcIixcbiAgICAgIGFjdGlvbjogXCJwdXNoTWFza0JlZ2luXCIsXG4gICAgICBtYXNrLFxuICAgICAgaW52ZXJzZTogbWFza2VkQ29udGFpbmVyLl9tYXNrT3B0aW9ucy5pbnZlcnNlLFxuICAgICAgY2FuQnVuZGxlOiBmYWxzZSxcbiAgICAgIG1hc2tlZENvbnRhaW5lclxuICAgIH0pO1xuICAgIG1hc2suaW52ZXJzZSA9IG1hc2tlZENvbnRhaW5lci5fbWFza09wdGlvbnMuaW52ZXJzZTtcbiAgICBpZiAobWFzay5yZW5kZXJNYXNrVG9UZXh0dXJlKSB7XG4gICAgICBjb25zdCBtYXNrQ29udGFpbmVyID0gbWFzay5tYXNrO1xuICAgICAgbWFza0NvbnRhaW5lci5pbmNsdWRlSW5CdWlsZCA9IHRydWU7XG4gICAgICBjb2xsZWN0QWxsUmVuZGVyYWJsZXMoXG4gICAgICAgIG1hc2tDb250YWluZXIsXG4gICAgICAgIGluc3RydWN0aW9uU2V0LFxuICAgICAgICByZW5kZXJlclxuICAgICAgKTtcbiAgICAgIG1hc2tDb250YWluZXIuaW5jbHVkZUluQnVpbGQgPSBmYWxzZTtcbiAgICB9XG4gICAgcmVuZGVyZXIucmVuZGVyUGlwZXMuYmF0Y2guYnJlYWsoaW5zdHJ1Y3Rpb25TZXQpO1xuICAgIGluc3RydWN0aW9uU2V0LmFkZCh7XG4gICAgICByZW5kZXJQaXBlSWQ6IFwiYWxwaGFNYXNrXCIsXG4gICAgICBhY3Rpb246IFwicHVzaE1hc2tFbmRcIixcbiAgICAgIG1hc2ssXG4gICAgICBtYXNrZWRDb250YWluZXIsXG4gICAgICBpbnZlcnNlOiBtYXNrZWRDb250YWluZXIuX21hc2tPcHRpb25zLmludmVyc2UsXG4gICAgICBjYW5CdW5kbGU6IGZhbHNlXG4gICAgfSk7XG4gIH1cbiAgcG9wKG1hc2ssIF9tYXNrZWRDb250YWluZXIsIGluc3RydWN0aW9uU2V0KSB7XG4gICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLl9yZW5kZXJlcjtcbiAgICByZW5kZXJlci5yZW5kZXJQaXBlcy5iYXRjaC5icmVhayhpbnN0cnVjdGlvblNldCk7XG4gICAgaW5zdHJ1Y3Rpb25TZXQuYWRkKHtcbiAgICAgIHJlbmRlclBpcGVJZDogXCJhbHBoYU1hc2tcIixcbiAgICAgIGFjdGlvbjogXCJwb3BNYXNrRW5kXCIsXG4gICAgICBtYXNrLFxuICAgICAgaW52ZXJzZTogX21hc2tlZENvbnRhaW5lci5fbWFza09wdGlvbnMuaW52ZXJzZSxcbiAgICAgIGNhbkJ1bmRsZTogZmFsc2VcbiAgICB9KTtcbiAgfVxuICBleGVjdXRlKGluc3RydWN0aW9uKSB7XG4gICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLl9yZW5kZXJlcjtcbiAgICBjb25zdCByZW5kZXJNYXNrID0gaW5zdHJ1Y3Rpb24ubWFzay5yZW5kZXJNYXNrVG9UZXh0dXJlO1xuICAgIGlmIChpbnN0cnVjdGlvbi5hY3Rpb24gPT09IFwicHVzaE1hc2tCZWdpblwiKSB7XG4gICAgICBjb25zdCBmaWx0ZXJFZmZlY3QgPSBCaWdQb29sLmdldChBbHBoYU1hc2tFZmZlY3QpO1xuICAgICAgZmlsdGVyRWZmZWN0LmludmVyc2UgPSBpbnN0cnVjdGlvbi5pbnZlcnNlO1xuICAgICAgaWYgKHJlbmRlck1hc2spIHtcbiAgICAgICAgaW5zdHJ1Y3Rpb24ubWFzay5tYXNrLm1lYXN1cmFibGUgPSB0cnVlO1xuICAgICAgICBjb25zdCBib3VuZHMgPSBnZXRHbG9iYWxCb3VuZHMoaW5zdHJ1Y3Rpb24ubWFzay5tYXNrLCB0cnVlLCB0ZW1wQm91bmRzKTtcbiAgICAgICAgaW5zdHJ1Y3Rpb24ubWFzay5tYXNrLm1lYXN1cmFibGUgPSBmYWxzZTtcbiAgICAgICAgYm91bmRzLmNlaWwoKTtcbiAgICAgICAgY29uc3QgY29sb3JUZXh0dXJlU291cmNlID0gcmVuZGVyZXIucmVuZGVyVGFyZ2V0LnJlbmRlclRhcmdldC5jb2xvclRleHR1cmUuc291cmNlO1xuICAgICAgICBjb25zdCBmaWx0ZXJUZXh0dXJlID0gVGV4dHVyZVBvb2wuZ2V0T3B0aW1hbFRleHR1cmUoXG4gICAgICAgICAgYm91bmRzLndpZHRoLFxuICAgICAgICAgIGJvdW5kcy5oZWlnaHQsXG4gICAgICAgICAgY29sb3JUZXh0dXJlU291cmNlLl9yZXNvbHV0aW9uLFxuICAgICAgICAgIGNvbG9yVGV4dHVyZVNvdXJjZS5hbnRpYWxpYXNcbiAgICAgICAgKTtcbiAgICAgICAgcmVuZGVyZXIucmVuZGVyVGFyZ2V0LnB1c2goZmlsdGVyVGV4dHVyZSwgdHJ1ZSk7XG4gICAgICAgIHJlbmRlcmVyLmdsb2JhbFVuaWZvcm1zLnB1c2goe1xuICAgICAgICAgIG9mZnNldDogYm91bmRzLFxuICAgICAgICAgIHdvcmxkQ29sb3I6IDQyOTQ5NjcyOTVcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHNwcml0ZSA9IGZpbHRlckVmZmVjdC5zcHJpdGU7XG4gICAgICAgIHNwcml0ZS50ZXh0dXJlID0gZmlsdGVyVGV4dHVyZTtcbiAgICAgICAgc3ByaXRlLndvcmxkVHJhbnNmb3JtLnR4ID0gYm91bmRzLm1pblg7XG4gICAgICAgIHNwcml0ZS53b3JsZFRyYW5zZm9ybS50eSA9IGJvdW5kcy5taW5ZO1xuICAgICAgICB0aGlzLl9hY3RpdmVNYXNrU3RhZ2UucHVzaCh7XG4gICAgICAgICAgZmlsdGVyRWZmZWN0LFxuICAgICAgICAgIG1hc2tlZENvbnRhaW5lcjogaW5zdHJ1Y3Rpb24ubWFza2VkQ29udGFpbmVyLFxuICAgICAgICAgIGZpbHRlclRleHR1cmVcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmaWx0ZXJFZmZlY3Quc3ByaXRlID0gaW5zdHJ1Y3Rpb24ubWFzay5tYXNrO1xuICAgICAgICB0aGlzLl9hY3RpdmVNYXNrU3RhZ2UucHVzaCh7XG4gICAgICAgICAgZmlsdGVyRWZmZWN0LFxuICAgICAgICAgIG1hc2tlZENvbnRhaW5lcjogaW5zdHJ1Y3Rpb24ubWFza2VkQ29udGFpbmVyXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaW5zdHJ1Y3Rpb24uYWN0aW9uID09PSBcInB1c2hNYXNrRW5kXCIpIHtcbiAgICAgIGNvbnN0IG1hc2tEYXRhID0gdGhpcy5fYWN0aXZlTWFza1N0YWdlW3RoaXMuX2FjdGl2ZU1hc2tTdGFnZS5sZW5ndGggLSAxXTtcbiAgICAgIGlmIChyZW5kZXJNYXNrKSB7XG4gICAgICAgIGlmIChyZW5kZXJlci50eXBlID09PSBSZW5kZXJlclR5cGUuV0VCR0wpIHtcbiAgICAgICAgICByZW5kZXJlci5yZW5kZXJUYXJnZXQuZmluaXNoUmVuZGVyUGFzcygpO1xuICAgICAgICB9XG4gICAgICAgIHJlbmRlcmVyLnJlbmRlclRhcmdldC5wb3AoKTtcbiAgICAgICAgcmVuZGVyZXIuZ2xvYmFsVW5pZm9ybXMucG9wKCk7XG4gICAgICB9XG4gICAgICByZW5kZXJlci5maWx0ZXIucHVzaCh7XG4gICAgICAgIHJlbmRlclBpcGVJZDogXCJmaWx0ZXJcIixcbiAgICAgICAgYWN0aW9uOiBcInB1c2hGaWx0ZXJcIixcbiAgICAgICAgY29udGFpbmVyOiBtYXNrRGF0YS5tYXNrZWRDb250YWluZXIsXG4gICAgICAgIGZpbHRlckVmZmVjdDogbWFza0RhdGEuZmlsdGVyRWZmZWN0LFxuICAgICAgICBjYW5CdW5kbGU6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKGluc3RydWN0aW9uLmFjdGlvbiA9PT0gXCJwb3BNYXNrRW5kXCIpIHtcbiAgICAgIHJlbmRlcmVyLmZpbHRlci5wb3AoKTtcbiAgICAgIGNvbnN0IG1hc2tEYXRhID0gdGhpcy5fYWN0aXZlTWFza1N0YWdlLnBvcCgpO1xuICAgICAgaWYgKHJlbmRlck1hc2spIHtcbiAgICAgICAgVGV4dHVyZVBvb2wucmV0dXJuVGV4dHVyZShtYXNrRGF0YS5maWx0ZXJUZXh0dXJlKTtcbiAgICAgIH1cbiAgICAgIEJpZ1Bvb2wucmV0dXJuKG1hc2tEYXRhLmZpbHRlckVmZmVjdCk7XG4gICAgfVxuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSBudWxsO1xuICAgIHRoaXMuX2FjdGl2ZU1hc2tTdGFnZSA9IG51bGw7XG4gIH1cbn1cbi8qKiBAaWdub3JlICovXG5BbHBoYU1hc2tQaXBlLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogW1xuICAgIEV4dGVuc2lvblR5cGUuV2ViR0xQaXBlcyxcbiAgICBFeHRlbnNpb25UeXBlLldlYkdQVVBpcGVzLFxuICAgIEV4dGVuc2lvblR5cGUuQ2FudmFzUGlwZXNcbiAgXSxcbiAgbmFtZTogXCJhbHBoYU1hc2tcIlxufTtcblxuZXhwb3J0IHsgQWxwaGFNYXNrUGlwZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QWxwaGFNYXNrUGlwZS5tanMubWFwXG4iLCJpbXBvcnQgeyBFeHRlbnNpb25UeXBlIH0gZnJvbSAnLi4vLi4vLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgQ29sb3JNYXNrUGlwZSB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgdGhpcy5fY29sb3JTdGFjayA9IFtdO1xuICAgIHRoaXMuX2NvbG9yU3RhY2tJbmRleCA9IDA7XG4gICAgdGhpcy5fY3VycmVudENvbG9yID0gMDtcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICB9XG4gIGJ1aWxkU3RhcnQoKSB7XG4gICAgdGhpcy5fY29sb3JTdGFja1swXSA9IDE1O1xuICAgIHRoaXMuX2NvbG9yU3RhY2tJbmRleCA9IDE7XG4gICAgdGhpcy5fY3VycmVudENvbG9yID0gMTU7XG4gIH1cbiAgcHVzaChtYXNrLCBfY29udGFpbmVyLCBpbnN0cnVjdGlvblNldCkge1xuICAgIGNvbnN0IHJlbmRlcmVyID0gdGhpcy5fcmVuZGVyZXI7XG4gICAgcmVuZGVyZXIucmVuZGVyUGlwZXMuYmF0Y2guYnJlYWsoaW5zdHJ1Y3Rpb25TZXQpO1xuICAgIGNvbnN0IGNvbG9yU3RhY2sgPSB0aGlzLl9jb2xvclN0YWNrO1xuICAgIGNvbG9yU3RhY2tbdGhpcy5fY29sb3JTdGFja0luZGV4XSA9IGNvbG9yU3RhY2tbdGhpcy5fY29sb3JTdGFja0luZGV4IC0gMV0gJiBtYXNrLm1hc2s7XG4gICAgY29uc3QgY3VycmVudENvbG9yID0gdGhpcy5fY29sb3JTdGFja1t0aGlzLl9jb2xvclN0YWNrSW5kZXhdO1xuICAgIGlmIChjdXJyZW50Q29sb3IgIT09IHRoaXMuX2N1cnJlbnRDb2xvcikge1xuICAgICAgdGhpcy5fY3VycmVudENvbG9yID0gY3VycmVudENvbG9yO1xuICAgICAgaW5zdHJ1Y3Rpb25TZXQuYWRkKHtcbiAgICAgICAgcmVuZGVyUGlwZUlkOiBcImNvbG9yTWFza1wiLFxuICAgICAgICBjb2xvck1hc2s6IGN1cnJlbnRDb2xvcixcbiAgICAgICAgY2FuQnVuZGxlOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfVxuICAgIHRoaXMuX2NvbG9yU3RhY2tJbmRleCsrO1xuICB9XG4gIHBvcChfbWFzaywgX2NvbnRhaW5lciwgaW5zdHJ1Y3Rpb25TZXQpIHtcbiAgICBjb25zdCByZW5kZXJlciA9IHRoaXMuX3JlbmRlcmVyO1xuICAgIHJlbmRlcmVyLnJlbmRlclBpcGVzLmJhdGNoLmJyZWFrKGluc3RydWN0aW9uU2V0KTtcbiAgICBjb25zdCBjb2xvclN0YWNrID0gdGhpcy5fY29sb3JTdGFjaztcbiAgICB0aGlzLl9jb2xvclN0YWNrSW5kZXgtLTtcbiAgICBjb25zdCBjdXJyZW50Q29sb3IgPSBjb2xvclN0YWNrW3RoaXMuX2NvbG9yU3RhY2tJbmRleCAtIDFdO1xuICAgIGlmIChjdXJyZW50Q29sb3IgIT09IHRoaXMuX2N1cnJlbnRDb2xvcikge1xuICAgICAgdGhpcy5fY3VycmVudENvbG9yID0gY3VycmVudENvbG9yO1xuICAgICAgaW5zdHJ1Y3Rpb25TZXQuYWRkKHtcbiAgICAgICAgcmVuZGVyUGlwZUlkOiBcImNvbG9yTWFza1wiLFxuICAgICAgICBjb2xvck1hc2s6IGN1cnJlbnRDb2xvcixcbiAgICAgICAgY2FuQnVuZGxlOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIGV4ZWN1dGUoaW5zdHJ1Y3Rpb24pIHtcbiAgICBjb25zdCByZW5kZXJlciA9IHRoaXMuX3JlbmRlcmVyO1xuICAgIHJlbmRlcmVyLmNvbG9yTWFzay5zZXRNYXNrKGluc3RydWN0aW9uLmNvbG9yTWFzayk7XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLl9jb2xvclN0YWNrID0gbnVsbDtcbiAgfVxufVxuLyoqIEBpZ25vcmUgKi9cbkNvbG9yTWFza1BpcGUuZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHTFBpcGVzLFxuICAgIEV4dGVuc2lvblR5cGUuV2ViR1BVUGlwZXMsXG4gICAgRXh0ZW5zaW9uVHlwZS5DYW52YXNQaXBlc1xuICBdLFxuICBuYW1lOiBcImNvbG9yTWFza1wiXG59O1xuXG5leHBvcnQgeyBDb2xvck1hc2tQaXBlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Db2xvck1hc2tQaXBlLm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi8uLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IGNvbGxlY3RBbGxSZW5kZXJhYmxlcyB9IGZyb20gJy4uLy4uLy4uL3NjZW5lL2NvbnRhaW5lci91dGlscy9idWlsZEluc3RydWN0aW9ucy5tanMnO1xuaW1wb3J0IHsgQ0xFQVIgfSBmcm9tICcuLi8uLi9yZW5kZXJlcnMvZ2wvY29uc3QubWpzJztcbmltcG9ydCB7IFNURU5DSUxfTU9ERVMgfSBmcm9tICcuLi8uLi9yZW5kZXJlcnMvc2hhcmVkL3N0YXRlL2NvbnN0Lm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgU3RlbmNpbE1hc2tQaXBlIHtcbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICAvLyB1c2VkIHdoZW4gYnVpbGRpbmcgYW5kIGFsc28gd2hlbiBleGVjdXRpbmcuLlxuICAgIHRoaXMuX21hc2tTdGFja0hhc2ggPSB7fTtcbiAgICB0aGlzLl9tYXNrSGFzaCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gIH1cbiAgcHVzaChtYXNrLCBfY29udGFpbmVyLCBpbnN0cnVjdGlvblNldCkge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCBlZmZlY3QgPSBtYXNrO1xuICAgIGNvbnN0IHJlbmRlcmVyID0gdGhpcy5fcmVuZGVyZXI7XG4gICAgcmVuZGVyZXIucmVuZGVyUGlwZXMuYmF0Y2guYnJlYWsoaW5zdHJ1Y3Rpb25TZXQpO1xuICAgIHJlbmRlcmVyLnJlbmRlclBpcGVzLmJsZW5kTW9kZS5zZXRCbGVuZE1vZGUoZWZmZWN0Lm1hc2ssIFwibm9uZVwiLCBpbnN0cnVjdGlvblNldCk7XG4gICAgaW5zdHJ1Y3Rpb25TZXQuYWRkKHtcbiAgICAgIHJlbmRlclBpcGVJZDogXCJzdGVuY2lsTWFza1wiLFxuICAgICAgYWN0aW9uOiBcInB1c2hNYXNrQmVnaW5cIixcbiAgICAgIG1hc2ssXG4gICAgICBpbnZlcnNlOiBfY29udGFpbmVyLl9tYXNrT3B0aW9ucy5pbnZlcnNlLFxuICAgICAgY2FuQnVuZGxlOiBmYWxzZVxuICAgIH0pO1xuICAgIGNvbnN0IG1hc2tDb250YWluZXIgPSBlZmZlY3QubWFzaztcbiAgICBtYXNrQ29udGFpbmVyLmluY2x1ZGVJbkJ1aWxkID0gdHJ1ZTtcbiAgICBpZiAoIXRoaXMuX21hc2tIYXNoLmhhcyhlZmZlY3QpKSB7XG4gICAgICB0aGlzLl9tYXNrSGFzaC5zZXQoZWZmZWN0LCB7XG4gICAgICAgIGluc3RydWN0aW9uc1N0YXJ0OiAwLFxuICAgICAgICBpbnN0cnVjdGlvbnNMZW5ndGg6IDBcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCBtYXNrRGF0YSA9IHRoaXMuX21hc2tIYXNoLmdldChlZmZlY3QpO1xuICAgIG1hc2tEYXRhLmluc3RydWN0aW9uc1N0YXJ0ID0gaW5zdHJ1Y3Rpb25TZXQuaW5zdHJ1Y3Rpb25TaXplO1xuICAgIGNvbGxlY3RBbGxSZW5kZXJhYmxlcyhcbiAgICAgIG1hc2tDb250YWluZXIsXG4gICAgICBpbnN0cnVjdGlvblNldCxcbiAgICAgIHJlbmRlcmVyXG4gICAgKTtcbiAgICBtYXNrQ29udGFpbmVyLmluY2x1ZGVJbkJ1aWxkID0gZmFsc2U7XG4gICAgcmVuZGVyZXIucmVuZGVyUGlwZXMuYmF0Y2guYnJlYWsoaW5zdHJ1Y3Rpb25TZXQpO1xuICAgIGluc3RydWN0aW9uU2V0LmFkZCh7XG4gICAgICByZW5kZXJQaXBlSWQ6IFwic3RlbmNpbE1hc2tcIixcbiAgICAgIGFjdGlvbjogXCJwdXNoTWFza0VuZFwiLFxuICAgICAgbWFzayxcbiAgICAgIGludmVyc2U6IF9jb250YWluZXIuX21hc2tPcHRpb25zLmludmVyc2UsXG4gICAgICBjYW5CdW5kbGU6IGZhbHNlXG4gICAgfSk7XG4gICAgY29uc3QgaW5zdHJ1Y3Rpb25zTGVuZ3RoID0gaW5zdHJ1Y3Rpb25TZXQuaW5zdHJ1Y3Rpb25TaXplIC0gbWFza0RhdGEuaW5zdHJ1Y3Rpb25zU3RhcnQgLSAxO1xuICAgIG1hc2tEYXRhLmluc3RydWN0aW9uc0xlbmd0aCA9IGluc3RydWN0aW9uc0xlbmd0aDtcbiAgICBjb25zdCByZW5kZXJUYXJnZXRVaWQgPSByZW5kZXJlci5yZW5kZXJUYXJnZXQucmVuZGVyVGFyZ2V0LnVpZDtcbiAgICAoX2EgPSB0aGlzLl9tYXNrU3RhY2tIYXNoKVtyZW5kZXJUYXJnZXRVaWRdID8/IChfYVtyZW5kZXJUYXJnZXRVaWRdID0gMCk7XG4gIH1cbiAgcG9wKG1hc2ssIF9jb250YWluZXIsIGluc3RydWN0aW9uU2V0KSB7XG4gICAgY29uc3QgZWZmZWN0ID0gbWFzaztcbiAgICBjb25zdCByZW5kZXJlciA9IHRoaXMuX3JlbmRlcmVyO1xuICAgIHJlbmRlcmVyLnJlbmRlclBpcGVzLmJhdGNoLmJyZWFrKGluc3RydWN0aW9uU2V0KTtcbiAgICByZW5kZXJlci5yZW5kZXJQaXBlcy5ibGVuZE1vZGUuc2V0QmxlbmRNb2RlKGVmZmVjdC5tYXNrLCBcIm5vbmVcIiwgaW5zdHJ1Y3Rpb25TZXQpO1xuICAgIGluc3RydWN0aW9uU2V0LmFkZCh7XG4gICAgICByZW5kZXJQaXBlSWQ6IFwic3RlbmNpbE1hc2tcIixcbiAgICAgIGFjdGlvbjogXCJwb3BNYXNrQmVnaW5cIixcbiAgICAgIGludmVyc2U6IF9jb250YWluZXIuX21hc2tPcHRpb25zLmludmVyc2UsXG4gICAgICBjYW5CdW5kbGU6IGZhbHNlXG4gICAgfSk7XG4gICAgY29uc3QgbWFza0RhdGEgPSB0aGlzLl9tYXNrSGFzaC5nZXQobWFzayk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXNrRGF0YS5pbnN0cnVjdGlvbnNMZW5ndGg7IGkrKykge1xuICAgICAgaW5zdHJ1Y3Rpb25TZXQuaW5zdHJ1Y3Rpb25zW2luc3RydWN0aW9uU2V0Lmluc3RydWN0aW9uU2l6ZSsrXSA9IGluc3RydWN0aW9uU2V0Lmluc3RydWN0aW9uc1ttYXNrRGF0YS5pbnN0cnVjdGlvbnNTdGFydCsrXTtcbiAgICB9XG4gICAgaW5zdHJ1Y3Rpb25TZXQuYWRkKHtcbiAgICAgIHJlbmRlclBpcGVJZDogXCJzdGVuY2lsTWFza1wiLFxuICAgICAgYWN0aW9uOiBcInBvcE1hc2tFbmRcIixcbiAgICAgIGNhbkJ1bmRsZTogZmFsc2VcbiAgICB9KTtcbiAgfVxuICBleGVjdXRlKGluc3RydWN0aW9uKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IHJlbmRlcmVyID0gdGhpcy5fcmVuZGVyZXI7XG4gICAgY29uc3QgcmVuZGVyVGFyZ2V0VWlkID0gcmVuZGVyZXIucmVuZGVyVGFyZ2V0LnJlbmRlclRhcmdldC51aWQ7XG4gICAgbGV0IG1hc2tTdGFja0luZGV4ID0gKF9hID0gdGhpcy5fbWFza1N0YWNrSGFzaClbcmVuZGVyVGFyZ2V0VWlkXSA/PyAoX2FbcmVuZGVyVGFyZ2V0VWlkXSA9IDApO1xuICAgIGlmIChpbnN0cnVjdGlvbi5hY3Rpb24gPT09IFwicHVzaE1hc2tCZWdpblwiKSB7XG4gICAgICByZW5kZXJlci5yZW5kZXJUYXJnZXQuZW5zdXJlRGVwdGhTdGVuY2lsKCk7XG4gICAgICByZW5kZXJlci5zdGVuY2lsLnNldFN0ZW5jaWxNb2RlKFNURU5DSUxfTU9ERVMuUkVOREVSSU5HX01BU0tfQURELCBtYXNrU3RhY2tJbmRleCk7XG4gICAgICBtYXNrU3RhY2tJbmRleCsrO1xuICAgICAgcmVuZGVyZXIuY29sb3JNYXNrLnNldE1hc2soMCk7XG4gICAgfSBlbHNlIGlmIChpbnN0cnVjdGlvbi5hY3Rpb24gPT09IFwicHVzaE1hc2tFbmRcIikge1xuICAgICAgaWYgKGluc3RydWN0aW9uLmludmVyc2UpIHtcbiAgICAgICAgcmVuZGVyZXIuc3RlbmNpbC5zZXRTdGVuY2lsTW9kZShTVEVOQ0lMX01PREVTLklOVkVSU0VfTUFTS19BQ1RJVkUsIG1hc2tTdGFja0luZGV4KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlbmRlcmVyLnN0ZW5jaWwuc2V0U3RlbmNpbE1vZGUoU1RFTkNJTF9NT0RFUy5NQVNLX0FDVElWRSwgbWFza1N0YWNrSW5kZXgpO1xuICAgICAgfVxuICAgICAgcmVuZGVyZXIuY29sb3JNYXNrLnNldE1hc2soMTUpO1xuICAgIH0gZWxzZSBpZiAoaW5zdHJ1Y3Rpb24uYWN0aW9uID09PSBcInBvcE1hc2tCZWdpblwiKSB7XG4gICAgICByZW5kZXJlci5jb2xvck1hc2suc2V0TWFzaygwKTtcbiAgICAgIGlmIChtYXNrU3RhY2tJbmRleCAhPT0gMCkge1xuICAgICAgICByZW5kZXJlci5zdGVuY2lsLnNldFN0ZW5jaWxNb2RlKFNURU5DSUxfTU9ERVMuUkVOREVSSU5HX01BU0tfUkVNT1ZFLCBtYXNrU3RhY2tJbmRleCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZW5kZXJlci5yZW5kZXJUYXJnZXQuY2xlYXIobnVsbCwgQ0xFQVIuU1RFTkNJTCk7XG4gICAgICAgIHJlbmRlcmVyLnN0ZW5jaWwuc2V0U3RlbmNpbE1vZGUoU1RFTkNJTF9NT0RFUy5ESVNBQkxFRCwgbWFza1N0YWNrSW5kZXgpO1xuICAgICAgfVxuICAgICAgbWFza1N0YWNrSW5kZXgtLTtcbiAgICB9IGVsc2UgaWYgKGluc3RydWN0aW9uLmFjdGlvbiA9PT0gXCJwb3BNYXNrRW5kXCIpIHtcbiAgICAgIGlmIChpbnN0cnVjdGlvbi5pbnZlcnNlKSB7XG4gICAgICAgIHJlbmRlcmVyLnN0ZW5jaWwuc2V0U3RlbmNpbE1vZGUoU1RFTkNJTF9NT0RFUy5JTlZFUlNFX01BU0tfQUNUSVZFLCBtYXNrU3RhY2tJbmRleCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZW5kZXJlci5zdGVuY2lsLnNldFN0ZW5jaWxNb2RlKFNURU5DSUxfTU9ERVMuTUFTS19BQ1RJVkUsIG1hc2tTdGFja0luZGV4KTtcbiAgICAgIH1cbiAgICAgIHJlbmRlcmVyLmNvbG9yTWFzay5zZXRNYXNrKDE1KTtcbiAgICB9XG4gICAgdGhpcy5fbWFza1N0YWNrSGFzaFtyZW5kZXJUYXJnZXRVaWRdID0gbWFza1N0YWNrSW5kZXg7XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLl9yZW5kZXJlciA9IG51bGw7XG4gICAgdGhpcy5fbWFza1N0YWNrSGFzaCA9IG51bGw7XG4gICAgdGhpcy5fbWFza0hhc2ggPSBudWxsO1xuICB9XG59XG5TdGVuY2lsTWFza1BpcGUuZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHTFBpcGVzLFxuICAgIEV4dGVuc2lvblR5cGUuV2ViR1BVUGlwZXMsXG4gICAgRXh0ZW5zaW9uVHlwZS5DYW52YXNQaXBlc1xuICBdLFxuICBuYW1lOiBcInN0ZW5jaWxNYXNrXCJcbn07XG5cbmV4cG9ydCB7IFN0ZW5jaWxNYXNrUGlwZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3RlbmNpbE1hc2tQaXBlLm1qcy5tYXBcbiIsImltcG9ydCB7IENvbG9yIH0gZnJvbSAnLi4vLi4vLi4vLi4vY29sb3IvQ29sb3IubWpzJztcbmltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi8uLi8uLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBfQmFja2dyb3VuZFN5c3RlbSA9IGNsYXNzIF9CYWNrZ3JvdW5kU3lzdGVtIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5jbGVhckJlZm9yZVJlbmRlciA9IHRydWU7XG4gICAgdGhpcy5fYmFja2dyb3VuZENvbG9yID0gbmV3IENvbG9yKDApO1xuICAgIHRoaXMuY29sb3IgPSB0aGlzLl9iYWNrZ3JvdW5kQ29sb3I7XG4gICAgdGhpcy5hbHBoYSA9IDE7XG4gIH1cbiAgLyoqXG4gICAqIGluaXRpYXRlcyB0aGUgYmFja2dyb3VuZCBzeXN0ZW1cbiAgICogQHBhcmFtIG9wdGlvbnMgLSB0aGUgb3B0aW9ucyBmb3IgdGhlIGJhY2tncm91bmQgY29sb3JzXG4gICAqL1xuICBpbml0KG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0geyAuLi5fQmFja2dyb3VuZFN5c3RlbS5kZWZhdWx0T3B0aW9ucywgLi4ub3B0aW9ucyB9O1xuICAgIHRoaXMuY2xlYXJCZWZvcmVSZW5kZXIgPSBvcHRpb25zLmNsZWFyQmVmb3JlUmVuZGVyO1xuICAgIHRoaXMuY29sb3IgPSBvcHRpb25zLmJhY2tncm91bmQgfHwgb3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3IgfHwgdGhpcy5fYmFja2dyb3VuZENvbG9yO1xuICAgIHRoaXMuYWxwaGEgPSBvcHRpb25zLmJhY2tncm91bmRBbHBoYTtcbiAgICB0aGlzLl9iYWNrZ3JvdW5kQ29sb3Iuc2V0QWxwaGEob3B0aW9ucy5iYWNrZ3JvdW5kQWxwaGEpO1xuICB9XG4gIC8qKiBUaGUgYmFja2dyb3VuZCBjb2xvciB0byBmaWxsIGlmIG5vdCB0cmFuc3BhcmVudCAqL1xuICBnZXQgY29sb3IoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2JhY2tncm91bmRDb2xvcjtcbiAgfVxuICBzZXQgY29sb3IodmFsdWUpIHtcbiAgICB0aGlzLl9iYWNrZ3JvdW5kQ29sb3Iuc2V0VmFsdWUodmFsdWUpO1xuICB9XG4gIC8qKiBUaGUgYmFja2dyb3VuZCBjb2xvciBhbHBoYS4gU2V0dGluZyB0aGlzIHRvIDAgd2lsbCBtYWtlIHRoZSBjYW52YXMgdHJhbnNwYXJlbnQuICovXG4gIGdldCBhbHBoYSgpIHtcbiAgICByZXR1cm4gdGhpcy5fYmFja2dyb3VuZENvbG9yLmFscGhhO1xuICB9XG4gIHNldCBhbHBoYSh2YWx1ZSkge1xuICAgIHRoaXMuX2JhY2tncm91bmRDb2xvci5zZXRBbHBoYSh2YWx1ZSk7XG4gIH1cbiAgLyoqIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIGFzIGFuIFtSLCBHLCBCLCBBXSBhcnJheS4gKi9cbiAgZ2V0IGNvbG9yUmdiYSgpIHtcbiAgICByZXR1cm4gdGhpcy5fYmFja2dyb3VuZENvbG9yLnRvQXJyYXkoKTtcbiAgfVxuICAvKipcbiAgICogZGVzdHJveXMgdGhlIGJhY2tncm91bmQgc3lzdGVtXG4gICAqIEBpbnRlcm5hbFxuICAgKiBAaWdub3JlXG4gICAqL1xuICBkZXN0cm95KCkge1xuICB9XG59O1xuLyoqIEBpZ25vcmUgKi9cbl9CYWNrZ3JvdW5kU3lzdGVtLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogW1xuICAgIEV4dGVuc2lvblR5cGUuV2ViR0xTeXN0ZW0sXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHUFVTeXN0ZW0sXG4gICAgRXh0ZW5zaW9uVHlwZS5DYW52YXNTeXN0ZW1cbiAgXSxcbiAgbmFtZTogXCJiYWNrZ3JvdW5kXCIsXG4gIHByaW9yaXR5OiAwXG59O1xuLyoqIGRlZmF1bHQgb3B0aW9ucyB1c2VkIGJ5IHRoZSBzeXN0ZW0gKi9cbl9CYWNrZ3JvdW5kU3lzdGVtLmRlZmF1bHRPcHRpb25zID0ge1xuICAvKipcbiAgICoge0BsaW5rIFdlYkdMT3B0aW9ucy5iYWNrZ3JvdW5kQWxwaGF9XG4gICAqIEBkZWZhdWx0IDFcbiAgICovXG4gIGJhY2tncm91bmRBbHBoYTogMSxcbiAgLyoqXG4gICAqIHtAbGluayBXZWJHTE9wdGlvbnMuYmFja2dyb3VuZENvbG9yfVxuICAgKiBAZGVmYXVsdCAweDAwMDAwMFxuICAgKi9cbiAgYmFja2dyb3VuZENvbG9yOiAwLFxuICAvKipcbiAgICoge0BsaW5rIFdlYkdMT3B0aW9ucy5jbGVhckJlZm9yZVJlbmRlcn1cbiAgICogQGRlZmF1bHQgdHJ1ZVxuICAgKi9cbiAgY2xlYXJCZWZvcmVSZW5kZXI6IHRydWVcbn07XG5sZXQgQmFja2dyb3VuZFN5c3RlbSA9IF9CYWNrZ3JvdW5kU3lzdGVtO1xuXG5leHBvcnQgeyBCYWNrZ3JvdW5kU3lzdGVtIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CYWNrZ3JvdW5kU3lzdGVtLm1qcy5tYXBcbiIsImltcG9ydCB7IGV4dGVuc2lvbnMsIEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi8uLi8uLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IEZpbHRlckVmZmVjdCB9IGZyb20gJy4uLy4uLy4uLy4uL2ZpbHRlcnMvRmlsdGVyRWZmZWN0Lm1qcyc7XG5pbXBvcnQgeyB3YXJuIH0gZnJvbSAnLi4vLi4vLi4vLi4vdXRpbHMvbG9nZ2luZy93YXJuLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY29uc3QgQkxFTkRfTU9ERV9GSUxURVJTID0ge307XG5leHRlbnNpb25zLmhhbmRsZShFeHRlbnNpb25UeXBlLkJsZW5kTW9kZSwgKHZhbHVlKSA9PiB7XG4gIGlmICghdmFsdWUubmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkJsZW5kTW9kZSBleHRlbnNpb24gbXVzdCBoYXZlIGEgbmFtZSBwcm9wZXJ0eVwiKTtcbiAgfVxuICBCTEVORF9NT0RFX0ZJTFRFUlNbdmFsdWUubmFtZV0gPSB2YWx1ZS5yZWY7XG59LCAodmFsdWUpID0+IHtcbiAgZGVsZXRlIEJMRU5EX01PREVfRklMVEVSU1t2YWx1ZS5uYW1lXTtcbn0pO1xuY2xhc3MgQmxlbmRNb2RlUGlwZSB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgdGhpcy5faXNBZHZhbmNlZCA9IGZhbHNlO1xuICAgIHRoaXMuX2ZpbHRlckhhc2ggPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICB9XG4gIC8qKlxuICAgKiBUaGlzIGVuc3VyZXMgdGhhdCBhIGJsZW5kTW9kZSBzd2l0Y2ggaXMgYWRkZWQgdG8gdGhlIGluc3RydWN0aW9uIHNldCBpZiB0aGUgYmxlbmQgbW9kZSBoYXMgY2hhbmdlZC5cbiAgICogQHBhcmFtIHJlbmRlcmFibGUgLSBUaGUgcmVuZGVyYWJsZSB3ZSBhcmUgYWRkaW5nIHRvIHRoZSBpbnN0cnVjdGlvbiBzZXRcbiAgICogQHBhcmFtIGJsZW5kTW9kZSAtIFRoZSBibGVuZCBtb2RlIG9mIHRoZSByZW5kZXJhYmxlXG4gICAqIEBwYXJhbSBpbnN0cnVjdGlvblNldCAtIFRoZSBpbnN0cnVjdGlvbiBzZXQgd2UgYXJlIGFkZGluZyB0b1xuICAgKi9cbiAgc2V0QmxlbmRNb2RlKHJlbmRlcmFibGUsIGJsZW5kTW9kZSwgaW5zdHJ1Y3Rpb25TZXQpIHtcbiAgICBpZiAodGhpcy5fYWN0aXZlQmxlbmRNb2RlID09PSBibGVuZE1vZGUpIHtcbiAgICAgIGlmICh0aGlzLl9pc0FkdmFuY2VkKVxuICAgICAgICB0aGlzLl9yZW5kZXJhYmxlTGlzdC5wdXNoKHJlbmRlcmFibGUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9hY3RpdmVCbGVuZE1vZGUgPSBibGVuZE1vZGU7XG4gICAgaWYgKHRoaXMuX2lzQWR2YW5jZWQpIHtcbiAgICAgIHRoaXMuX2VuZEFkdmFuY2VkQmxlbmRNb2RlKGluc3RydWN0aW9uU2V0KTtcbiAgICB9XG4gICAgdGhpcy5faXNBZHZhbmNlZCA9ICEhQkxFTkRfTU9ERV9GSUxURVJTW2JsZW5kTW9kZV07XG4gICAgaWYgKHRoaXMuX2lzQWR2YW5jZWQpIHtcbiAgICAgIHRoaXMuX2JlZ2luQWR2YW5jZWRCbGVuZE1vZGUoaW5zdHJ1Y3Rpb25TZXQpO1xuICAgICAgdGhpcy5fcmVuZGVyYWJsZUxpc3QucHVzaChyZW5kZXJhYmxlKTtcbiAgICB9XG4gIH1cbiAgX2JlZ2luQWR2YW5jZWRCbGVuZE1vZGUoaW5zdHJ1Y3Rpb25TZXQpIHtcbiAgICB0aGlzLl9yZW5kZXJlci5yZW5kZXJQaXBlcy5iYXRjaC5icmVhayhpbnN0cnVjdGlvblNldCk7XG4gICAgY29uc3QgYmxlbmRNb2RlID0gdGhpcy5fYWN0aXZlQmxlbmRNb2RlO1xuICAgIGlmICghQkxFTkRfTU9ERV9GSUxURVJTW2JsZW5kTW9kZV0pIHtcbiAgICAgIHdhcm4oYFVuYWJsZSB0byBhc3NpZ24gQmxlbmRNb2RlOiAnJHtibGVuZE1vZGV9Jy4gWW91IG1heSB3YW50IHRvIGluY2x1ZGU6IGltcG9ydCAncGl4aS5qcy9hZHZhbmNlZC1ibGVuZC1tb2RlcydgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IGZpbHRlckVmZmVjdCA9IHRoaXMuX2ZpbHRlckhhc2hbYmxlbmRNb2RlXTtcbiAgICBpZiAoIWZpbHRlckVmZmVjdCkge1xuICAgICAgZmlsdGVyRWZmZWN0ID0gdGhpcy5fZmlsdGVySGFzaFtibGVuZE1vZGVdID0gbmV3IEZpbHRlckVmZmVjdCgpO1xuICAgICAgZmlsdGVyRWZmZWN0LmZpbHRlcnMgPSBbbmV3IEJMRU5EX01PREVfRklMVEVSU1tibGVuZE1vZGVdKCldO1xuICAgIH1cbiAgICBjb25zdCBpbnN0cnVjdGlvbiA9IHtcbiAgICAgIHJlbmRlclBpcGVJZDogXCJmaWx0ZXJcIixcbiAgICAgIGFjdGlvbjogXCJwdXNoRmlsdGVyXCIsXG4gICAgICByZW5kZXJhYmxlczogW10sXG4gICAgICBmaWx0ZXJFZmZlY3QsXG4gICAgICBjYW5CdW5kbGU6IGZhbHNlXG4gICAgfTtcbiAgICB0aGlzLl9yZW5kZXJhYmxlTGlzdCA9IGluc3RydWN0aW9uLnJlbmRlcmFibGVzO1xuICAgIGluc3RydWN0aW9uU2V0LmFkZChpbnN0cnVjdGlvbik7XG4gIH1cbiAgX2VuZEFkdmFuY2VkQmxlbmRNb2RlKGluc3RydWN0aW9uU2V0KSB7XG4gICAgdGhpcy5fcmVuZGVyYWJsZUxpc3QgPSBudWxsO1xuICAgIHRoaXMuX3JlbmRlcmVyLnJlbmRlclBpcGVzLmJhdGNoLmJyZWFrKGluc3RydWN0aW9uU2V0KTtcbiAgICBpbnN0cnVjdGlvblNldC5hZGQoe1xuICAgICAgcmVuZGVyUGlwZUlkOiBcImZpbHRlclwiLFxuICAgICAgYWN0aW9uOiBcInBvcEZpbHRlclwiLFxuICAgICAgY2FuQnVuZGxlOiBmYWxzZVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBjYWxsZWQgd2hlbiB0aGUgaW5zdHJ1Y3Rpb24gYnVpbGQgcHJvY2VzcyBpcyBzdGFydGluZyB0aGlzIHdpbGwgcmVzZXQgaW50ZXJuYWxseSB0byB0aGUgZGVmYXVsdCBibGVuZCBtb2RlXG4gICAqIEBpbnRlcm5hbFxuICAgKiBAaWdub3JlXG4gICAqL1xuICBidWlsZFN0YXJ0KCkge1xuICAgIHRoaXMuX2lzQWR2YW5jZWQgPSBmYWxzZTtcbiAgfVxuICAvKipcbiAgICogY2FsbGVkIHdoZW4gdGhlIGluc3RydWN0aW9uIGJ1aWxkIHByb2Nlc3MgaXMgZmluaXNoZWQsIGVuc3VyaW5nIHRoYXQgaWYgdGhlcmUgaXMgYW4gYWR2YW5jZWQgYmxlbmQgbW9kZVxuICAgKiBhY3RpdmUsIHdlIGFkZCB0aGUgZmluYWwgcmVuZGVyIGluc3RydWN0aW9ucyBhZGRlZCB0byB0aGUgaW5zdHJ1Y3Rpb24gc2V0XG4gICAqIEBwYXJhbSBpbnN0cnVjdGlvblNldCAtIFRoZSBpbnN0cnVjdGlvbiBzZXQgd2UgYXJlIGFkZGluZyB0b1xuICAgKiBAaW50ZXJuYWxcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgYnVpbGRFbmQoaW5zdHJ1Y3Rpb25TZXQpIHtcbiAgICBpZiAodGhpcy5faXNBZHZhbmNlZCkge1xuICAgICAgdGhpcy5fZW5kQWR2YW5jZWRCbGVuZE1vZGUoaW5zdHJ1Y3Rpb25TZXQpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSBudWxsO1xuICAgIHRoaXMuX3JlbmRlcmFibGVMaXN0ID0gbnVsbDtcbiAgICBmb3IgKGNvbnN0IGkgaW4gdGhpcy5fZmlsdGVySGFzaCkge1xuICAgICAgdGhpcy5fZmlsdGVySGFzaFtpXS5kZXN0cm95KCk7XG4gICAgfVxuICAgIHRoaXMuX2ZpbHRlckhhc2ggPSBudWxsO1xuICB9XG59XG4vKiogQGlnbm9yZSAqL1xuQmxlbmRNb2RlUGlwZS5leHRlbnNpb24gPSB7XG4gIHR5cGU6IFtcbiAgICBFeHRlbnNpb25UeXBlLldlYkdMUGlwZXMsXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHUFVQaXBlcyxcbiAgICBFeHRlbnNpb25UeXBlLkNhbnZhc1BpcGVzXG4gIF0sXG4gIG5hbWU6IFwiYmxlbmRNb2RlXCJcbn07XG5cbmV4cG9ydCB7IEJsZW5kTW9kZVBpcGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJsZW5kTW9kZVBpcGUubWpzLm1hcFxuIiwiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSB9IGZyb20gJy4uLy4uLy4uLy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmUvY29udGFpbmVyL0NvbnRhaW5lci5tanMnO1xuaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJy4uL3RleHR1cmUvVGV4dHVyZS5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNvbnN0IGltYWdlVHlwZXMgPSB7XG4gIHBuZzogXCJpbWFnZS9wbmdcIixcbiAganBnOiBcImltYWdlL2pwZWdcIixcbiAgd2VicDogXCJpbWFnZS93ZWJwXCJcbn07XG5jb25zdCBfRXh0cmFjdFN5c3RlbSA9IGNsYXNzIF9FeHRyYWN0U3lzdGVtIHtcbiAgLyoqIEBwYXJhbSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIFN5c3RlbSB3b3JrcyBmb3IuICovXG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgfVxuICBfbm9ybWFsaXplT3B0aW9ucyhvcHRpb25zLCBkZWZhdWx0cyA9IHt9KSB7XG4gICAgaWYgKG9wdGlvbnMgaW5zdGFuY2VvZiBDb250YWluZXIgfHwgb3B0aW9ucyBpbnN0YW5jZW9mIFRleHR1cmUpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRhcmdldDogb3B0aW9ucyxcbiAgICAgICAgLi4uZGVmYXVsdHNcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAuLi5kZWZhdWx0cyxcbiAgICAgIC4uLm9wdGlvbnNcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBXaWxsIHJldHVybiBhIEhUTUwgSW1hZ2Ugb2YgdGhlIHRhcmdldFxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIFRoZSBvcHRpb25zIGZvciBjcmVhdGluZyB0aGUgaW1hZ2UsIG9yIHRoZSB0YXJnZXQgdG8gZXh0cmFjdFxuICAgKiBAcmV0dXJucyAtIEhUTUwgSW1hZ2Ugb2YgdGhlIHRhcmdldFxuICAgKi9cbiAgYXN5bmMgaW1hZ2Uob3B0aW9ucykge1xuICAgIGNvbnN0IGltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgaW1hZ2Uuc3JjID0gYXdhaXQgdGhpcy5iYXNlNjQob3B0aW9ucyk7XG4gICAgcmV0dXJuIGltYWdlO1xuICB9XG4gIC8qKlxuICAgKiBXaWxsIHJldHVybiBhIGJhc2U2NCBlbmNvZGVkIHN0cmluZyBvZiB0aGlzIHRhcmdldC4gSXQgd29ya3MgYnkgY2FsbGluZ1xuICAgKiBgRXh0cmFjdC5jYW52YXNgIGFuZCB0aGVuIHJ1bm5pbmcgdG9EYXRhVVJMIG9uIHRoYXQuXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIG9wdGlvbnMgZm9yIGNyZWF0aW5nIHRoZSBpbWFnZSwgb3IgdGhlIHRhcmdldCB0byBleHRyYWN0XG4gICAqL1xuICBhc3luYyBiYXNlNjQob3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSB0aGlzLl9ub3JtYWxpemVPcHRpb25zKFxuICAgICAgb3B0aW9ucyxcbiAgICAgIF9FeHRyYWN0U3lzdGVtLmRlZmF1bHRJbWFnZU9wdGlvbnNcbiAgICApO1xuICAgIGNvbnN0IHsgZm9ybWF0LCBxdWFsaXR5IH0gPSBvcHRpb25zO1xuICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuY2FudmFzKG9wdGlvbnMpO1xuICAgIGlmIChjYW52YXMudG9CbG9iICE9PSB2b2lkIDApIHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNhbnZhcy50b0Jsb2IoKGJsb2IpID0+IHtcbiAgICAgICAgICBpZiAoIWJsb2IpIHtcbiAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoXCJJQ2FudmFzLnRvQmxvYiBmYWlsZWQhXCIpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgICByZWFkZXIub25sb2FkID0gKCkgPT4gcmVzb2x2ZShyZWFkZXIucmVzdWx0KTtcbiAgICAgICAgICByZWFkZXIub25lcnJvciA9IHJlamVjdDtcbiAgICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChibG9iKTtcbiAgICAgICAgfSwgaW1hZ2VUeXBlc1tmb3JtYXRdLCBxdWFsaXR5KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoY2FudmFzLnRvRGF0YVVSTCAhPT0gdm9pZCAwKSB7XG4gICAgICByZXR1cm4gY2FudmFzLnRvRGF0YVVSTChpbWFnZVR5cGVzW2Zvcm1hdF0sIHF1YWxpdHkpO1xuICAgIH1cbiAgICBpZiAoY2FudmFzLmNvbnZlcnRUb0Jsb2IgIT09IHZvaWQgMCkge1xuICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IGNhbnZhcy5jb252ZXJ0VG9CbG9iKHsgdHlwZTogaW1hZ2VUeXBlc1tmb3JtYXRdLCBxdWFsaXR5IH0pO1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgcmVhZGVyLm9ubG9hZCA9ICgpID0+IHJlc29sdmUocmVhZGVyLnJlc3VsdCk7XG4gICAgICAgIHJlYWRlci5vbmVycm9yID0gcmVqZWN0O1xuICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChibG9iKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJFeHRyYWN0LmJhc2U2NCgpIHJlcXVpcmVzIElDYW52YXMudG9EYXRhVVJMLCBJQ2FudmFzLnRvQmxvYiwgb3IgSUNhbnZhcy5jb252ZXJ0VG9CbG9iIHRvIGJlIGltcGxlbWVudGVkXCIpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgQ2FudmFzIGVsZW1lbnQsIHJlbmRlcnMgdGhpcyB0YXJnZXQgdG8gaXQgYW5kIHRoZW4gcmV0dXJucyBpdC5cbiAgICogQHBhcmFtIG9wdGlvbnMgLSBUaGUgb3B0aW9ucyBmb3IgY3JlYXRpbmcgdGhlIGNhbnZhcywgb3IgdGhlIHRhcmdldCB0byBleHRyYWN0XG4gICAqIEByZXR1cm5zIC0gQSBDYW52YXMgZWxlbWVudCB3aXRoIHRoZSB0ZXh0dXJlIHJlbmRlcmVkIG9uLlxuICAgKi9cbiAgY2FudmFzKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gdGhpcy5fbm9ybWFsaXplT3B0aW9ucyhvcHRpb25zKTtcbiAgICBjb25zdCB0YXJnZXQgPSBvcHRpb25zLnRhcmdldDtcbiAgICBjb25zdCByZW5kZXJlciA9IHRoaXMuX3JlbmRlcmVyO1xuICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBUZXh0dXJlKSB7XG4gICAgICByZXR1cm4gcmVuZGVyZXIudGV4dHVyZS5nZW5lcmF0ZUNhbnZhcyh0YXJnZXQpO1xuICAgIH1cbiAgICBjb25zdCB0ZXh0dXJlID0gcmVuZGVyZXIudGV4dHVyZUdlbmVyYXRvci5nZW5lcmF0ZVRleHR1cmUob3B0aW9ucyk7XG4gICAgY29uc3QgY2FudmFzID0gcmVuZGVyZXIudGV4dHVyZS5nZW5lcmF0ZUNhbnZhcyh0ZXh0dXJlKTtcbiAgICB0ZXh0dXJlLmRlc3Ryb3kodHJ1ZSk7XG4gICAgcmV0dXJuIGNhbnZhcztcbiAgfVxuICAvKipcbiAgICogV2lsbCByZXR1cm4gYSBvbmUtZGltZW5zaW9uYWwgYXJyYXkgY29udGFpbmluZyB0aGUgcGl4ZWwgZGF0YSBvZiB0aGUgZW50aXJlIHRleHR1cmUgaW4gUkdCQVxuICAgKiBvcmRlciwgd2l0aCBpbnRlZ2VyIHZhbHVlcyBiZXR3ZWVuIDAgYW5kIDI1NSAoaW5jbHVkZWQpLlxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIFRoZSBvcHRpb25zIGZvciBleHRyYWN0aW5nIHRoZSBpbWFnZSwgb3IgdGhlIHRhcmdldCB0byBleHRyYWN0XG4gICAqIEByZXR1cm5zIC0gT25lLWRpbWVuc2lvbmFsIGFycmF5IGNvbnRhaW5pbmcgdGhlIHBpeGVsIGRhdGEgb2YgdGhlIGVudGlyZSB0ZXh0dXJlXG4gICAqL1xuICBwaXhlbHMob3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSB0aGlzLl9ub3JtYWxpemVPcHRpb25zKG9wdGlvbnMpO1xuICAgIGNvbnN0IHRhcmdldCA9IG9wdGlvbnMudGFyZ2V0O1xuICAgIGNvbnN0IHJlbmRlcmVyID0gdGhpcy5fcmVuZGVyZXI7XG4gICAgY29uc3QgdGV4dHVyZSA9IHRhcmdldCBpbnN0YW5jZW9mIFRleHR1cmUgPyB0YXJnZXQgOiByZW5kZXJlci50ZXh0dXJlR2VuZXJhdG9yLmdlbmVyYXRlVGV4dHVyZShvcHRpb25zKTtcbiAgICBjb25zdCBwaXhlbEluZm8gPSByZW5kZXJlci50ZXh0dXJlLmdldFBpeGVscyh0ZXh0dXJlKTtcbiAgICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgQ29udGFpbmVyKSB7XG4gICAgICB0ZXh0dXJlLmRlc3Ryb3kodHJ1ZSk7XG4gICAgfVxuICAgIHJldHVybiBwaXhlbEluZm87XG4gIH1cbiAgLyoqXG4gICAqIFdpbGwgcmV0dXJuIGEgdGV4dHVyZSBvZiB0aGUgdGFyZ2V0XG4gICAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIG9wdGlvbnMgZm9yIGNyZWF0aW5nIHRoZSB0ZXh0dXJlLCBvciB0aGUgdGFyZ2V0IHRvIGV4dHJhY3RcbiAgICogQHJldHVybnMgLSBBIHRleHR1cmUgb2YgdGhlIHRhcmdldFxuICAgKi9cbiAgdGV4dHVyZShvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IHRoaXMuX25vcm1hbGl6ZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgaWYgKG9wdGlvbnMudGFyZ2V0IGluc3RhbmNlb2YgVGV4dHVyZSlcbiAgICAgIHJldHVybiBvcHRpb25zLnRhcmdldDtcbiAgICByZXR1cm4gdGhpcy5fcmVuZGVyZXIudGV4dHVyZUdlbmVyYXRvci5nZW5lcmF0ZVRleHR1cmUob3B0aW9ucyk7XG4gIH1cbiAgLyoqXG4gICAqIFdpbGwgZXh0cmFjdCBhIEhUTUxJbWFnZSBvZiB0aGUgdGFyZ2V0IGFuZCBkb3dubG9hZCBpdFxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIFRoZSBvcHRpb25zIGZvciBkb3dubG9hZGluZyBhbmQgZXh0cmFjdGluZyB0aGUgaW1hZ2UsIG9yIHRoZSB0YXJnZXQgdG8gZXh0cmFjdFxuICAgKi9cbiAgZG93bmxvYWQob3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSB0aGlzLl9ub3JtYWxpemVPcHRpb25zKG9wdGlvbnMpO1xuICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuY2FudmFzKG9wdGlvbnMpO1xuICAgIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcbiAgICBsaW5rLmRvd25sb2FkID0gb3B0aW9ucy5maWxlbmFtZSA/PyBcImltYWdlLnBuZ1wiO1xuICAgIGxpbmsuaHJlZiA9IGNhbnZhcy50b0RhdGFVUkwoXCJpbWFnZS9wbmdcIik7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsaW5rKTtcbiAgICBsaW5rLmNsaWNrKCk7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChsaW5rKTtcbiAgfVxuICAvKipcbiAgICogTG9ncyB0aGUgdGFyZ2V0IHRvIHRoZSBjb25zb2xlIGFzIGFuIGltYWdlLiBUaGlzIGlzIGEgdXNlZnVsIHdheSB0byBkZWJ1ZyB3aGF0J3MgaGFwcGVuaW5nIGluIHRoZSByZW5kZXJlci5cbiAgICogQHBhcmFtIG9wdGlvbnMgLSBUaGUgb3B0aW9ucyBmb3IgbG9nZ2luZyB0aGUgaW1hZ2UsIG9yIHRoZSB0YXJnZXQgdG8gbG9nXG4gICAqL1xuICBsb2cob3B0aW9ucykge1xuICAgIGNvbnN0IHdpZHRoID0gb3B0aW9ucy53aWR0aCA/PyAyMDA7XG4gICAgb3B0aW9ucyA9IHRoaXMuX25vcm1hbGl6ZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgY29uc3QgY2FudmFzID0gdGhpcy5jYW52YXMob3B0aW9ucyk7XG4gICAgY29uc3QgYmFzZTY0ID0gY2FudmFzLnRvRGF0YVVSTCgpO1xuICAgIGNvbnNvbGUubG9nKGBbUGl4aSBUZXh0dXJlXSAke2NhbnZhcy53aWR0aH1weCAke2NhbnZhcy5oZWlnaHR9cHhgKTtcbiAgICBjb25zdCBzdHlsZSA9IFtcbiAgICAgIFwiZm9udC1zaXplOiAxcHg7XCIsXG4gICAgICBgcGFkZGluZzogJHt3aWR0aH1weCAkezMwMH1weDtgLFxuICAgICAgYGJhY2tncm91bmQ6IHVybCgke2Jhc2U2NH0pIG5vLXJlcGVhdDtgLFxuICAgICAgXCJiYWNrZ3JvdW5kLXNpemU6IGNvbnRhaW47XCJcbiAgICBdLmpvaW4oXCIgXCIpO1xuICAgIGNvbnNvbGUubG9nKFwiJWMgXCIsIHN0eWxlKTtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gbnVsbDtcbiAgfVxufTtcbi8qKiBAaWdub3JlICovXG5fRXh0cmFjdFN5c3RlbS5leHRlbnNpb24gPSB7XG4gIHR5cGU6IFtcbiAgICBFeHRlbnNpb25UeXBlLldlYkdMU3lzdGVtLFxuICAgIEV4dGVuc2lvblR5cGUuV2ViR1BVU3lzdGVtXG4gIF0sXG4gIG5hbWU6IFwiZXh0cmFjdFwiXG59O1xuLyoqIERlZmF1bHQgb3B0aW9ucyBmb3IgY3JlYXRpbmcgYW4gaW1hZ2UuICovXG5fRXh0cmFjdFN5c3RlbS5kZWZhdWx0SW1hZ2VPcHRpb25zID0ge1xuICAvKiogVGhlIGZvcm1hdCBvZiB0aGUgaW1hZ2UuICovXG4gIGZvcm1hdDogXCJwbmdcIixcbiAgLyoqIFRoZSBxdWFsaXR5IG9mIHRoZSBpbWFnZS4gKi9cbiAgcXVhbGl0eTogMVxufTtcbmxldCBFeHRyYWN0U3lzdGVtID0gX0V4dHJhY3RTeXN0ZW07XG5cbmV4cG9ydCB7IEV4dHJhY3RTeXN0ZW0gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUV4dHJhY3RTeXN0ZW0ubWpzLm1hcFxuIiwiaW1wb3J0IHsgVGV4dHVyZVNvdXJjZSB9IGZyb20gJy4vc291cmNlcy9UZXh0dXJlU291cmNlLm1qcyc7XG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnLi9UZXh0dXJlLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgUmVuZGVyVGV4dHVyZSBleHRlbmRzIFRleHR1cmUge1xuICBzdGF0aWMgY3JlYXRlKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbmV3IFJlbmRlclRleHR1cmUoe1xuICAgICAgc291cmNlOiBuZXcgVGV4dHVyZVNvdXJjZShvcHRpb25zKVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBSZXNpemVzIHRoZSByZW5kZXIgdGV4dHVyZS5cbiAgICogQHBhcmFtIHdpZHRoIC0gVGhlIG5ldyB3aWR0aCBvZiB0aGUgcmVuZGVyIHRleHR1cmUuXG4gICAqIEBwYXJhbSBoZWlnaHQgLSBUaGUgbmV3IGhlaWdodCBvZiB0aGUgcmVuZGVyIHRleHR1cmUuXG4gICAqIEBwYXJhbSByZXNvbHV0aW9uIC0gVGhlIG5ldyByZXNvbHV0aW9uIG9mIHRoZSByZW5kZXIgdGV4dHVyZS5cbiAgICogQHJldHVybnMgVGhpcyB0ZXh0dXJlLlxuICAgKi9cbiAgcmVzaXplKHdpZHRoLCBoZWlnaHQsIHJlc29sdXRpb24pIHtcbiAgICB0aGlzLnNvdXJjZS5yZXNpemUod2lkdGgsIGhlaWdodCwgcmVzb2x1dGlvbik7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn1cblxuZXhwb3J0IHsgUmVuZGVyVGV4dHVyZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVuZGVyVGV4dHVyZS5tanMubWFwXG4iLCJpbXBvcnQgeyBDb2xvciB9IGZyb20gJy4uLy4uLy4uLy4uL2NvbG9yL0NvbG9yLm1qcyc7XG5pbXBvcnQgeyBFeHRlbnNpb25UeXBlIH0gZnJvbSAnLi4vLi4vLi4vLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBNYXRyaXggfSBmcm9tICcuLi8uLi8uLi8uLi9tYXRocy9tYXRyaXgvTWF0cml4Lm1qcyc7XG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tICcuLi8uLi8uLi8uLi9tYXRocy9zaGFwZXMvUmVjdGFuZ2xlLm1qcyc7XG5pbXBvcnQgeyBCb3VuZHMgfSBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZS9jb250YWluZXIvYm91bmRzL0JvdW5kcy5tanMnO1xuaW1wb3J0IHsgZ2V0TG9jYWxCb3VuZHMgfSBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZS9jb250YWluZXIvYm91bmRzL2dldExvY2FsQm91bmRzLm1qcyc7XG5pbXBvcnQgeyBDb250YWluZXIgfSBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZS9jb250YWluZXIvQ29udGFpbmVyLm1qcyc7XG5pbXBvcnQgeyBSZW5kZXJUZXh0dXJlIH0gZnJvbSAnLi4vdGV4dHVyZS9SZW5kZXJUZXh0dXJlLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY29uc3QgdGVtcFJlY3QgPSBuZXcgUmVjdGFuZ2xlKCk7XG5jb25zdCB0ZW1wQm91bmRzID0gbmV3IEJvdW5kcygpO1xuY29uc3Qgbm9Db2xvciA9IFswLCAwLCAwLCAwXTtcbmNsYXNzIEdlbmVyYXRlVGV4dHVyZVN5c3RlbSB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgfVxuICAvKipcbiAgICogQSBVc2VmdWwgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgdGV4dHVyZSBvZiB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCBjYW4gdGhlbiBiZSB1c2VkIHRvIGNyZWF0ZSBzcHJpdGVzXG4gICAqIFRoaXMgY2FuIGJlIHF1aXRlIHVzZWZ1bCBpZiB5b3VyIGNvbnRhaW5lciBpcyBjb21wbGljYXRlZCBhbmQgbmVlZHMgdG8gYmUgcmV1c2VkIG11bHRpcGxlIHRpbWVzLlxuICAgKiBAcGFyYW0ge0dlbmVyYXRlVGV4dHVyZU9wdGlvbnMgfCBDb250YWluZXJ9IG9wdGlvbnMgLSBHZW5lcmF0ZSB0ZXh0dXJlIG9wdGlvbnMuXG4gICAqIEBwYXJhbSB7Q29udGFpbmVyfSBbb3B0aW9ucy5jb250YWluZXJdIC0gSWYgbm90IGdpdmVuLCB0aGUgcmVuZGVyZXIncyByZXNvbHV0aW9uIGlzIHVzZWQuXG4gICAqIEBwYXJhbSB7UmVjdGFuZ2xlfSBvcHRpb25zLnJlZ2lvbiAtIFRoZSByZWdpb24gb2YgdGhlIGNvbnRhaW5lciwgdGhhdCBzaGFsbCBiZSByZW5kZXJlZCxcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnJlc29sdXRpb25dIC0gVGhlIHJlc29sdXRpb24gb2YgdGhlIHRleHR1cmUgYmVpbmcgZ2VuZXJhdGVkLlxuICAgKiAgICAgICAgaWYgbm8gcmVnaW9uIGlzIHNwZWNpZmllZCwgZGVmYXVsdHMgdG8gdGhlIGxvY2FsIGJvdW5kcyBvZiB0aGUgY29udGFpbmVyLlxuICAgKiBAcGFyYW0ge0dlbmVyYXRlVGV4dHVyZVNvdXJjZU9wdGlvbnN9IFtvcHRpb25zLnRleHR1cmVTb3VyY2VPcHRpb25zXSAtIFRleHR1cmUgb3B0aW9ucyBmb3IgR1BVLlxuICAgKiBAcmV0dXJucyBhIHNoaW55IG5ldyB0ZXh0dXJlIG9mIHRoZSBjb250YWluZXIgcGFzc2VkIGluXG4gICAqL1xuICBnZW5lcmF0ZVRleHR1cmUob3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zIGluc3RhbmNlb2YgQ29udGFpbmVyKSB7XG4gICAgICBvcHRpb25zID0ge1xuICAgICAgICB0YXJnZXQ6IG9wdGlvbnMsXG4gICAgICAgIGZyYW1lOiB2b2lkIDAsXG4gICAgICAgIHRleHR1cmVTb3VyY2VPcHRpb25zOiB7fSxcbiAgICAgICAgcmVzb2x1dGlvbjogdm9pZCAwXG4gICAgICB9O1xuICAgIH1cbiAgICBjb25zdCByZXNvbHV0aW9uID0gb3B0aW9ucy5yZXNvbHV0aW9uIHx8IHRoaXMuX3JlbmRlcmVyLnJlc29sdXRpb247XG4gICAgY29uc3QgYW50aWFsaWFzID0gb3B0aW9ucy5hbnRpYWxpYXMgfHwgdGhpcy5fcmVuZGVyZXIudmlldy5hbnRpYWxpYXM7XG4gICAgY29uc3QgY29udGFpbmVyID0gb3B0aW9ucy50YXJnZXQ7XG4gICAgbGV0IGNsZWFyQ29sb3IgPSBvcHRpb25zLmNsZWFyQ29sb3I7XG4gICAgaWYgKGNsZWFyQ29sb3IpIHtcbiAgICAgIGNvbnN0IGlzUkdCQUFycmF5ID0gQXJyYXkuaXNBcnJheShjbGVhckNvbG9yKSAmJiBjbGVhckNvbG9yLmxlbmd0aCA9PT0gNDtcbiAgICAgIGNsZWFyQ29sb3IgPSBpc1JHQkFBcnJheSA/IGNsZWFyQ29sb3IgOiBDb2xvci5zaGFyZWQuc2V0VmFsdWUoY2xlYXJDb2xvcikudG9BcnJheSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjbGVhckNvbG9yID0gbm9Db2xvcjtcbiAgICB9XG4gICAgY29uc3QgcmVnaW9uID0gb3B0aW9ucy5mcmFtZT8uY29weVRvKHRlbXBSZWN0KSB8fCBnZXRMb2NhbEJvdW5kcyhjb250YWluZXIsIHRlbXBCb3VuZHMpLnJlY3RhbmdsZTtcbiAgICByZWdpb24ud2lkdGggPSBNYXRoLm1heChyZWdpb24ud2lkdGgsIDEgLyByZXNvbHV0aW9uKSB8IDA7XG4gICAgcmVnaW9uLmhlaWdodCA9IE1hdGgubWF4KHJlZ2lvbi5oZWlnaHQsIDEgLyByZXNvbHV0aW9uKSB8IDA7XG4gICAgY29uc3QgdGFyZ2V0ID0gUmVuZGVyVGV4dHVyZS5jcmVhdGUoe1xuICAgICAgLi4ub3B0aW9ucy50ZXh0dXJlU291cmNlT3B0aW9ucyxcbiAgICAgIHdpZHRoOiByZWdpb24ud2lkdGgsXG4gICAgICBoZWlnaHQ6IHJlZ2lvbi5oZWlnaHQsXG4gICAgICByZXNvbHV0aW9uLFxuICAgICAgYW50aWFsaWFzXG4gICAgfSk7XG4gICAgY29uc3QgdHJhbnNmb3JtID0gTWF0cml4LnNoYXJlZC50cmFuc2xhdGUoLXJlZ2lvbi54LCAtcmVnaW9uLnkpO1xuICAgIHRoaXMuX3JlbmRlcmVyLnJlbmRlcih7XG4gICAgICBjb250YWluZXIsXG4gICAgICB0cmFuc2Zvcm0sXG4gICAgICB0YXJnZXQsXG4gICAgICBjbGVhckNvbG9yXG4gICAgfSk7XG4gICAgdGFyZ2V0LnNvdXJjZS51cGRhdGVNaXBtYXBzKCk7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gbnVsbDtcbiAgfVxufVxuLyoqIEBpZ25vcmUgKi9cbkdlbmVyYXRlVGV4dHVyZVN5c3RlbS5leHRlbnNpb24gPSB7XG4gIHR5cGU6IFtcbiAgICBFeHRlbnNpb25UeXBlLldlYkdMU3lzdGVtLFxuICAgIEV4dGVuc2lvblR5cGUuV2ViR1BVU3lzdGVtXG4gIF0sXG4gIG5hbWU6IFwidGV4dHVyZUdlbmVyYXRvclwiXG59O1xuXG5leHBvcnQgeyBHZW5lcmF0ZVRleHR1cmVTeXN0ZW0gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUdlbmVyYXRlVGV4dHVyZVN5c3RlbS5tanMubWFwXG4iLCJpbXBvcnQgeyBFeHRlbnNpb25UeXBlIH0gZnJvbSAnLi4vLi4vLi4vLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBNYXRyaXggfSBmcm9tICcuLi8uLi8uLi8uLi9tYXRocy9tYXRyaXgvTWF0cml4Lm1qcyc7XG5pbXBvcnQgeyBQb2ludCB9IGZyb20gJy4uLy4uLy4uLy4uL21hdGhzL3BvaW50L1BvaW50Lm1qcyc7XG5pbXBvcnQgeyBjb2xvcjMyQml0VG9Vbmlmb3JtIH0gZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmUvZ3JhcGhpY3MvZ3B1L2NvbG9yVG9Vbmlmb3JtLm1qcyc7XG5pbXBvcnQgeyBCaW5kR3JvdXAgfSBmcm9tICcuLi8uLi9ncHUvc2hhZGVyL0JpbmRHcm91cC5tanMnO1xuaW1wb3J0IHsgUmVuZGVyZXJUeXBlIH0gZnJvbSAnLi4vLi4vdHlwZXMubWpzJztcbmltcG9ydCB7IFVuaWZvcm1Hcm91cCB9IGZyb20gJy4uL3NoYWRlci9Vbmlmb3JtR3JvdXAubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jbGFzcyBHbG9iYWxVbmlmb3JtU3lzdGVtIHtcbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICB0aGlzLl9zdGFja0luZGV4ID0gMDtcbiAgICB0aGlzLl9nbG9iYWxVbmlmb3JtRGF0YVN0YWNrID0gW107XG4gICAgdGhpcy5fdW5pZm9ybXNQb29sID0gW107XG4gICAgdGhpcy5fYWN0aXZlVW5pZm9ybXMgPSBbXTtcbiAgICB0aGlzLl9iaW5kR3JvdXBQb29sID0gW107XG4gICAgdGhpcy5fYWN0aXZlQmluZEdyb3VwcyA9IFtdO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gIH1cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5fc3RhY2tJbmRleCA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9hY3RpdmVVbmlmb3Jtcy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5fdW5pZm9ybXNQb29sLnB1c2godGhpcy5fYWN0aXZlVW5pZm9ybXNbaV0pO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2FjdGl2ZUJpbmRHcm91cHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuX2JpbmRHcm91cFBvb2wucHVzaCh0aGlzLl9hY3RpdmVCaW5kR3JvdXBzW2ldKTtcbiAgICB9XG4gICAgdGhpcy5fYWN0aXZlVW5pZm9ybXMubGVuZ3RoID0gMDtcbiAgICB0aGlzLl9hY3RpdmVCaW5kR3JvdXBzLmxlbmd0aCA9IDA7XG4gIH1cbiAgc3RhcnQob3B0aW9ucykge1xuICAgIHRoaXMucmVzZXQoKTtcbiAgICB0aGlzLnB1c2gob3B0aW9ucyk7XG4gIH1cbiAgYmluZCh7XG4gICAgc2l6ZSxcbiAgICBwcm9qZWN0aW9uTWF0cml4LFxuICAgIHdvcmxkVHJhbnNmb3JtTWF0cml4LFxuICAgIHdvcmxkQ29sb3IsXG4gICAgb2Zmc2V0XG4gIH0pIHtcbiAgICBjb25zdCByZW5kZXJUYXJnZXQgPSB0aGlzLl9yZW5kZXJlci5yZW5kZXJUYXJnZXQucmVuZGVyVGFyZ2V0O1xuICAgIGNvbnN0IGN1cnJlbnRHbG9iYWxVbmlmb3JtRGF0YSA9IHRoaXMuX3N0YWNrSW5kZXggPyB0aGlzLl9nbG9iYWxVbmlmb3JtRGF0YVN0YWNrW3RoaXMuX3N0YWNrSW5kZXggLSAxXSA6IHtcbiAgICAgIHByb2plY3Rpb25EYXRhOiByZW5kZXJUYXJnZXQsXG4gICAgICB3b3JsZFRyYW5zZm9ybU1hdHJpeDogbmV3IE1hdHJpeCgpLFxuICAgICAgd29ybGRDb2xvcjogNDI5NDk2NzI5NSxcbiAgICAgIG9mZnNldDogbmV3IFBvaW50KClcbiAgICB9O1xuICAgIGNvbnN0IGdsb2JhbFVuaWZvcm1EYXRhID0ge1xuICAgICAgcHJvamVjdGlvbk1hdHJpeDogcHJvamVjdGlvbk1hdHJpeCB8fCB0aGlzLl9yZW5kZXJlci5yZW5kZXJUYXJnZXQucHJvamVjdGlvbk1hdHJpeCxcbiAgICAgIHJlc29sdXRpb246IHNpemUgfHwgcmVuZGVyVGFyZ2V0LnNpemUsXG4gICAgICB3b3JsZFRyYW5zZm9ybU1hdHJpeDogd29ybGRUcmFuc2Zvcm1NYXRyaXggfHwgY3VycmVudEdsb2JhbFVuaWZvcm1EYXRhLndvcmxkVHJhbnNmb3JtTWF0cml4LFxuICAgICAgd29ybGRDb2xvcjogd29ybGRDb2xvciB8fCBjdXJyZW50R2xvYmFsVW5pZm9ybURhdGEud29ybGRDb2xvcixcbiAgICAgIG9mZnNldDogb2Zmc2V0IHx8IGN1cnJlbnRHbG9iYWxVbmlmb3JtRGF0YS5vZmZzZXQsXG4gICAgICBiaW5kR3JvdXA6IG51bGxcbiAgICB9O1xuICAgIGNvbnN0IHVuaWZvcm1Hcm91cCA9IHRoaXMuX3VuaWZvcm1zUG9vbC5wb3AoKSB8fCB0aGlzLl9jcmVhdGVVbmlmb3JtcygpO1xuICAgIHRoaXMuX2FjdGl2ZVVuaWZvcm1zLnB1c2godW5pZm9ybUdyb3VwKTtcbiAgICBjb25zdCB1bmlmb3JtcyA9IHVuaWZvcm1Hcm91cC51bmlmb3JtcztcbiAgICB1bmlmb3Jtcy51UHJvamVjdGlvbk1hdHJpeCA9IGdsb2JhbFVuaWZvcm1EYXRhLnByb2plY3Rpb25NYXRyaXg7XG4gICAgdW5pZm9ybXMudVJlc29sdXRpb24gPSBnbG9iYWxVbmlmb3JtRGF0YS5yZXNvbHV0aW9uO1xuICAgIHVuaWZvcm1zLnVXb3JsZFRyYW5zZm9ybU1hdHJpeC5jb3B5RnJvbShnbG9iYWxVbmlmb3JtRGF0YS53b3JsZFRyYW5zZm9ybU1hdHJpeCk7XG4gICAgdW5pZm9ybXMudVdvcmxkVHJhbnNmb3JtTWF0cml4LnR4IC09IGdsb2JhbFVuaWZvcm1EYXRhLm9mZnNldC54O1xuICAgIHVuaWZvcm1zLnVXb3JsZFRyYW5zZm9ybU1hdHJpeC50eSAtPSBnbG9iYWxVbmlmb3JtRGF0YS5vZmZzZXQueTtcbiAgICBjb2xvcjMyQml0VG9Vbmlmb3JtKFxuICAgICAgZ2xvYmFsVW5pZm9ybURhdGEud29ybGRDb2xvcixcbiAgICAgIHVuaWZvcm1zLnVXb3JsZENvbG9yQWxwaGEsXG4gICAgICAwXG4gICAgKTtcbiAgICB1bmlmb3JtR3JvdXAudXBkYXRlKCk7XG4gICAgbGV0IGJpbmRHcm91cDtcbiAgICBpZiAodGhpcy5fcmVuZGVyZXIucmVuZGVyUGlwZXMudW5pZm9ybUJhdGNoKSB7XG4gICAgICBiaW5kR3JvdXAgPSB0aGlzLl9yZW5kZXJlci5yZW5kZXJQaXBlcy51bmlmb3JtQmF0Y2guZ2V0VW5pZm9ybUJpbmRHcm91cCh1bmlmb3JtR3JvdXAsIGZhbHNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYmluZEdyb3VwID0gdGhpcy5fYmluZEdyb3VwUG9vbC5wb3AoKSB8fCBuZXcgQmluZEdyb3VwKCk7XG4gICAgICB0aGlzLl9hY3RpdmVCaW5kR3JvdXBzLnB1c2goYmluZEdyb3VwKTtcbiAgICAgIGJpbmRHcm91cC5zZXRSZXNvdXJjZSh1bmlmb3JtR3JvdXAsIDApO1xuICAgIH1cbiAgICBnbG9iYWxVbmlmb3JtRGF0YS5iaW5kR3JvdXAgPSBiaW5kR3JvdXA7XG4gICAgdGhpcy5fY3VycmVudEdsb2JhbFVuaWZvcm1EYXRhID0gZ2xvYmFsVW5pZm9ybURhdGE7XG4gIH1cbiAgcHVzaChvcHRpb25zKSB7XG4gICAgdGhpcy5iaW5kKG9wdGlvbnMpO1xuICAgIHRoaXMuX2dsb2JhbFVuaWZvcm1EYXRhU3RhY2tbdGhpcy5fc3RhY2tJbmRleCsrXSA9IHRoaXMuX2N1cnJlbnRHbG9iYWxVbmlmb3JtRGF0YTtcbiAgfVxuICBwb3AoKSB7XG4gICAgdGhpcy5fY3VycmVudEdsb2JhbFVuaWZvcm1EYXRhID0gdGhpcy5fZ2xvYmFsVW5pZm9ybURhdGFTdGFja1stLXRoaXMuX3N0YWNrSW5kZXggLSAxXTtcbiAgICBpZiAodGhpcy5fcmVuZGVyZXIudHlwZSA9PT0gUmVuZGVyZXJUeXBlLldFQkdMKSB7XG4gICAgICB0aGlzLl9jdXJyZW50R2xvYmFsVW5pZm9ybURhdGEuYmluZEdyb3VwLnJlc291cmNlc1swXS51cGRhdGUoKTtcbiAgICB9XG4gIH1cbiAgZ2V0IGJpbmRHcm91cCgpIHtcbiAgICByZXR1cm4gdGhpcy5fY3VycmVudEdsb2JhbFVuaWZvcm1EYXRhLmJpbmRHcm91cDtcbiAgfVxuICBnZXQgZ2xvYmFsVW5pZm9ybURhdGEoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2N1cnJlbnRHbG9iYWxVbmlmb3JtRGF0YTtcbiAgfVxuICBnZXQgdW5pZm9ybUdyb3VwKCkge1xuICAgIHJldHVybiB0aGlzLl9jdXJyZW50R2xvYmFsVW5pZm9ybURhdGEuYmluZEdyb3VwLnJlc291cmNlc1swXTtcbiAgfVxuICBfY3JlYXRlVW5pZm9ybXMoKSB7XG4gICAgY29uc3QgZ2xvYmFsVW5pZm9ybXMgPSBuZXcgVW5pZm9ybUdyb3VwKHtcbiAgICAgIHVQcm9qZWN0aW9uTWF0cml4OiB7IHZhbHVlOiBuZXcgTWF0cml4KCksIHR5cGU6IFwibWF0M3gzPGYzMj5cIiB9LFxuICAgICAgdVdvcmxkVHJhbnNmb3JtTWF0cml4OiB7IHZhbHVlOiBuZXcgTWF0cml4KCksIHR5cGU6IFwibWF0M3gzPGYzMj5cIiB9LFxuICAgICAgLy8gVE9ETyAtIHNvbWVvbmUgc21hcnQgLSBzZXQgdGhpcyB0byBiZSBhIHVub3JtOHg0IHJhdGhlciB0aGFuIGEgdmVjNDxmMzI+XG4gICAgICB1V29ybGRDb2xvckFscGhhOiB7IHZhbHVlOiBuZXcgRmxvYXQzMkFycmF5KDQpLCB0eXBlOiBcInZlYzQ8ZjMyPlwiIH0sXG4gICAgICB1UmVzb2x1dGlvbjogeyB2YWx1ZTogWzAsIDBdLCB0eXBlOiBcInZlYzI8ZjMyPlwiIH1cbiAgICB9LCB7XG4gICAgICBpc1N0YXRpYzogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBnbG9iYWxVbmlmb3JtcztcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gbnVsbDtcbiAgfVxufVxuLyoqIEBpZ25vcmUgKi9cbkdsb2JhbFVuaWZvcm1TeXN0ZW0uZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHTFN5c3RlbSxcbiAgICBFeHRlbnNpb25UeXBlLldlYkdQVVN5c3RlbSxcbiAgICBFeHRlbnNpb25UeXBlLkNhbnZhc1N5c3RlbVxuICBdLFxuICBuYW1lOiBcImdsb2JhbFVuaWZvcm1zXCJcbn07XG5cbmV4cG9ydCB7IEdsb2JhbFVuaWZvcm1TeXN0ZW0gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUdsb2JhbFVuaWZvcm1TeXN0ZW0ubWpzLm1hcFxuIiwiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSB9IGZyb20gJy4uLy4uLy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuaW1wb3J0IHsgVGlja2VyIH0gZnJvbSAnLi4vLi4vLi4vdGlja2VyL1RpY2tlci5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmxldCB1aWQgPSAxO1xuY2xhc3MgU2NoZWR1bGVyU3lzdGVtIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5fdGFza3MgPSBbXTtcbiAgICAvKiogYSBzbWFsbCBvZmYgc2V0IHRvIGFwcGx5IHRvIHRoZSByZXBlYXQgc2NoZWR1bGVzLiBUaGlzIGlzIGp1c3QgdG8gbWFrZSBzdXJlIHRoZXkgcnVuIGF0IHNsaWdodGx5IGRpZmZlcmVudCB0aW1lcyAqL1xuICAgIHRoaXMuX29mZnNldCA9IDA7XG4gIH1cbiAgLyoqIEluaXRpYWxpemVzIHRoZSBzY2hlZHVsZXIgc3lzdGVtIGFuZCBzdGFydHMgdGhlIHRpY2tlci4gKi9cbiAgaW5pdCgpIHtcbiAgICBUaWNrZXIuc3lzdGVtLmFkZCh0aGlzLl91cGRhdGUsIHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBTY2hlZHVsZXMgYSByZXBlYXRpbmcgdGFzay5cbiAgICogQHBhcmFtIGZ1bmMgLSBUaGUgZnVuY3Rpb24gdG8gZXhlY3V0ZS5cbiAgICogQHBhcmFtIGR1cmF0aW9uIC0gVGhlIGludGVydmFsIGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kcy5cbiAgICogQHBhcmFtIHVzZU9mZnNldCAtIHRoaXMgd2lsbCBzcHJlYWQgb3V0IHRhc2tzIHNvIHRoYXQgdGhleSBkbyBub3QgYWxsIHJ1biBhdCB0aGUgc2FtZSB0aW1lXG4gICAqIEByZXR1cm5zIFRoZSB1bmlxdWUgaWRlbnRpZmllciBmb3IgdGhlIHNjaGVkdWxlZCB0YXNrLlxuICAgKi9cbiAgcmVwZWF0KGZ1bmMsIGR1cmF0aW9uLCB1c2VPZmZzZXQgPSB0cnVlKSB7XG4gICAgY29uc3QgaWQgPSB1aWQrKztcbiAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICBpZiAodXNlT2Zmc2V0KSB7XG4gICAgICB0aGlzLl9vZmZzZXQgKz0gMWUzO1xuICAgICAgb2Zmc2V0ID0gdGhpcy5fb2Zmc2V0O1xuICAgIH1cbiAgICB0aGlzLl90YXNrcy5wdXNoKHtcbiAgICAgIGZ1bmMsXG4gICAgICBkdXJhdGlvbixcbiAgICAgIHN0YXJ0OiBwZXJmb3JtYW5jZS5ub3coKSxcbiAgICAgIG9mZnNldCxcbiAgICAgIGxhc3Q6IHBlcmZvcm1hbmNlLm5vdygpLFxuICAgICAgcmVwZWF0OiB0cnVlLFxuICAgICAgaWRcbiAgICB9KTtcbiAgICByZXR1cm4gaWQ7XG4gIH1cbiAgLyoqXG4gICAqIENhbmNlbHMgYSBzY2hlZHVsZWQgdGFzay5cbiAgICogQHBhcmFtIGlkIC0gVGhlIHVuaXF1ZSBpZGVudGlmaWVyIG9mIHRoZSB0YXNrIHRvIGNhbmNlbC5cbiAgICovXG4gIGNhbmNlbChpZCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fdGFza3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh0aGlzLl90YXNrc1tpXS5pZCA9PT0gaWQpIHtcbiAgICAgICAgdGhpcy5fdGFza3Muc3BsaWNlKGksIDEpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBVcGRhdGVzIGFuZCBleGVjdXRlcyB0aGUgc2NoZWR1bGVkIHRhc2tzLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3VwZGF0ZSgpIHtcbiAgICBjb25zdCBub3cgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX3Rhc2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCB0YXNrID0gdGhpcy5fdGFza3NbaV07XG4gICAgICBpZiAobm93IC0gdGFzay5vZmZzZXQgLSB0YXNrLmxhc3QgPj0gdGFzay5kdXJhdGlvbikge1xuICAgICAgICBjb25zdCBlbGFwc2VkID0gbm93IC0gdGFzay5zdGFydDtcbiAgICAgICAgdGFzay5mdW5jKGVsYXBzZWQpO1xuICAgICAgICB0YXNrLmxhc3QgPSBub3c7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBEZXN0cm95cyB0aGUgc2NoZWR1bGVyIHN5c3RlbSBhbmQgcmVtb3ZlcyBhbGwgdGFza3MuXG4gICAqIEBpbnRlcm5hbFxuICAgKiBAaWdub3JlXG4gICAqL1xuICBkZXN0cm95KCkge1xuICAgIFRpY2tlci5zeXN0ZW0ucmVtb3ZlKHRoaXMuX3VwZGF0ZSwgdGhpcyk7XG4gICAgdGhpcy5fdGFza3MubGVuZ3RoID0gMDtcbiAgfVxufVxuLyoqIEBpZ25vcmUgKi9cblNjaGVkdWxlclN5c3RlbS5leHRlbnNpb24gPSB7XG4gIHR5cGU6IFtcbiAgICBFeHRlbnNpb25UeXBlLldlYkdMU3lzdGVtLFxuICAgIEV4dGVuc2lvblR5cGUuV2ViR1BVU3lzdGVtLFxuICAgIEV4dGVuc2lvblR5cGUuQ2FudmFzU3lzdGVtXG4gIF0sXG4gIG5hbWU6IFwic2NoZWR1bGVyXCIsXG4gIHByaW9yaXR5OiAwXG59O1xuXG5leHBvcnQgeyBTY2hlZHVsZXJTeXN0ZW0gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNjaGVkdWxlclN5c3RlbS5tanMubWFwXG4iLCJpbXBvcnQgeyBET01BZGFwdGVyIH0gZnJvbSAnLi4vZW52aXJvbm1lbnQvYWRhcHRlci5tanMnO1xuaW1wb3J0IHsgVkVSU0lPTiB9IGZyb20gJy4vY29uc3QubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5sZXQgc2FpZEhlbGxvID0gZmFsc2U7XG5mdW5jdGlvbiBzYXlIZWxsbyh0eXBlKSB7XG4gIGlmIChzYWlkSGVsbG8pIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKERPTUFkYXB0ZXIuZ2V0KCkuZ2V0TmF2aWdhdG9yKCkudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcImNocm9tZVwiKSA+IC0xKSB7XG4gICAgY29uc3QgYXJncyA9IFtcbiAgICAgIGAlYyAgJWMgICVjICAlYyAgJWMgUGl4aUpTICVjIHYke1ZFUlNJT059ICgke3R5cGV9KSBodHRwOi8vd3d3LnBpeGlqcy5jb20vXG5cbmAsXG4gICAgICBcImJhY2tncm91bmQ6ICNFNzIyNjQ7IHBhZGRpbmc6NXB4IDA7XCIsXG4gICAgICBcImJhY2tncm91bmQ6ICM2Q0EyRUE7IHBhZGRpbmc6NXB4IDA7XCIsXG4gICAgICBcImJhY2tncm91bmQ6ICNCNUQzM0Q7IHBhZGRpbmc6NXB4IDA7XCIsXG4gICAgICBcImJhY2tncm91bmQ6ICNGRUQyM0Y7IHBhZGRpbmc6NXB4IDA7XCIsXG4gICAgICBcImNvbG9yOiAjRkZGRkZGOyBiYWNrZ3JvdW5kOiAjRTcyMjY0OyBwYWRkaW5nOjVweCAwO1wiLFxuICAgICAgXCJjb2xvcjogI0U3MjI2NDsgYmFja2dyb3VuZDogI0ZGRkZGRjsgcGFkZGluZzo1cHggMDtcIlxuICAgIF07XG4gICAgZ2xvYmFsVGhpcy5jb25zb2xlLmxvZyguLi5hcmdzKTtcbiAgfSBlbHNlIGlmIChnbG9iYWxUaGlzLmNvbnNvbGUpIHtcbiAgICBnbG9iYWxUaGlzLmNvbnNvbGUubG9nKGBQaXhpSlMgJHtWRVJTSU9OfSAtICR7dHlwZX0gLSBodHRwOi8vd3d3LnBpeGlqcy5jb20vYCk7XG4gIH1cbiAgc2FpZEhlbGxvID0gdHJ1ZTtcbn1cblxuZXhwb3J0IHsgc2F5SGVsbG8gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNheUhlbGxvLm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi8uLi8uLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IHNheUhlbGxvIH0gZnJvbSAnLi4vLi4vLi4vLi4vdXRpbHMvc2F5SGVsbG8ubWpzJztcbmltcG9ydCB7IFJlbmRlcmVyVHlwZSB9IGZyb20gJy4uLy4uL3R5cGVzLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgSGVsbG9TeXN0ZW0ge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gIH1cbiAgLyoqXG4gICAqIEl0IGFsbCBzdGFydHMgaGVyZSEgVGhpcyBpbml0aWF0ZXMgZXZlcnkgc3lzdGVtLCBwYXNzaW5nIGluIHRoZSBvcHRpb25zIGZvciBhbnkgc3lzdGVtIGJ5IG5hbWUuXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gdGhlIGNvbmZpZyBmb3IgdGhlIHJlbmRlcmVyIGFuZCBhbGwgaXRzIHN5c3RlbXNcbiAgICovXG4gIGluaXQob3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zLmhlbGxvKSB7XG4gICAgICBsZXQgbmFtZSA9IHRoaXMuX3JlbmRlcmVyLm5hbWU7XG4gICAgICBpZiAodGhpcy5fcmVuZGVyZXIudHlwZSA9PT0gUmVuZGVyZXJUeXBlLldFQkdMKSB7XG4gICAgICAgIG5hbWUgKz0gYCAke3RoaXMuX3JlbmRlcmVyLmNvbnRleHQud2ViR0xWZXJzaW9ufWA7XG4gICAgICB9XG4gICAgICBzYXlIZWxsbyhuYW1lKTtcbiAgICB9XG4gIH1cbn1cbi8qKiBAaWdub3JlICovXG5IZWxsb1N5c3RlbS5leHRlbnNpb24gPSB7XG4gIHR5cGU6IFtcbiAgICBFeHRlbnNpb25UeXBlLldlYkdMU3lzdGVtLFxuICAgIEV4dGVuc2lvblR5cGUuV2ViR1BVU3lzdGVtLFxuICAgIEV4dGVuc2lvblR5cGUuQ2FudmFzU3lzdGVtXG4gIF0sXG4gIG5hbWU6IFwiaGVsbG9cIixcbiAgcHJpb3JpdHk6IC0yXG59O1xuLyoqIFRoZSBkZWZhdWx0IG9wdGlvbnMgZm9yIHRoZSBzeXN0ZW0uICovXG5IZWxsb1N5c3RlbS5kZWZhdWx0T3B0aW9ucyA9IHtcbiAgLyoqIHtAbGluayBXZWJHTE9wdGlvbnMuaGVsbG99ICovXG4gIGhlbGxvOiBmYWxzZVxufTtcblxuZXhwb3J0IHsgSGVsbG9TeXN0ZW0gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUhlbGxvU3lzdGVtLm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gY2xlYW5IYXNoKGhhc2gpIHtcbiAgbGV0IGNsZWFuID0gZmFsc2U7XG4gIGZvciAoY29uc3QgaSBpbiBoYXNoKSB7XG4gICAgaWYgKGhhc2hbaV0gPT0gdm9pZCAwKSB7XG4gICAgICBjbGVhbiA9IHRydWU7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgaWYgKCFjbGVhbilcbiAgICByZXR1cm4gaGFzaDtcbiAgY29uc3QgY2xlYW5IYXNoMiA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICBmb3IgKGNvbnN0IGkgaW4gaGFzaCkge1xuICAgIGNvbnN0IHZhbHVlID0gaGFzaFtpXTtcbiAgICBpZiAodmFsdWUpIHtcbiAgICAgIGNsZWFuSGFzaDJbaV0gPSB2YWx1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGNsZWFuSGFzaDI7XG59XG5mdW5jdGlvbiBjbGVhbkFycmF5KGFycikge1xuICBsZXQgb2Zmc2V0ID0gMDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoYXJyW2ldID09IHZvaWQgMCkge1xuICAgICAgb2Zmc2V0Kys7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFycltpIC0gb2Zmc2V0XSA9IGFycltpXTtcbiAgICB9XG4gIH1cbiAgYXJyLmxlbmd0aCAtPSBvZmZzZXQ7XG4gIHJldHVybiBhcnI7XG59XG5cbmV4cG9ydCB7IGNsZWFuQXJyYXksIGNsZWFuSGFzaCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2xlYW4ubWpzLm1hcFxuIiwiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSB9IGZyb20gJy4uLy4uLy4uLy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuaW1wb3J0IHsgY2xlYW5IYXNoLCBjbGVhbkFycmF5IH0gZnJvbSAnLi4vLi4vLi4vLi4vdXRpbHMvZGF0YS9jbGVhbi5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmxldCByZW5kZXJhYmxlR0NUaWNrID0gMDtcbmNvbnN0IF9SZW5kZXJhYmxlR0NTeXN0ZW0gPSBjbGFzcyBfUmVuZGVyYWJsZUdDU3lzdGVtIHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgUmVuZGVyYWJsZUdDU3lzdGVtIGluc3RhbmNlLlxuICAgKiBAcGFyYW0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBnYXJiYWdlIGNvbGxlY3Rpb24gc3lzdGVtIHdvcmtzIGZvclxuICAgKi9cbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICAvKiogQXJyYXkgb2YgcmVuZGVyYWJsZXMgYmVpbmcgdHJhY2tlZCBmb3IgZ2FyYmFnZSBjb2xsZWN0aW9uICovXG4gICAgdGhpcy5fbWFuYWdlZFJlbmRlcmFibGVzID0gW107XG4gICAgLyoqIEFycmF5IG9mIGhhc2ggb2JqZWN0cyBiZWluZyB0cmFja2VkIGZvciBjbGVhbnVwICovXG4gICAgdGhpcy5fbWFuYWdlZEhhc2hlcyA9IFtdO1xuICAgIC8qKiBBcnJheSBvZiBhcnJheXMgYmVpbmcgdHJhY2tlZCBmb3IgY2xlYW51cCAqL1xuICAgIHRoaXMuX21hbmFnZWRBcnJheXMgPSBbXTtcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICB9XG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyB0aGUgZ2FyYmFnZSBjb2xsZWN0aW9uIHN5c3RlbSB3aXRoIHRoZSBwcm92aWRlZCBvcHRpb25zLlxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIENvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgdGhlIHJlbmRlcmVyXG4gICAqL1xuICBpbml0KG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0geyAuLi5fUmVuZGVyYWJsZUdDU3lzdGVtLmRlZmF1bHRPcHRpb25zLCAuLi5vcHRpb25zIH07XG4gICAgdGhpcy5tYXhVbnVzZWRUaW1lID0gb3B0aW9ucy5yZW5kZXJhYmxlR0NNYXhVbnVzZWRUaW1lO1xuICAgIHRoaXMuX2ZyZXF1ZW5jeSA9IG9wdGlvbnMucmVuZGVyYWJsZUdDRnJlcXVlbmN5O1xuICAgIHRoaXMuZW5hYmxlZCA9IG9wdGlvbnMucmVuZGVyYWJsZUdDQWN0aXZlO1xuICB9XG4gIC8qKlxuICAgKiBHZXRzIHdoZXRoZXIgdGhlIGdhcmJhZ2UgY29sbGVjdGlvbiBzeXN0ZW0gaXMgY3VycmVudGx5IGVuYWJsZWQuXG4gICAqIEByZXR1cm5zIFRydWUgaWYgR0MgaXMgZW5hYmxlZCwgZmFsc2Ugb3RoZXJ3aXNlXG4gICAqL1xuICBnZXQgZW5hYmxlZCgpIHtcbiAgICByZXR1cm4gISF0aGlzLl9oYW5kbGVyO1xuICB9XG4gIC8qKlxuICAgKiBFbmFibGVzIG9yIGRpc2FibGVzIHRoZSBnYXJiYWdlIGNvbGxlY3Rpb24gc3lzdGVtLlxuICAgKiBXaGVuIGVuYWJsZWQsIHNjaGVkdWxlcyBwZXJpb2RpYyBjbGVhbnVwIG9mIHJlc291cmNlcy5cbiAgICogV2hlbiBkaXNhYmxlZCwgY2FuY2VscyBhbGwgc2NoZWR1bGVkIGNsZWFudXBzLlxuICAgKi9cbiAgc2V0IGVuYWJsZWQodmFsdWUpIHtcbiAgICBpZiAodGhpcy5lbmFibGVkID09PSB2YWx1ZSlcbiAgICAgIHJldHVybjtcbiAgICBpZiAodmFsdWUpIHtcbiAgICAgIHRoaXMuX2hhbmRsZXIgPSB0aGlzLl9yZW5kZXJlci5zY2hlZHVsZXIucmVwZWF0KFxuICAgICAgICAoKSA9PiB0aGlzLnJ1bigpLFxuICAgICAgICB0aGlzLl9mcmVxdWVuY3ksXG4gICAgICAgIGZhbHNlXG4gICAgICApO1xuICAgICAgdGhpcy5faGFzaEhhbmRsZXIgPSB0aGlzLl9yZW5kZXJlci5zY2hlZHVsZXIucmVwZWF0KFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgZm9yIChjb25zdCBoYXNoIG9mIHRoaXMuX21hbmFnZWRIYXNoZXMpIHtcbiAgICAgICAgICAgIGhhc2guY29udGV4dFtoYXNoLmhhc2hdID0gY2xlYW5IYXNoKGhhc2guY29udGV4dFtoYXNoLmhhc2hdKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHRoaXMuX2ZyZXF1ZW5jeVxuICAgICAgKTtcbiAgICAgIHRoaXMuX2FycmF5SGFuZGxlciA9IHRoaXMuX3JlbmRlcmVyLnNjaGVkdWxlci5yZXBlYXQoXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICBmb3IgKGNvbnN0IGFycmF5IG9mIHRoaXMuX21hbmFnZWRBcnJheXMpIHtcbiAgICAgICAgICAgIGNsZWFuQXJyYXkoYXJyYXkuY29udGV4dFthcnJheS5oYXNoXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB0aGlzLl9mcmVxdWVuY3lcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3JlbmRlcmVyLnNjaGVkdWxlci5jYW5jZWwodGhpcy5faGFuZGxlcik7XG4gICAgICB0aGlzLl9yZW5kZXJlci5zY2hlZHVsZXIuY2FuY2VsKHRoaXMuX2hhc2hIYW5kbGVyKTtcbiAgICAgIHRoaXMuX3JlbmRlcmVyLnNjaGVkdWxlci5jYW5jZWwodGhpcy5fYXJyYXlIYW5kbGVyKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEFkZHMgYSBoYXNoIHRhYmxlIHRvIGJlIG1hbmFnZWQgYnkgdGhlIGdhcmJhZ2UgY29sbGVjdG9yLlxuICAgKiBAcGFyYW0gY29udGV4dCAtIFRoZSBvYmplY3QgY29udGFpbmluZyB0aGUgaGFzaCB0YWJsZVxuICAgKiBAcGFyYW0gaGFzaCAtIFRoZSBwcm9wZXJ0eSBuYW1lIG9mIHRoZSBoYXNoIHRhYmxlXG4gICAqL1xuICBhZGRNYW5hZ2VkSGFzaChjb250ZXh0LCBoYXNoKSB7XG4gICAgdGhpcy5fbWFuYWdlZEhhc2hlcy5wdXNoKHsgY29udGV4dCwgaGFzaCB9KTtcbiAgfVxuICAvKipcbiAgICogQWRkcyBhbiBhcnJheSB0byBiZSBtYW5hZ2VkIGJ5IHRoZSBnYXJiYWdlIGNvbGxlY3Rvci5cbiAgICogQHBhcmFtIGNvbnRleHQgLSBUaGUgb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGFycmF5XG4gICAqIEBwYXJhbSBoYXNoIC0gVGhlIHByb3BlcnR5IG5hbWUgb2YgdGhlIGFycmF5XG4gICAqL1xuICBhZGRNYW5hZ2VkQXJyYXkoY29udGV4dCwgaGFzaCkge1xuICAgIHRoaXMuX21hbmFnZWRBcnJheXMucHVzaCh7IGNvbnRleHQsIGhhc2ggfSk7XG4gIH1cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIEdDIHRpbWVzdGFtcCBhbmQgdHJhY2tpbmcgYmVmb3JlIHJlbmRlcmluZy5cbiAgICogQHBhcmFtIG9wdGlvbnMgLSBUaGUgcmVuZGVyIG9wdGlvbnNcbiAgICogQHBhcmFtIG9wdGlvbnMuY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciB0byByZW5kZXJcbiAgICovXG4gIHByZXJlbmRlcih7XG4gICAgY29udGFpbmVyXG4gIH0pIHtcbiAgICB0aGlzLl9ub3cgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICBjb250YWluZXIucmVuZGVyR3JvdXAuZ2NUaWNrID0gcmVuZGVyYWJsZUdDVGljaysrO1xuICAgIHRoaXMuX3VwZGF0ZUluc3RydWN0aW9uR0NUaWNrKGNvbnRhaW5lci5yZW5kZXJHcm91cCwgY29udGFpbmVyLnJlbmRlckdyb3VwLmdjVGljayk7XG4gIH1cbiAgLyoqXG4gICAqIFN0YXJ0cyB0cmFja2luZyBhIHJlbmRlcmFibGUgZm9yIGdhcmJhZ2UgY29sbGVjdGlvbi5cbiAgICogQHBhcmFtIHJlbmRlcmFibGUgLSBUaGUgcmVuZGVyYWJsZSB0byB0cmFja1xuICAgKi9cbiAgYWRkUmVuZGVyYWJsZShyZW5kZXJhYmxlKSB7XG4gICAgaWYgKCF0aGlzLmVuYWJsZWQpXG4gICAgICByZXR1cm47XG4gICAgaWYgKHJlbmRlcmFibGUuX2xhc3RVc2VkID09PSAtMSkge1xuICAgICAgdGhpcy5fbWFuYWdlZFJlbmRlcmFibGVzLnB1c2gocmVuZGVyYWJsZSk7XG4gICAgICByZW5kZXJhYmxlLm9uY2UoXCJkZXN0cm95ZWRcIiwgdGhpcy5fcmVtb3ZlUmVuZGVyYWJsZSwgdGhpcyk7XG4gICAgfVxuICAgIHJlbmRlcmFibGUuX2xhc3RVc2VkID0gdGhpcy5fbm93O1xuICB9XG4gIC8qKlxuICAgKiBQZXJmb3JtcyBnYXJiYWdlIGNvbGxlY3Rpb24gYnkgY2xlYW5pbmcgdXAgdW51c2VkIHJlbmRlcmFibGVzLlxuICAgKiBSZW1vdmVzIHJlbmRlcmFibGVzIHRoYXQgaGF2ZW4ndCBiZWVuIHVzZWQgZm9yIGxvbmdlciB0aGFuIG1heFVudXNlZFRpbWUuXG4gICAqL1xuICBydW4oKSB7XG4gICAgY29uc3Qgbm93ID0gdGhpcy5fbm93O1xuICAgIGNvbnN0IG1hbmFnZWRSZW5kZXJhYmxlcyA9IHRoaXMuX21hbmFnZWRSZW5kZXJhYmxlcztcbiAgICBjb25zdCByZW5kZXJQaXBlcyA9IHRoaXMuX3JlbmRlcmVyLnJlbmRlclBpcGVzO1xuICAgIGxldCBvZmZzZXQgPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWFuYWdlZFJlbmRlcmFibGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCByZW5kZXJhYmxlID0gbWFuYWdlZFJlbmRlcmFibGVzW2ldO1xuICAgICAgaWYgKHJlbmRlcmFibGUgPT09IG51bGwpIHtcbiAgICAgICAgb2Zmc2V0Kys7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVuZGVyR3JvdXAgPSByZW5kZXJhYmxlLnJlbmRlckdyb3VwID8/IHJlbmRlcmFibGUucGFyZW50UmVuZGVyR3JvdXA7XG4gICAgICBjb25zdCBjdXJyZW50VGljayA9IHJlbmRlckdyb3VwPy5pbnN0cnVjdGlvblNldD8uZ2NUaWNrID8/IC0xO1xuICAgICAgaWYgKChyZW5kZXJHcm91cD8uZ2NUaWNrID8/IDApID09PSBjdXJyZW50VGljaykge1xuICAgICAgICByZW5kZXJhYmxlLl9sYXN0VXNlZCA9IG5vdztcbiAgICAgIH1cbiAgICAgIGlmIChub3cgLSByZW5kZXJhYmxlLl9sYXN0VXNlZCA+IHRoaXMubWF4VW51c2VkVGltZSkge1xuICAgICAgICBpZiAoIXJlbmRlcmFibGUuZGVzdHJveWVkKSB7XG4gICAgICAgICAgY29uc3QgcnAgPSByZW5kZXJQaXBlcztcbiAgICAgICAgICBpZiAocmVuZGVyR3JvdXApXG4gICAgICAgICAgICByZW5kZXJHcm91cC5zdHJ1Y3R1cmVEaWRDaGFuZ2UgPSB0cnVlO1xuICAgICAgICAgIHJwW3JlbmRlcmFibGUucmVuZGVyUGlwZUlkXS5kZXN0cm95UmVuZGVyYWJsZShyZW5kZXJhYmxlKTtcbiAgICAgICAgfVxuICAgICAgICByZW5kZXJhYmxlLl9sYXN0VXNlZCA9IC0xO1xuICAgICAgICBvZmZzZXQrKztcbiAgICAgICAgcmVuZGVyYWJsZS5vZmYoXCJkZXN0cm95ZWRcIiwgdGhpcy5fcmVtb3ZlUmVuZGVyYWJsZSwgdGhpcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtYW5hZ2VkUmVuZGVyYWJsZXNbaSAtIG9mZnNldF0gPSByZW5kZXJhYmxlO1xuICAgICAgfVxuICAgIH1cbiAgICBtYW5hZ2VkUmVuZGVyYWJsZXMubGVuZ3RoIC09IG9mZnNldDtcbiAgfVxuICAvKiogQ2xlYW5zIHVwIHRoZSBnYXJiYWdlIGNvbGxlY3Rpb24gc3lzdGVtLiBEaXNhYmxlcyBHQyBhbmQgcmVtb3ZlcyBhbGwgdHJhY2tlZCByZXNvdXJjZXMuICovXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5lbmFibGVkID0gZmFsc2U7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSBudWxsO1xuICAgIHRoaXMuX21hbmFnZWRSZW5kZXJhYmxlcy5sZW5ndGggPSAwO1xuICAgIHRoaXMuX21hbmFnZWRIYXNoZXMubGVuZ3RoID0gMDtcbiAgICB0aGlzLl9tYW5hZ2VkQXJyYXlzLmxlbmd0aCA9IDA7XG4gIH1cbiAgLyoqXG4gICAqIFJlbW92ZXMgYSByZW5kZXJhYmxlIGZyb20gYmVpbmcgdHJhY2tlZCB3aGVuIGl0J3MgZGVzdHJveWVkLlxuICAgKiBAcGFyYW0gcmVuZGVyYWJsZSAtIFRoZSByZW5kZXJhYmxlIHRvIHN0b3AgdHJhY2tpbmdcbiAgICovXG4gIF9yZW1vdmVSZW5kZXJhYmxlKHJlbmRlcmFibGUpIHtcbiAgICBjb25zdCBpbmRleCA9IHRoaXMuX21hbmFnZWRSZW5kZXJhYmxlcy5pbmRleE9mKHJlbmRlcmFibGUpO1xuICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICByZW5kZXJhYmxlLm9mZihcImRlc3Ryb3llZFwiLCB0aGlzLl9yZW1vdmVSZW5kZXJhYmxlLCB0aGlzKTtcbiAgICAgIHRoaXMuX21hbmFnZWRSZW5kZXJhYmxlc1tpbmRleF0gPSBudWxsO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgR0MgdGljayBjb3VudGVyIGZvciBhIHJlbmRlciBncm91cCBhbmQgaXRzIGNoaWxkcmVuLlxuICAgKiBAcGFyYW0gcmVuZGVyR3JvdXAgLSBUaGUgcmVuZGVyIGdyb3VwIHRvIHVwZGF0ZVxuICAgKiBAcGFyYW0gZ2NUaWNrIC0gVGhlIG5ldyB0aWNrIHZhbHVlXG4gICAqL1xuICBfdXBkYXRlSW5zdHJ1Y3Rpb25HQ1RpY2socmVuZGVyR3JvdXAsIGdjVGljaykge1xuICAgIHJlbmRlckdyb3VwLmluc3RydWN0aW9uU2V0LmdjVGljayA9IGdjVGljaztcbiAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHJlbmRlckdyb3VwLnJlbmRlckdyb3VwQ2hpbGRyZW4pIHtcbiAgICAgIHRoaXMuX3VwZGF0ZUluc3RydWN0aW9uR0NUaWNrKGNoaWxkLCBnY1RpY2spO1xuICAgIH1cbiAgfVxufTtcbi8qKlxuICogRXh0ZW5zaW9uIG1ldGFkYXRhIGZvciByZWdpc3RlcmluZyB0aGlzIHN5c3RlbSB3aXRoIHRoZSByZW5kZXJlci5cbiAqIEBpZ25vcmVcbiAqL1xuX1JlbmRlcmFibGVHQ1N5c3RlbS5leHRlbnNpb24gPSB7XG4gIHR5cGU6IFtcbiAgICBFeHRlbnNpb25UeXBlLldlYkdMU3lzdGVtLFxuICAgIEV4dGVuc2lvblR5cGUuV2ViR1BVU3lzdGVtXG4gIF0sXG4gIG5hbWU6IFwicmVuZGVyYWJsZUdDXCIsXG4gIHByaW9yaXR5OiAwXG59O1xuLyoqXG4gKiBEZWZhdWx0IGNvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgdGhlIGdhcmJhZ2UgY29sbGVjdGlvbiBzeXN0ZW0uXG4gKiBUaGVzZSBjYW4gYmUgb3ZlcnJpZGRlbiB3aGVuIGluaXRpYWxpemluZyB0aGUgcmVuZGVyZXIuXG4gKi9cbl9SZW5kZXJhYmxlR0NTeXN0ZW0uZGVmYXVsdE9wdGlvbnMgPSB7XG4gIC8qKiBFbmFibGUvZGlzYWJsZSB0aGUgZ2FyYmFnZSBjb2xsZWN0b3IgKi9cbiAgcmVuZGVyYWJsZUdDQWN0aXZlOiB0cnVlLFxuICAvKiogVGltZSBpbiBtcyBiZWZvcmUgYW4gdW51c2VkIHJlc291cmNlIGlzIGNvbGxlY3RlZCAoZGVmYXVsdCAxIG1pbnV0ZSkgKi9cbiAgcmVuZGVyYWJsZUdDTWF4VW51c2VkVGltZTogNmU0LFxuICAvKiogSG93IG9mdGVuIHRvIHJ1biBnYXJiYWdlIGNvbGxlY3Rpb24gaW4gbXMgKGRlZmF1bHQgMzAgc2Vjb25kcykgKi9cbiAgcmVuZGVyYWJsZUdDRnJlcXVlbmN5OiAzZTRcbn07XG5sZXQgUmVuZGVyYWJsZUdDU3lzdGVtID0gX1JlbmRlcmFibGVHQ1N5c3RlbTtcblxuZXhwb3J0IHsgUmVuZGVyYWJsZUdDU3lzdGVtIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZW5kZXJhYmxlR0NTeXN0ZW0ubWpzLm1hcFxuIiwiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSB9IGZyb20gJy4uLy4uLy4uLy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNvbnN0IF9UZXh0dXJlR0NTeXN0ZW0gPSBjbGFzcyBfVGV4dHVyZUdDU3lzdGVtIHtcbiAgLyoqIEBwYXJhbSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIFN5c3RlbSB3b3JrcyBmb3IuICovXG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLmNvdW50ID0gMDtcbiAgICB0aGlzLmNoZWNrQ291bnQgPSAwO1xuICB9XG4gIGluaXQob3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSB7IC4uLl9UZXh0dXJlR0NTeXN0ZW0uZGVmYXVsdE9wdGlvbnMsIC4uLm9wdGlvbnMgfTtcbiAgICB0aGlzLmNoZWNrQ291bnRNYXggPSBvcHRpb25zLnRleHR1cmVHQ0NoZWNrQ291bnRNYXg7XG4gICAgdGhpcy5tYXhJZGxlID0gb3B0aW9ucy50ZXh0dXJlR0NBTWF4SWRsZSA/PyBvcHRpb25zLnRleHR1cmVHQ01heElkbGU7XG4gICAgdGhpcy5hY3RpdmUgPSBvcHRpb25zLnRleHR1cmVHQ0FjdGl2ZTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2tzIHRvIHNlZSB3aGVuIHRoZSBsYXN0IHRpbWUgYSB0ZXh0dXJlIHdhcyB1c2VkLlxuICAgKiBJZiB0aGUgdGV4dHVyZSBoYXMgbm90IGJlZW4gdXNlZCBmb3IgYSBzcGVjaWZpZWQgYW1vdW50IG9mIHRpbWUsIGl0IHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBHUFUuXG4gICAqL1xuICBwb3N0cmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5fcmVuZGVyZXIucmVuZGVyaW5nVG9TY3JlZW4pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5jb3VudCsrO1xuICAgIGlmICghdGhpcy5hY3RpdmUpXG4gICAgICByZXR1cm47XG4gICAgdGhpcy5jaGVja0NvdW50Kys7XG4gICAgaWYgKHRoaXMuY2hlY2tDb3VudCA+IHRoaXMuY2hlY2tDb3VudE1heCkge1xuICAgICAgdGhpcy5jaGVja0NvdW50ID0gMDtcbiAgICAgIHRoaXMucnVuKCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDaGVja3MgdG8gc2VlIHdoZW4gdGhlIGxhc3QgdGltZSBhIHRleHR1cmUgd2FzIHVzZWQuXG4gICAqIElmIHRoZSB0ZXh0dXJlIGhhcyBub3QgYmVlbiB1c2VkIGZvciBhIHNwZWNpZmllZCBhbW91bnQgb2YgdGltZSwgaXQgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIEdQVS5cbiAgICovXG4gIHJ1bigpIHtcbiAgICBjb25zdCBtYW5hZ2VkVGV4dHVyZXMgPSB0aGlzLl9yZW5kZXJlci50ZXh0dXJlLm1hbmFnZWRUZXh0dXJlcztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1hbmFnZWRUZXh0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgdGV4dHVyZSA9IG1hbmFnZWRUZXh0dXJlc1tpXTtcbiAgICAgIGlmICh0ZXh0dXJlLmF1dG9HYXJiYWdlQ29sbGVjdCAmJiB0ZXh0dXJlLnJlc291cmNlICYmIHRleHR1cmUuX3RvdWNoZWQgPiAtMSAmJiB0aGlzLmNvdW50IC0gdGV4dHVyZS5fdG91Y2hlZCA+IHRoaXMubWF4SWRsZSkge1xuICAgICAgICB0ZXh0dXJlLl90b3VjaGVkID0gLTE7XG4gICAgICAgIHRleHR1cmUudW5sb2FkKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSBudWxsO1xuICB9XG59O1xuLyoqIEBpZ25vcmUgKi9cbl9UZXh0dXJlR0NTeXN0ZW0uZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHTFN5c3RlbSxcbiAgICBFeHRlbnNpb25UeXBlLldlYkdQVVN5c3RlbVxuICBdLFxuICBuYW1lOiBcInRleHR1cmVHQ1wiXG59O1xuLyoqIGRlZmF1bHQgb3B0aW9ucyBmb3IgdGhlIFRleHR1cmVHQ1N5c3RlbSAqL1xuX1RleHR1cmVHQ1N5c3RlbS5kZWZhdWx0T3B0aW9ucyA9IHtcbiAgLyoqXG4gICAqIElmIHNldCB0byB0cnVlLCB0aGlzIHdpbGwgZW5hYmxlIHRoZSBnYXJiYWdlIGNvbGxlY3RvciBvbiB0aGUgR1BVLlxuICAgKiBAZGVmYXVsdCB0cnVlXG4gICAqL1xuICB0ZXh0dXJlR0NBY3RpdmU6IHRydWUsXG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA4LjMuMFxuICAgKiBAc2VlIHtAbGluayBUZXh0dXJlR0NTeXN0ZW0udGV4dHVyZUdDTWF4SWRsZX1cbiAgICovXG4gIHRleHR1cmVHQ0FNYXhJZGxlOiBudWxsLFxuICAvKipcbiAgICogVGhlIG1heGltdW0gaWRsZSBmcmFtZXMgYmVmb3JlIGEgdGV4dHVyZSBpcyBkZXN0cm95ZWQgYnkgZ2FyYmFnZSBjb2xsZWN0aW9uLlxuICAgKiBAZGVmYXVsdCA2MCAqIDYwXG4gICAqL1xuICB0ZXh0dXJlR0NNYXhJZGxlOiA2MCAqIDYwLFxuICAvKipcbiAgICogRnJhbWVzIGJldHdlZW4gdHdvIGdhcmJhZ2UgY29sbGVjdGlvbnMuXG4gICAqIEBkZWZhdWx0IDYwMFxuICAgKi9cbiAgdGV4dHVyZUdDQ2hlY2tDb3VudE1heDogNjAwXG59O1xubGV0IFRleHR1cmVHQ1N5c3RlbSA9IF9UZXh0dXJlR0NTeXN0ZW07XG5cbmV4cG9ydCB7IFRleHR1cmVHQ1N5c3RlbSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGV4dHVyZUdDU3lzdGVtLm1qcy5tYXBcbiIsImltcG9ydCB7IERPTUFkYXB0ZXIgfSBmcm9tICcuLi8uLi8uLi8uLi9lbnZpcm9ubWVudC9hZGFwdGVyLm1qcyc7XG5pbXBvcnQgeyBFeHRlbnNpb25UeXBlIH0gZnJvbSAnLi4vLi4vLi4vLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tICcuLi8uLi8uLi8uLi9tYXRocy9zaGFwZXMvUmVjdGFuZ2xlLm1qcyc7XG5pbXBvcnQgeyBkZXByZWNhdGlvbiwgdjhfMF8wIH0gZnJvbSAnLi4vLi4vLi4vLi4vdXRpbHMvbG9nZ2luZy9kZXByZWNhdGlvbi5tanMnO1xuaW1wb3J0IHsgUmVuZGVyVGFyZ2V0IH0gZnJvbSAnLi4vcmVuZGVyVGFyZ2V0L1JlbmRlclRhcmdldC5tanMnO1xuaW1wb3J0IHsgZ2V0Q2FudmFzVGV4dHVyZSB9IGZyb20gJy4uL3RleHR1cmUvdXRpbHMvZ2V0Q2FudmFzVGV4dHVyZS5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNvbnN0IF9WaWV3U3lzdGVtID0gY2xhc3MgX1ZpZXdTeXN0ZW0ge1xuICAvKipcbiAgICogV2hldGhlciBDU1MgZGltZW5zaW9ucyBvZiBjYW52YXMgdmlldyBzaG91bGQgYmUgcmVzaXplZCB0byBzY3JlZW4gZGltZW5zaW9ucyBhdXRvbWF0aWNhbGx5LlxuICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgKi9cbiAgZ2V0IGF1dG9EZW5zaXR5KCkge1xuICAgIHJldHVybiB0aGlzLnRleHR1cmUuc291cmNlLmF1dG9EZW5zaXR5O1xuICB9XG4gIHNldCBhdXRvRGVuc2l0eSh2YWx1ZSkge1xuICAgIHRoaXMudGV4dHVyZS5zb3VyY2UuYXV0b0RlbnNpdHkgPSB2YWx1ZTtcbiAgfVxuICAvKiogVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHJlbmRlcmVyLiAqL1xuICBnZXQgcmVzb2x1dGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50ZXh0dXJlLnNvdXJjZS5fcmVzb2x1dGlvbjtcbiAgfVxuICBzZXQgcmVzb2x1dGlvbih2YWx1ZSkge1xuICAgIHRoaXMudGV4dHVyZS5zb3VyY2UucmVzaXplKFxuICAgICAgdGhpcy50ZXh0dXJlLnNvdXJjZS53aWR0aCxcbiAgICAgIHRoaXMudGV4dHVyZS5zb3VyY2UuaGVpZ2h0LFxuICAgICAgdmFsdWVcbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBpbml0aWF0ZXMgdGhlIHZpZXcgc3lzdGVtXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gdGhlIG9wdGlvbnMgZm9yIHRoZSB2aWV3XG4gICAqL1xuICBpbml0KG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0ge1xuICAgICAgLi4uX1ZpZXdTeXN0ZW0uZGVmYXVsdE9wdGlvbnMsXG4gICAgICAuLi5vcHRpb25zXG4gICAgfTtcbiAgICBpZiAob3B0aW9ucy52aWV3KSB7XG4gICAgICBkZXByZWNhdGlvbih2OF8wXzAsIFwiVmlld1N5c3RlbS52aWV3IGhhcyBiZWVuIHJlbmFtZWQgdG8gVmlld1N5c3RlbS5jYW52YXNcIik7XG4gICAgICBvcHRpb25zLmNhbnZhcyA9IG9wdGlvbnMudmlldztcbiAgICB9XG4gICAgdGhpcy5zY3JlZW4gPSBuZXcgUmVjdGFuZ2xlKDAsIDAsIG9wdGlvbnMud2lkdGgsIG9wdGlvbnMuaGVpZ2h0KTtcbiAgICB0aGlzLmNhbnZhcyA9IG9wdGlvbnMuY2FudmFzIHx8IERPTUFkYXB0ZXIuZ2V0KCkuY3JlYXRlQ2FudmFzKCk7XG4gICAgdGhpcy5hbnRpYWxpYXMgPSAhIW9wdGlvbnMuYW50aWFsaWFzO1xuICAgIHRoaXMudGV4dHVyZSA9IGdldENhbnZhc1RleHR1cmUodGhpcy5jYW52YXMsIG9wdGlvbnMpO1xuICAgIHRoaXMucmVuZGVyVGFyZ2V0ID0gbmV3IFJlbmRlclRhcmdldCh7XG4gICAgICBjb2xvclRleHR1cmVzOiBbdGhpcy50ZXh0dXJlXSxcbiAgICAgIGRlcHRoOiAhIW9wdGlvbnMuZGVwdGgsXG4gICAgICBpc1Jvb3Q6IHRydWVcbiAgICB9KTtcbiAgICB0aGlzLnRleHR1cmUuc291cmNlLnRyYW5zcGFyZW50ID0gb3B0aW9ucy5iYWNrZ3JvdW5kQWxwaGEgPCAxO1xuICAgIHRoaXMucmVzb2x1dGlvbiA9IG9wdGlvbnMucmVzb2x1dGlvbjtcbiAgfVxuICAvKipcbiAgICogUmVzaXplcyB0aGUgc2NyZWVuIGFuZCBjYW52YXMgdG8gdGhlIHNwZWNpZmllZCBkaW1lbnNpb25zLlxuICAgKiBAcGFyYW0gZGVzaXJlZFNjcmVlbldpZHRoIC0gVGhlIG5ldyB3aWR0aCBvZiB0aGUgc2NyZWVuLlxuICAgKiBAcGFyYW0gZGVzaXJlZFNjcmVlbkhlaWdodCAtIFRoZSBuZXcgaGVpZ2h0IG9mIHRoZSBzY3JlZW4uXG4gICAqIEBwYXJhbSByZXNvbHV0aW9uXG4gICAqL1xuICByZXNpemUoZGVzaXJlZFNjcmVlbldpZHRoLCBkZXNpcmVkU2NyZWVuSGVpZ2h0LCByZXNvbHV0aW9uKSB7XG4gICAgdGhpcy50ZXh0dXJlLnNvdXJjZS5yZXNpemUoZGVzaXJlZFNjcmVlbldpZHRoLCBkZXNpcmVkU2NyZWVuSGVpZ2h0LCByZXNvbHV0aW9uKTtcbiAgICB0aGlzLnNjcmVlbi53aWR0aCA9IHRoaXMudGV4dHVyZS5mcmFtZS53aWR0aDtcbiAgICB0aGlzLnNjcmVlbi5oZWlnaHQgPSB0aGlzLnRleHR1cmUuZnJhbWUuaGVpZ2h0O1xuICB9XG4gIC8qKlxuICAgKiBEZXN0cm95cyB0aGlzIFN5c3RlbSBhbmQgb3B0aW9uYWxseSByZW1vdmVzIHRoZSBjYW52YXMgZnJvbSB0aGUgZG9tLlxuICAgKiBAcGFyYW0ge29wdGlvbnMgfCBmYWxzZX0gb3B0aW9ucyAtIFRoZSBvcHRpb25zIGZvciBkZXN0cm95aW5nIHRoZSB2aWV3LCBvciBcImZhbHNlXCIuXG4gICAqIEBwYXJhbSBvcHRpb25zLnJlbW92ZVZpZXcgLSBXaGV0aGVyIHRvIHJlbW92ZSB0aGUgdmlldyBlbGVtZW50IGZyb20gdGhlIERPTS4gRGVmYXVsdHMgdG8gYGZhbHNlYC5cbiAgICovXG4gIGRlc3Ryb3kob3B0aW9ucyA9IGZhbHNlKSB7XG4gICAgY29uc3QgcmVtb3ZlVmlldyA9IHR5cGVvZiBvcHRpb25zID09PSBcImJvb2xlYW5cIiA/IG9wdGlvbnMgOiAhIW9wdGlvbnM/LnJlbW92ZVZpZXc7XG4gICAgaWYgKHJlbW92ZVZpZXcgJiYgdGhpcy5jYW52YXMucGFyZW50Tm9kZSkge1xuICAgICAgdGhpcy5jYW52YXMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmNhbnZhcyk7XG4gICAgfVxuICB9XG59O1xuLyoqIEBpZ25vcmUgKi9cbl9WaWV3U3lzdGVtLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogW1xuICAgIEV4dGVuc2lvblR5cGUuV2ViR0xTeXN0ZW0sXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHUFVTeXN0ZW0sXG4gICAgRXh0ZW5zaW9uVHlwZS5DYW52YXNTeXN0ZW1cbiAgXSxcbiAgbmFtZTogXCJ2aWV3XCIsXG4gIHByaW9yaXR5OiAwXG59O1xuLyoqIFRoZSBkZWZhdWx0IG9wdGlvbnMgZm9yIHRoZSB2aWV3IHN5c3RlbS4gKi9cbl9WaWV3U3lzdGVtLmRlZmF1bHRPcHRpb25zID0ge1xuICAvKipcbiAgICoge0BsaW5rIFdlYkdMT3B0aW9ucy53aWR0aH1cbiAgICogQGRlZmF1bHQgODAwXG4gICAqL1xuICB3aWR0aDogODAwLFxuICAvKipcbiAgICoge0BsaW5rIFdlYkdMT3B0aW9ucy5oZWlnaHR9XG4gICAqIEBkZWZhdWx0IDYwMFxuICAgKi9cbiAgaGVpZ2h0OiA2MDAsXG4gIC8qKlxuICAgKiB7QGxpbmsgV2ViR0xPcHRpb25zLmF1dG9EZW5zaXR5fVxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgYXV0b0RlbnNpdHk6IGZhbHNlLFxuICAvKipcbiAgICoge0BsaW5rIFdlYkdMT3B0aW9ucy5hbnRpYWxpYXN9XG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBhbnRpYWxpYXM6IGZhbHNlXG59O1xubGV0IFZpZXdTeXN0ZW0gPSBfVmlld1N5c3RlbTtcblxuZXhwb3J0IHsgVmlld1N5c3RlbSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Vmlld1N5c3RlbS5tanMubWFwXG4iLCJpbXBvcnQgeyBDdXN0b21SZW5kZXJQaXBlIH0gZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmUvY29udGFpbmVyL0N1c3RvbVJlbmRlclBpcGUubWpzJztcbmltcG9ydCB7IFJlbmRlckdyb3VwUGlwZSB9IGZyb20gJy4uLy4uLy4uLy4uL3NjZW5lL2NvbnRhaW5lci9SZW5kZXJHcm91cFBpcGUubWpzJztcbmltcG9ydCB7IFJlbmRlckdyb3VwU3lzdGVtIH0gZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmUvY29udGFpbmVyL1JlbmRlckdyb3VwU3lzdGVtLm1qcyc7XG5pbXBvcnQgeyBTcHJpdGVQaXBlIH0gZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmUvc3ByaXRlL1Nwcml0ZVBpcGUubWpzJztcbmltcG9ydCB7IFJlbmRlcmVySW5pdEhvb2sgfSBmcm9tICcuLi8uLi8uLi8uLi91dGlscy9nbG9iYWwvZ2xvYmFsSG9va3MubWpzJztcbmltcG9ydCB7IEJhdGNoZXJQaXBlIH0gZnJvbSAnLi4vLi4vLi4vYmF0Y2hlci9zaGFyZWQvQmF0Y2hlclBpcGUubWpzJztcbmltcG9ydCB7IEFscGhhTWFza1BpcGUgfSBmcm9tICcuLi8uLi8uLi9tYXNrL2FscGhhL0FscGhhTWFza1BpcGUubWpzJztcbmltcG9ydCB7IENvbG9yTWFza1BpcGUgfSBmcm9tICcuLi8uLi8uLi9tYXNrL2NvbG9yL0NvbG9yTWFza1BpcGUubWpzJztcbmltcG9ydCB7IFN0ZW5jaWxNYXNrUGlwZSB9IGZyb20gJy4uLy4uLy4uL21hc2svc3RlbmNpbC9TdGVuY2lsTWFza1BpcGUubWpzJztcbmltcG9ydCB7IEJhY2tncm91bmRTeXN0ZW0gfSBmcm9tICcuLi9iYWNrZ3JvdW5kL0JhY2tncm91bmRTeXN0ZW0ubWpzJztcbmltcG9ydCB7IEJsZW5kTW9kZVBpcGUgfSBmcm9tICcuLi9ibGVuZE1vZGVzL0JsZW5kTW9kZVBpcGUubWpzJztcbmltcG9ydCB7IEV4dHJhY3RTeXN0ZW0gfSBmcm9tICcuLi9leHRyYWN0L0V4dHJhY3RTeXN0ZW0ubWpzJztcbmltcG9ydCB7IEdlbmVyYXRlVGV4dHVyZVN5c3RlbSB9IGZyb20gJy4uL2V4dHJhY3QvR2VuZXJhdGVUZXh0dXJlU3lzdGVtLm1qcyc7XG5pbXBvcnQgeyBHbG9iYWxVbmlmb3JtU3lzdGVtIH0gZnJvbSAnLi4vcmVuZGVyVGFyZ2V0L0dsb2JhbFVuaWZvcm1TeXN0ZW0ubWpzJztcbmltcG9ydCB7IFNjaGVkdWxlclN5c3RlbSB9IGZyb20gJy4uL1NjaGVkdWxlclN5c3RlbS5tanMnO1xuaW1wb3J0IHsgSGVsbG9TeXN0ZW0gfSBmcm9tICcuLi9zdGFydHVwL0hlbGxvU3lzdGVtLm1qcyc7XG5pbXBvcnQgeyBSZW5kZXJhYmxlR0NTeXN0ZW0gfSBmcm9tICcuLi90ZXh0dXJlL1JlbmRlcmFibGVHQ1N5c3RlbS5tanMnO1xuaW1wb3J0IHsgVGV4dHVyZUdDU3lzdGVtIH0gZnJvbSAnLi4vdGV4dHVyZS9UZXh0dXJlR0NTeXN0ZW0ubWpzJztcbmltcG9ydCB7IFZpZXdTeXN0ZW0gfSBmcm9tICcuLi92aWV3L1ZpZXdTeXN0ZW0ubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBTaGFyZWRTeXN0ZW1zID0gW1xuICBCYWNrZ3JvdW5kU3lzdGVtLFxuICBHbG9iYWxVbmlmb3JtU3lzdGVtLFxuICBIZWxsb1N5c3RlbSxcbiAgVmlld1N5c3RlbSxcbiAgUmVuZGVyR3JvdXBTeXN0ZW0sXG4gIFRleHR1cmVHQ1N5c3RlbSxcbiAgR2VuZXJhdGVUZXh0dXJlU3lzdGVtLFxuICBFeHRyYWN0U3lzdGVtLFxuICBSZW5kZXJlckluaXRIb29rLFxuICBSZW5kZXJhYmxlR0NTeXN0ZW0sXG4gIFNjaGVkdWxlclN5c3RlbVxuXTtcbmNvbnN0IFNoYXJlZFJlbmRlclBpcGVzID0gW1xuICBCbGVuZE1vZGVQaXBlLFxuICBCYXRjaGVyUGlwZSxcbiAgU3ByaXRlUGlwZSxcbiAgUmVuZGVyR3JvdXBQaXBlLFxuICBBbHBoYU1hc2tQaXBlLFxuICBTdGVuY2lsTWFza1BpcGUsXG4gIENvbG9yTWFza1BpcGUsXG4gIEN1c3RvbVJlbmRlclBpcGVcbl07XG5cbmV4cG9ydCB7IFNoYXJlZFJlbmRlclBpcGVzLCBTaGFyZWRTeXN0ZW1zIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TaGFyZWRTeXN0ZW1zLm1qcy5tYXBcbiIsImltcG9ydCB7IENhbnZhc1NvdXJjZSB9IGZyb20gJy4uL3NvdXJjZXMvQ2FudmFzU291cmNlLm1qcyc7XG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnLi4vVGV4dHVyZS5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNvbnN0IGNhbnZhc0NhY2hlID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbmZ1bmN0aW9uIGdldENhbnZhc1RleHR1cmUoY2FudmFzLCBvcHRpb25zKSB7XG4gIGlmICghY2FudmFzQ2FjaGUuaGFzKGNhbnZhcykpIHtcbiAgICBjb25zdCB0ZXh0dXJlID0gbmV3IFRleHR1cmUoe1xuICAgICAgc291cmNlOiBuZXcgQ2FudmFzU291cmNlKHtcbiAgICAgICAgcmVzb3VyY2U6IGNhbnZhcyxcbiAgICAgICAgLi4ub3B0aW9uc1xuICAgICAgfSlcbiAgICB9KTtcbiAgICBjb25zdCBvbkRlc3Ryb3kgPSAoKSA9PiB7XG4gICAgICBpZiAoY2FudmFzQ2FjaGUuZ2V0KGNhbnZhcykgPT09IHRleHR1cmUpIHtcbiAgICAgICAgY2FudmFzQ2FjaGUuZGVsZXRlKGNhbnZhcyk7XG4gICAgICB9XG4gICAgfTtcbiAgICB0ZXh0dXJlLm9uY2UoXCJkZXN0cm95XCIsIG9uRGVzdHJveSk7XG4gICAgdGV4dHVyZS5zb3VyY2Uub25jZShcImRlc3Ryb3lcIiwgb25EZXN0cm95KTtcbiAgICBjYW52YXNDYWNoZS5zZXQoY2FudmFzLCB0ZXh0dXJlKTtcbiAgfVxuICByZXR1cm4gY2FudmFzQ2FjaGUuZ2V0KGNhbnZhcyk7XG59XG5mdW5jdGlvbiBoYXNDYWNoZWRDYW52YXNUZXh0dXJlKGNhbnZhcykge1xuICByZXR1cm4gY2FudmFzQ2FjaGUuaGFzKGNhbnZhcyk7XG59XG5cbmV4cG9ydCB7IGdldENhbnZhc1RleHR1cmUsIGhhc0NhY2hlZENhbnZhc1RleHR1cmUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldENhbnZhc1RleHR1cmUubWpzLm1hcFxuIl0sIm5hbWVzIjpbInRleHR1cmVCaXQiLCJuYW1lIiwidmVydGV4IiwiaGVhZGVyIiwibWFpbiIsImZyYWdtZW50IiwidGV4dHVyZUJpdEdsIiwiZW5zdXJlQXR0cmlidXRlcyIsImdlb21ldHJ5IiwiZXh0cmFjdGVkRGF0YSIsImkiLCJhdHRyaWJ1dGVzIiwiYXR0cmlidXRlIiwiYXR0cmlidXRlRGF0YSIsImZvcm1hdCIsIm9mZnNldCIsImluc3RhbmNlIiwiYnVmZmVycyIsInRlbXBTdHJpZGUiLCJ0ZW1wU3RhcnQiLCJqIiwiYnVmZmVyIiwidWlkIiwic3RyaWRlIiwic3RhcnQiLCJlbnN1cmVTdGFydEFuZFN0cmlkZSIsIkdwdVN0ZW5jaWxNb2Rlc1RvUGl4aSIsIk5PTkUiLCJESVNBQkxFRCIsInN0ZW5jaWxXcml0ZU1hc2siLCJzdGVuY2lsUmVhZE1hc2siLCJSRU5ERVJJTkdfTUFTS19BREQiLCJzdGVuY2lsRnJvbnQiLCJjb21wYXJlIiwicGFzc09wIiwic3RlbmNpbEJhY2siLCJSRU5ERVJJTkdfTUFTS19SRU1PVkUiLCJNQVNLX0FDVElWRSIsIklOVkVSU0VfTUFTS19BQ1RJVkUiLCJCdWZmZXJSZXNvdXJjZSIsImNvbnN0cnVjdG9yIiwic2l6ZSIsInN1cGVyIiwidGhpcyIsIl9yZXNvdXJjZVR5cGUiLCJfdG91Y2hlZCIsIl9yZXNvdXJjZUlkIiwiX2J1ZmZlclJlc291cmNlIiwiZGVzdHJveWVkIiwib24iLCJvbkJ1ZmZlckNoYW5nZSIsImVtaXQiLCJkZXN0cm95IiwiZGVzdHJveUJ1ZmZlciIsIl9SZW5kZXJUYXJnZXQiLCJkZXNjcmlwdG9yIiwiY29sb3JUZXh0dXJlcyIsImRpcnR5SWQiLCJpc1Jvb3QiLCJfc2l6ZSIsIkZsb2F0MzJBcnJheSIsIl9tYW5hZ2VkQ29sb3JUZXh0dXJlcyIsImRlZmF1bHRPcHRpb25zIiwic3RlbmNpbCIsImRlcHRoIiwicHVzaCIsIndpZHRoIiwiaGVpZ2h0IiwicmVzb2x1dGlvbiIsImFudGlhbGlhcyIsIm1hcCIsInRleHR1cmUiLCJzb3VyY2UiLCJjb2xvclNvdXJjZSIsImNvbG9yVGV4dHVyZSIsInJlc2l6ZSIsIl9yZXNvbHV0aW9uIiwib25Tb3VyY2VSZXNpemUiLCJkZXB0aFN0ZW5jaWxUZXh0dXJlIiwiZW5zdXJlRGVwdGhTdGVuY2lsVGV4dHVyZSIsInBpeGVsV2lkdGgiLCJwaXhlbEhlaWdodCIsImF1dG9HZW5lcmF0ZU1pcG1hcHMiLCJtaXBMZXZlbENvdW50Iiwic2tpcENvbG9yVGV4dHVyZSIsImZvckVhY2giLCJvZmYiLCJSZW5kZXJUYXJnZXQiLCJSZW5kZXJUYXJnZXRTeXN0ZW0iLCJyZW5kZXJlciIsInJvb3RWaWV3UG9ydCIsIlJlY3RhbmdsZSIsInZpZXdwb3J0Iiwib25SZW5kZXJUYXJnZXRDaGFuZ2UiLCJTeXN0ZW1SdW5uZXIiLCJwcm9qZWN0aW9uTWF0cml4IiwiTWF0cml4IiwiZGVmYXVsdENsZWFyQ29sb3IiLCJfcmVuZGVyU3VyZmFjZVRvUmVuZGVyVGFyZ2V0SGFzaCIsIk1hcCIsIl9ncHVSZW5kZXJUYXJnZXRIYXNoIiwiT2JqZWN0IiwiY3JlYXRlIiwiX3JlbmRlclRhcmdldFN0YWNrIiwiX3JlbmRlcmVyIiwicmVuZGVyYWJsZUdDIiwiYWRkTWFuYWdlZEhhc2giLCJmaW5pc2hSZW5kZXJQYXNzIiwiYWRhcHRvciIsInJlbmRlclRhcmdldCIsInJlbmRlclN0YXJ0IiwidGFyZ2V0IiwiY2xlYXIiLCJjbGVhckNvbG9yIiwiZnJhbWUiLCJsZW5ndGgiLCJjb3B5RnJvbSIsInJvb3RSZW5kZXJUYXJnZXQiLCJyZW5kZXJpbmdUb1NjcmVlbiIsInJlc291cmNlIiwiZ2xvYmFsVGhpcyIsIkhUTUxDYW52YXNFbGVtZW50IiwiZG9jdW1lbnQiLCJib2R5IiwiY29udGFpbnMiLCJpc1JlbmRlcmluZ1RvU2NyZWVuIiwicHJlcmVuZGVyIiwicG9zdHJlbmRlciIsImJpbmQiLCJyZW5kZXJTdXJmYWNlIiwiZ2V0UmVuZGVyVGFyZ2V0IiwiZGlkQ2hhbmdlIiwiZ3B1UmVuZGVyVGFyZ2V0IiwiZ2V0R3B1UmVuZGVyVGFyZ2V0IiwicmVzaXplR3B1UmVuZGVyVGFyZ2V0IiwiVGV4dHVyZSIsIngiLCJ5IiwicG0iLCJmbGlwWSIsInNpZ24iLCJpZGVudGl0eSIsImEiLCJkIiwidHgiLCJ0eSIsImNhbGN1bGF0ZVByb2plY3Rpb24iLCJzdGFydFJlbmRlclBhc3MiLCJBTEwiLCJjb250ZXh0Q2hhbmdlIiwicG9wIiwiY3VycmVudFJlbmRlclRhcmdldERhdGEiLCJpc1RleHR1cmUiLCJnZXQiLCJfaW5pdFJlbmRlclRhcmdldCIsImNvcHlUb1RleHR1cmUiLCJzb3VyY2VSZW5kZXJTdXJmYWNlVGV4dHVyZSIsImRlc3RpbmF0aW9uVGV4dHVyZSIsIm9yaWdpblNyYyIsIm9yaWdpbkRlc3QiLCJNYXRoIiwibWluIiwiZW5zdXJlRGVwdGhTdGVuY2lsIiwia2V5IiwiQ2FudmFzU291cmNlIiwidGVzdCIsImdldENhbnZhc1RleHR1cmUiLCJUZXh0dXJlU291cmNlIiwib25jZSIsImRlbGV0ZSIsImRlc3Ryb3lHcHVSZW5kZXJUYXJnZXQiLCJzZXQiLCJpbml0R3B1UmVuZGVyVGFyZ2V0IiwiVWJvU3lzdGVtIiwiX3N5bmNGdW5jdGlvbkhhc2giLCJfYWRhcHRvciIsIl9zeXN0ZW1DaGVjayIsIkVycm9yIiwiZW5zdXJlVW5pZm9ybUdyb3VwIiwidW5pZm9ybUdyb3VwIiwidW5pZm9ybURhdGEiLCJnZXRVbmlmb3JtR3JvdXBEYXRhIiwiZGF0YSIsImxheW91dCIsInVzYWdlIiwiVU5JRk9STSIsIkNPUFlfRFNUIiwiX3NpZ25hdHVyZSIsIl9pbml0VW5pZm9ybUdyb3VwIiwidW5pZm9ybUdyb3VwU2lnbmF0dXJlIiwiZWxlbWVudHMiLCJrZXlzIiwidW5pZm9ybVN0cnVjdHVyZXMiLCJjcmVhdGVVYm9FbGVtZW50cyIsInN5bmNGdW5jdGlvbiIsIl9nZW5lcmF0ZVVib1N5bmMiLCJ1Ym9FbGVtZW50cyIsImdlbmVyYXRlVWJvU3luYyIsInN5bmNVbmlmb3JtR3JvdXAiLCJ1bmlmb3JtR3JvdXBEYXRhIiwiZGF0YUludDMyIiwidW5pZm9ybXMiLCJ1cGRhdGVVbmlmb3JtR3JvdXAiLCJpc1N0YXRpYyIsIl9kaXJ0eUlkIiwic3luY2VkIiwidXBkYXRlIiwiY3JlYXRlVWJvU3luY0Z1bmN0aW9uIiwicGFyc2VyQ29kZSIsImFycmF5R2VuZXJhdGlvbkZ1bmN0aW9uIiwic2luZ2xlU2V0dGVyc01hcCIsImZ1bmNGcmFnbWVudHMiLCJwcmV2IiwidWJvRWxlbWVudCIsInBhcnNlZCIsInVibyIsInRlbXBsYXRlIiwidHlwZSIsImZyYWdtZW50U3JjIiwiam9pbiIsIkZ1bmN0aW9uIiwibG9vcE1hdHJpeCIsImNvbCIsInJvdyIsInVib1N5bmNGdW5jdGlvbnNTVEQ0MCIsImYzMiIsImkzMiIsInVib1N5bmNGdW5jdGlvbnNXR1NMIiwidW5pZm9ybVBhcnNlcnMiLCJ2YWx1ZSIsInVuaWZvcm0iLCJyZWQiLCJDdXN0b21SZW5kZXJQaXBlIiwidXBkYXRlUmVuZGVyYWJsZSIsImRlc3Ryb3lSZW5kZXJhYmxlIiwidmFsaWRhdGVSZW5kZXJhYmxlIiwiYWRkUmVuZGVyYWJsZSIsImNvbnRhaW5lciIsImluc3RydWN0aW9uU2V0IiwicmVuZGVyUGlwZXMiLCJiYXRjaCIsImJyZWFrIiwiYWRkIiwiZXhlY3V0ZSIsImlzUmVuZGVyYWJsZSIsInJlbmRlciIsImV4dGVuc2lvbiIsIldlYkdMUGlwZXMiLCJXZWJHUFVQaXBlcyIsIkNhbnZhc1BpcGVzIiwiZXhlY3V0ZUluc3RydWN0aW9ucyIsInJlbmRlckdyb3VwIiwiaW5zdHJ1Y3Rpb25zIiwiaW5zdHJ1Y3Rpb25TaXplIiwiaW5zdHJ1Y3Rpb24iLCJyZW5kZXJQaXBlSWQiLCJ0ZW1wTWF0cml4IiwiUmVuZGVyR3JvdXBQaXBlIiwiYWRkUmVuZGVyR3JvdXAiLCJpc0NhY2hlZEFzVGV4dHVyZSIsIl9hZGRSZW5kZXJhYmxlQ2FjaGVBc1RleHR1cmUiLCJfYWRkUmVuZGVyYWJsZURpcmVjdCIsIl9leGVjdXRlQ2FjaGVBc1RleHR1cmUiLCJfZXhlY3V0ZURpcmVjdCIsIl9iYXRjaGFibGVSZW5kZXJHcm91cCIsInJldHVybiIsImJhdGNoYWJsZVJlbmRlckdyb3VwIiwiQmF0Y2hhYmxlU3ByaXRlIiwicmVuZGVyYWJsZSIsInJvb3QiLCJ0cmFuc2Zvcm0iLCJyZWxhdGl2ZUdyb3VwVHJhbnNmb3JtIiwiYm91bmRzIiwiX3RleHR1cmVCb3VuZHMiLCJhZGRUb0JhdGNoIiwidGV4dHVyZU5lZWRzVXBkYXRlIiwid29ybGRUcmFuc2Zvcm1NYXRyaXgiLCJ0cmFuc2xhdGUiLCJnbG9iYWxVbmlmb3JtcyIsIndvcmxkQ29sb3IiLCJfYmF0Y2hlciIsInVwZGF0ZUVsZW1lbnQiLCJpbnZlcnNlUGFyZW50VGV4dHVyZVRyYW5zZm9ybSIsIndvcmxkQ29sb3JBbHBoYSIsImNvbGxlY3RBbGxSZW5kZXJhYmxlcyIsInJlbmRlcmVyT3JQaXBlcyIsImdsb2JhbERpc3BsYXlTdGF0dXMiLCJpbmNsdWRlSW5CdWlsZCIsInNvcnRhYmxlQ2hpbGRyZW4iLCJzb3J0Q2hpbGRyZW4iLCJpc1NpbXBsZSIsImJsZW5kTW9kZSIsInNldEJsZW5kTW9kZSIsImdyb3VwQmxlbmRNb2RlIiwiZGlkVmlld1VwZGF0ZSIsImNoaWxkcmVuIiwiY29sbGVjdEFsbFJlbmRlcmFibGVzU2ltcGxlIiwiY29sbGVjdEFsbFJlbmRlcmFibGVzQWR2YW5jZWQiLCJlZmZlY3RzIiwiZWZmZWN0IiwicGlwZSIsImNsZWFyTGlzdCIsImxpc3QiLCJpbmRleCIsInRlbXBDb250YWluZXIiLCJDb250YWluZXIiLCJVUERBVEVfQkxFTkRfQ09MT1JfVklTSUJMRSIsInVwZGF0ZVJlbmRlckdyb3VwVHJhbnNmb3JtcyIsInVwZGF0ZUNoaWxkUmVuZGVyR3JvdXBzIiwid29ybGRBbHBoYSIsInJlbmRlckdyb3VwUGFyZW50Iiwid29ybGRUcmFuc2Zvcm0iLCJhcHBlbmRGcm9tIiwibXVsdGlwbHlDb2xvcnMiLCJncm91cENvbG9yIiwiZ3JvdXBBbHBoYSIsImxvY2FsVHJhbnNmb3JtIiwibG9jYWxDb2xvciIsImxvY2FsQWxwaGEiLCJ1cGRhdGVSZW5kZXJHcm91cFRyYW5zZm9ybSIsImNoaWxkcmVuVG9VcGRhdGUiLCJ1cGRhdGVUaWNrIiwicmVuZGVyR3JvdXBEZXB0aCIsIk51bWJlciIsImNoaWxkcmVuQXREZXB0aCIsImNoaWxkIiwicGFyZW50UmVuZGVyR3JvdXAiLCJyZWxhdGl2ZVJlbmRlckdyb3VwRGVwdGgiLCJ1cGRhdGVUcmFuc2Zvcm1BbmRDaGlsZHJlbiIsInJlbmRlckdyb3VwQ2hpbGRyZW4iLCJ1cGRhdGVGbGFncyIsInVwZGF0ZUxvY2FsVHJhbnNmb3JtIiwicGFyZW50IiwiX3VwZGF0ZUZsYWdzIiwidXBkYXRlQ29sb3JCbGVuZFZpc2liaWxpdHkiLCJzdHJ1Y3R1cmVEaWRDaGFuZ2UiLCJncm91cENvbG9yQWxwaGEiLCJsb2NhbEJsZW5kTW9kZSIsImxvY2FsRGlzcGxheVN0YXR1cyIsIlJlbmRlckdyb3VwU3lzdGVtIiwib3JpZ2luYWxMb2NhbFRyYW5zZm9ybSIsIl91cGRhdGVDYWNoZWRSZW5kZXJHcm91cHMiLCJfdXBkYXRlUmVuZGVyR3JvdXBzIiwidW5pZm9ybUJhdGNoIiwicmVuZGVyRW5kIiwiY2xvc2VzdENhY2hlQXNUZXh0dXJlIiwidXBkYXRlQ2FjaGVUZXh0dXJlIiwiX3BhcmVudENhY2hlQXNUZXh0dXJlUmVuZGVyR3JvdXAiLCJpbnZhbGlkYXRlTWF0cmljZXMiLCJnZXRMb2NhbEJvdW5kcyIsImNlaWwiLCJsYXN0VGV4dHVyZSIsIlRleHR1cmVQb29sIiwicmV0dXJuVGV4dHVyZSIsInRleHR1cmVPcHRpb25zIiwidmlldyIsImdldE9wdGltYWxUZXh0dXJlIiwiQm91bmRzIiwicnVuT25SZW5kZXIiLCJjaGlsZHJlblJlbmRlcmFibGVzVG9VcGRhdGUiLCJyZWJ1aWxkUmVxdWlyZWQiLCJ2YWxpZGF0ZVJlbmRlcmFibGVzIiwicmVzZXQiLCJidWlsZFN0YXJ0IiwiY29sb3JNYXNrIiwiYnVpbGRFbmQiLCJidWlsZEluc3RydWN0aW9ucyIsIl91cGRhdGVSZW5kZXJhYmxlcyIsInVwbG9hZCIsIldlYkdMU3lzdGVtIiwiV2ViR1BVU3lzdGVtIiwiQ2FudmFzU3lzdGVtIiwiU3ByaXRlUGlwZSIsIl9ncHVTcHJpdGVIYXNoIiwiX2Rlc3Ryb3lSZW5kZXJhYmxlQm91bmQiLCJzcHJpdGUiLCJncHVTcHJpdGUiLCJfZ2V0R3B1U3ByaXRlIiwiX3VwZGF0ZUJhdGNoYWJsZVNwcml0ZSIsImNoZWNrQW5kVXBkYXRlVGV4dHVyZSIsIl90ZXh0dXJlIiwiYmF0Y2hhYmxlU3ByaXRlIiwidmlzdWFsQm91bmRzIiwiX2luaXRHUFVTcHJpdGUiLCJncm91cFRyYW5zZm9ybSIsInJvdW5kUGl4ZWxzIiwiX3JvdW5kUGl4ZWxzIiwiX0JhdGNoZXJQaXBlIiwic3RhdGUiLCJTdGF0ZSIsImZvcjJkIiwiX2JhdGNoZXJzQnlJbnN0cnVjdGlvblNldCIsIl9hY3RpdmVCYXRjaGVzIiwiaW5pdCIsImdldEJhdGNoZXIiLCJfYXZhaWxhYmxlQmF0Y2hlcnMiLCJiYXRjaGVycyIsImRlZmF1bHQiLCJEZWZhdWx0QmF0Y2hlciIsIl9hY3RpdmVCYXRjaCIsImJlZ2luIiwiYmF0Y2hhYmxlT2JqZWN0IiwiYmF0Y2hlck5hbWUiLCJiYXRjaGVzIiwiaW5kZXhCdWZmZXIiLCJzZXREYXRhV2l0aFNpemUiLCJpbmRleFNpemUiLCJhdHRyaWJ1dGVCdWZmZXIiLCJmbG9hdDMyVmlldyIsImF0dHJpYnV0ZVNpemUiLCJiYXRjaGVyIiwiZGlydHkiLCJhY3Rpb24iLCJzaGFkZXIiLCJCYXRjaGVyUGlwZSIsImhhbmRsZUJ5TWFwIiwiQmF0Y2hlciIsIl9GaWx0ZXIiLCJTaGFkZXIiLCJvcHRpb25zIiwiZW5hYmxlZCIsIl9zdGF0ZSIsInBhZGRpbmciLCJibGVuZFJlcXVpcmVkIiwiY2xpcFRvVmlld3BvcnQiLCJhZGRSZXNvdXJjZSIsImFwcGx5IiwiZmlsdGVyTWFuYWdlciIsImlucHV0Iiwib3V0cHV0IiwiY2xlYXJNb2RlIiwiYXBwbHlGaWx0ZXIiLCJmcm9tIiwiZ3B1IiwiZ2wiLCJyZXN0IiwiZ3B1UHJvZ3JhbSIsImdsUHJvZ3JhbSIsIkdwdVByb2dyYW0iLCJHbFByb2dyYW0iLCJGaWx0ZXIiLCJNYXNrRmlsdGVyIiwidGV4dHVyZU1hdHJpeCIsIlRleHR1cmVNYXRyaXgiLCJmaWx0ZXJVbmlmb3JtcyIsIlVuaWZvcm1Hcm91cCIsInVGaWx0ZXJNYXRyaXgiLCJ1TWFza0NsYW1wIiwidUNsYW1wRnJhbWUiLCJ1QWxwaGEiLCJ1SW52ZXJzZSIsImludmVyc2UiLCJlbnRyeVBvaW50IiwicmVzb3VyY2VzIiwidU1hc2tUZXh0dXJlIiwiX3RleHR1cmVNYXRyaXgiLCJjYWxjdWxhdGVTcHJpdGVNYXRyaXgiLCJwcmVwZW5kIiwibWFwQ29vcmQiLCJ0ZW1wQm91bmRzIiwiQWxwaGFNYXNrRWZmZWN0IiwiRmlsdGVyRWZmZWN0IiwiZmlsdGVycyIsIlNwcml0ZSIsIkVNUFRZIiwiQWxwaGFNYXNrUGlwZSIsIl9hY3RpdmVNYXNrU3RhZ2UiLCJtYXNrIiwibWFza2VkQ29udGFpbmVyIiwiX21hc2tPcHRpb25zIiwiY2FuQnVuZGxlIiwicmVuZGVyTWFza1RvVGV4dHVyZSIsIm1hc2tDb250YWluZXIiLCJfbWFza2VkQ29udGFpbmVyIiwicmVuZGVyTWFzayIsImZpbHRlckVmZmVjdCIsIm1lYXN1cmFibGUiLCJnZXRHbG9iYWxCb3VuZHMiLCJjb2xvclRleHR1cmVTb3VyY2UiLCJmaWx0ZXJUZXh0dXJlIiwibWluWCIsIm1pblkiLCJtYXNrRGF0YSIsIldFQkdMIiwiZmlsdGVyIiwiQ29sb3JNYXNrUGlwZSIsIl9jb2xvclN0YWNrIiwiX2NvbG9yU3RhY2tJbmRleCIsIl9jdXJyZW50Q29sb3IiLCJfY29udGFpbmVyIiwiY29sb3JTdGFjayIsImN1cnJlbnRDb2xvciIsIl9tYXNrIiwic2V0TWFzayIsIlN0ZW5jaWxNYXNrUGlwZSIsIl9tYXNrU3RhY2tIYXNoIiwiX21hc2tIYXNoIiwiV2Vha01hcCIsIl9hIiwiaGFzIiwiaW5zdHJ1Y3Rpb25zU3RhcnQiLCJpbnN0cnVjdGlvbnNMZW5ndGgiLCJyZW5kZXJUYXJnZXRVaWQiLCJtYXNrU3RhY2tJbmRleCIsInNldFN0ZW5jaWxNb2RlIiwiU1RFTkNJTCIsIl9CYWNrZ3JvdW5kU3lzdGVtIiwiY2xlYXJCZWZvcmVSZW5kZXIiLCJfYmFja2dyb3VuZENvbG9yIiwiQ29sb3IiLCJjb2xvciIsImFscGhhIiwiYmFja2dyb3VuZCIsImJhY2tncm91bmRDb2xvciIsImJhY2tncm91bmRBbHBoYSIsInNldEFscGhhIiwic2V0VmFsdWUiLCJjb2xvclJnYmEiLCJ0b0FycmF5IiwicHJpb3JpdHkiLCJCYWNrZ3JvdW5kU3lzdGVtIiwiQkxFTkRfTU9ERV9GSUxURVJTIiwiaGFuZGxlIiwiQmxlbmRNb2RlIiwicmVmIiwiQmxlbmRNb2RlUGlwZSIsIl9pc0FkdmFuY2VkIiwiX2ZpbHRlckhhc2giLCJfYWN0aXZlQmxlbmRNb2RlIiwiX2VuZEFkdmFuY2VkQmxlbmRNb2RlIiwiX2JlZ2luQWR2YW5jZWRCbGVuZE1vZGUiLCJfcmVuZGVyYWJsZUxpc3QiLCJ3YXJuIiwicmVuZGVyYWJsZXMiLCJpbWFnZVR5cGVzIiwicG5nIiwianBnIiwid2VicCIsIl9FeHRyYWN0U3lzdGVtIiwiX25vcm1hbGl6ZU9wdGlvbnMiLCJkZWZhdWx0cyIsImltYWdlIiwiSW1hZ2UiLCJzcmMiLCJiYXNlNjQiLCJkZWZhdWx0SW1hZ2VPcHRpb25zIiwicXVhbGl0eSIsImNhbnZhcyIsInRvQmxvYiIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiYmxvYiIsInJlYWRlciIsIkZpbGVSZWFkZXIiLCJvbmxvYWQiLCJyZXN1bHQiLCJvbmVycm9yIiwicmVhZEFzRGF0YVVSTCIsInRvRGF0YVVSTCIsImNvbnZlcnRUb0Jsb2IiLCJnZW5lcmF0ZUNhbnZhcyIsInRleHR1cmVHZW5lcmF0b3IiLCJnZW5lcmF0ZVRleHR1cmUiLCJwaXhlbHMiLCJwaXhlbEluZm8iLCJnZXRQaXhlbHMiLCJkb3dubG9hZCIsImxpbmsiLCJjcmVhdGVFbGVtZW50IiwiZmlsZW5hbWUiLCJocmVmIiwiYXBwZW5kQ2hpbGQiLCJjbGljayIsInJlbW92ZUNoaWxkIiwibG9nIiwiY29uc29sZSIsInN0eWxlIiwiRXh0cmFjdFN5c3RlbSIsIlJlbmRlclRleHR1cmUiLCJ0ZW1wUmVjdCIsIm5vQ29sb3IiLCJHZW5lcmF0ZVRleHR1cmVTeXN0ZW0iLCJ0ZXh0dXJlU291cmNlT3B0aW9ucyIsIkFycmF5IiwiaXNBcnJheSIsInNoYXJlZCIsInJlZ2lvbiIsImNvcHlUbyIsInJlY3RhbmdsZSIsIm1heCIsInVwZGF0ZU1pcG1hcHMiLCJHbG9iYWxVbmlmb3JtU3lzdGVtIiwiX3N0YWNrSW5kZXgiLCJfZ2xvYmFsVW5pZm9ybURhdGFTdGFjayIsIl91bmlmb3Jtc1Bvb2wiLCJfYWN0aXZlVW5pZm9ybXMiLCJfYmluZEdyb3VwUG9vbCIsIl9hY3RpdmVCaW5kR3JvdXBzIiwiY3VycmVudEdsb2JhbFVuaWZvcm1EYXRhIiwicHJvamVjdGlvbkRhdGEiLCJQb2ludCIsImdsb2JhbFVuaWZvcm1EYXRhIiwiYmluZEdyb3VwIiwiX2NyZWF0ZVVuaWZvcm1zIiwidVByb2plY3Rpb25NYXRyaXgiLCJ1UmVzb2x1dGlvbiIsInVXb3JsZFRyYW5zZm9ybU1hdHJpeCIsInVXb3JsZENvbG9yQWxwaGEiLCJnZXRVbmlmb3JtQmluZEdyb3VwIiwiQmluZEdyb3VwIiwic2V0UmVzb3VyY2UiLCJfY3VycmVudEdsb2JhbFVuaWZvcm1EYXRhIiwiU2NoZWR1bGVyU3lzdGVtIiwiX3Rhc2tzIiwiX29mZnNldCIsIlRpY2tlciIsInN5c3RlbSIsIl91cGRhdGUiLCJyZXBlYXQiLCJmdW5jIiwiZHVyYXRpb24iLCJ1c2VPZmZzZXQiLCJpZCIsInBlcmZvcm1hbmNlIiwibm93IiwibGFzdCIsImNhbmNlbCIsInNwbGljZSIsInRhc2siLCJlbGFwc2VkIiwicmVtb3ZlIiwic2FpZEhlbGxvIiwiSGVsbG9TeXN0ZW0iLCJoZWxsbyIsImNvbnRleHQiLCJ3ZWJHTFZlcnNpb24iLCJnZXROYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJ0b0xvd2VyQ2FzZSIsImluZGV4T2YiLCJhcmdzIiwic2F5SGVsbG8iLCJjbGVhbkhhc2giLCJoYXNoIiwiY2xlYW4iLCJjbGVhbkhhc2gyIiwiY2xlYW5BcnJheSIsImFyciIsInJlbmRlcmFibGVHQ1RpY2siLCJfUmVuZGVyYWJsZUdDU3lzdGVtIiwiX21hbmFnZWRSZW5kZXJhYmxlcyIsIl9tYW5hZ2VkSGFzaGVzIiwiX21hbmFnZWRBcnJheXMiLCJtYXhVbnVzZWRUaW1lIiwicmVuZGVyYWJsZUdDTWF4VW51c2VkVGltZSIsIl9mcmVxdWVuY3kiLCJyZW5kZXJhYmxlR0NGcmVxdWVuY3kiLCJyZW5kZXJhYmxlR0NBY3RpdmUiLCJfaGFuZGxlciIsInNjaGVkdWxlciIsInJ1biIsIl9oYXNoSGFuZGxlciIsIl9hcnJheUhhbmRsZXIiLCJhcnJheSIsImFkZE1hbmFnZWRBcnJheSIsIl9ub3ciLCJnY1RpY2siLCJfdXBkYXRlSW5zdHJ1Y3Rpb25HQ1RpY2siLCJfbGFzdFVzZWQiLCJfcmVtb3ZlUmVuZGVyYWJsZSIsIm1hbmFnZWRSZW5kZXJhYmxlcyIsImN1cnJlbnRUaWNrIiwicnAiLCJSZW5kZXJhYmxlR0NTeXN0ZW0iLCJfVGV4dHVyZUdDU3lzdGVtIiwiY291bnQiLCJjaGVja0NvdW50IiwiY2hlY2tDb3VudE1heCIsInRleHR1cmVHQ0NoZWNrQ291bnRNYXgiLCJtYXhJZGxlIiwidGV4dHVyZUdDQU1heElkbGUiLCJ0ZXh0dXJlR0NNYXhJZGxlIiwiYWN0aXZlIiwidGV4dHVyZUdDQWN0aXZlIiwibWFuYWdlZFRleHR1cmVzIiwiYXV0b0dhcmJhZ2VDb2xsZWN0IiwidW5sb2FkIiwiVGV4dHVyZUdDU3lzdGVtIiwiX1ZpZXdTeXN0ZW0iLCJhdXRvRGVuc2l0eSIsImRlcHJlY2F0aW9uIiwic2NyZWVuIiwiY3JlYXRlQ2FudmFzIiwidHJhbnNwYXJlbnQiLCJkZXNpcmVkU2NyZWVuV2lkdGgiLCJkZXNpcmVkU2NyZWVuSGVpZ2h0IiwicmVtb3ZlVmlldyIsInBhcmVudE5vZGUiLCJTaGFyZWRTeXN0ZW1zIiwiU2hhcmVkUmVuZGVyUGlwZXMiLCJjYW52YXNDYWNoZSIsIm9uRGVzdHJveSJdLCJzb3VyY2VSb290IjoiIn0=